import{r as i,R as Pr,j as e,z as C,_ as is}from"./index-e73c2cc9.js";/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qe(){return Qe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Qe.apply(this,arguments)}var Me;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Me||(Me={}));const ls="popstate";function Fr(t){t===void 0&&(t={});function s(r,n){let{pathname:o,search:c,hash:u}=r.location;return It("",{pathname:o,search:c,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function a(r,n){return typeof n=="string"?n:xt(n)}return Or(s,a,null,t)}function se(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Us(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Mr(){return Math.random().toString(36).substr(2,8)}function cs(t,s){return{usr:t.state,key:t.key,idx:s}}function It(t,s,a,r){return a===void 0&&(a=null),Qe({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof s=="string"?ze(s):s,{state:a,key:s&&s.key||r||Mr()})}function xt(t){let{pathname:s="/",search:a="",hash:r=""}=t;return a&&a!=="?"&&(s+=a.charAt(0)==="?"?a:"?"+a),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function ze(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substr(a),t=t.substr(0,a));let r=t.indexOf("?");r>=0&&(s.search=t.substr(r),t=t.substr(0,r)),t&&(s.pathname=t)}return s}function Or(t,s,a,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:o=!1}=r,c=n.history,u=Me.Pop,m=null,l=h();l==null&&(l=0,c.replaceState(Qe({},c.state,{idx:l}),""));function h(){return(c.state||{idx:null}).idx}function d(){u=Me.Pop;let g=h(),w=g==null?null:g-l;l=g,m&&m({action:u,location:f.location,delta:w})}function b(g,w){u=Me.Push;let S=It(f.location,g,w);a&&a(S,g),l=h()+1;let E=cs(S,l),B=f.createHref(S);try{c.pushState(E,"",B)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;n.location.assign(B)}o&&m&&m({action:u,location:f.location,delta:1})}function v(g,w){u=Me.Replace;let S=It(f.location,g,w);a&&a(S,g),l=h();let E=cs(S,l),B=f.createHref(S);c.replaceState(E,"",B),o&&m&&m({action:u,location:f.location,delta:0})}function x(g){let w=n.location.origin!=="null"?n.location.origin:n.location.href,S=typeof g=="string"?g:xt(g);return S=S.replace(/ $/,"%20"),se(w,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,w)}let f={get action(){return u},get location(){return t(n,c)},listen(g){if(m)throw new Error("A history only accepts one active listener");return n.addEventListener(ls,d),m=g,()=>{n.removeEventListener(ls,d),m=null}},createHref(g){return s(n,g)},createURL:x,encodeLocation(g){let w=x(g);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:b,replace:v,go(g){return c.go(g)}};return f}var ds;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ds||(ds={}));function Rr(t,s,a){return a===void 0&&(a="/"),Lr(t,s,a,!1)}function Lr(t,s,a,r){let n=typeof s=="string"?ze(s):s,o=Jt(n.pathname||"/",a);if(o==null)return null;let c=Hs(t);Tr(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let l=Vr(o);u=zr(c[m],l,r)}return u}function Hs(t,s,a,r){s===void 0&&(s=[]),a===void 0&&(a=[]),r===void 0&&(r="");let n=(o,c,u)=>{let m={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(se(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let l=Oe([r,m.relativePath]),h=a.concat(m);o.children&&o.children.length>0&&(se(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Hs(o.children,s,h,l)),!(o.path==null&&!o.index)&&s.push({path:l,score:Hr(l,o.index),routesMeta:h})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))n(o,c);else for(let m of qs(o.path))n(o,c,m)}),s}function qs(t){let s=t.split("/");if(s.length===0)return[];let[a,...r]=s,n=a.endsWith("?"),o=a.replace(/\?$/,"");if(r.length===0)return n?[o,""]:[o];let c=qs(r.join("/")),u=[];return u.push(...c.map(m=>m===""?o:[o,m].join("/"))),n&&u.push(...c),u.map(m=>t.startsWith("/")&&m===""?"/":m)}function Tr(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:qr(s.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}const Ir=/^:[\w-]+$/,Dr=3,Br=2,$r=1,_r=10,Ur=-2,ms=t=>t==="*";function Hr(t,s){let a=t.split("/"),r=a.length;return a.some(ms)&&(r+=Ur),s&&(r+=Br),a.filter(n=>!ms(n)).reduce((n,o)=>n+(Ir.test(o)?Dr:o===""?$r:_r),r)}function qr(t,s){return t.length===s.length&&t.slice(0,-1).every((r,n)=>r===s[n])?t[t.length-1]-s[s.length-1]:0}function zr(t,s,a){a===void 0&&(a=!1);let{routesMeta:r}=t,n={},o="/",c=[];for(let u=0;u<r.length;++u){let m=r[u],l=u===r.length-1,h=o==="/"?s:s.slice(o.length)||"/",d=us({path:m.relativePath,caseSensitive:m.caseSensitive,end:l},h),b=m.route;if(!d&&l&&a&&!r[r.length-1].route.index&&(d=us({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!d)return null;Object.assign(n,d.params),c.push({params:n,pathname:Oe([o,d.pathname]),pathnameBase:Yr(Oe([o,d.pathnameBase])),route:b}),d.pathnameBase!=="/"&&(o=Oe([o,d.pathnameBase]))}return c}function us(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=Wr(t.path,t.caseSensitive,t.end),n=s.match(a);if(!n)return null;let o=n[0],c=o.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:r.reduce((l,h,d)=>{let{paramName:b,isOptional:v}=h;if(b==="*"){let f=u[d]||"";c=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const x=u[d];return v&&!x?l[b]=void 0:l[b]=(x||"").replace(/%2F/g,"/"),l},{}),pathname:o,pathnameBase:c,pattern:t}}function Wr(t,s,a){s===void 0&&(s=!1),a===void 0&&(a=!0),Us(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),r]}function Vr(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Us(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),t}}function Jt(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}function Gr(t,s){s===void 0&&(s="/");let{pathname:a,search:r="",hash:n=""}=typeof t=="string"?ze(t):t;return{pathname:a?a.startsWith("/")?a:Jr(a,s):s,search:Kr(r),hash:Qr(n)}}function Jr(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?a.length>1&&a.pop():n!=="."&&a.push(n)}),a.length>1?a.join("/"):"/"}function Ot(t,s,a,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zr(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Zt(t,s){let a=Zr(t);return s?a.map((r,n)=>n===a.length-1?r.pathname:r.pathnameBase):a.map(r=>r.pathnameBase)}function Yt(t,s,a,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=ze(t):(n=Qe({},t),se(!n.pathname||!n.pathname.includes("?"),Ot("?","pathname","search",n)),se(!n.pathname||!n.pathname.includes("#"),Ot("#","pathname","hash",n)),se(!n.search||!n.search.includes("#"),Ot("#","search","hash",n)));let o=t===""||n.pathname==="",c=o?"/":n.pathname,u;if(c==null)u=a;else{let d=s.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),d-=1;n.pathname=b.join("/")}u=d>=0?s[d]:"/"}let m=Gr(n,u),l=c&&c!=="/"&&c.endsWith("/"),h=(o||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(l||h)&&(m.pathname+="/"),m}const Oe=t=>t.join("/").replace(/\/\/+/g,"/"),Yr=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Kr=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Qr=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Xr(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zs=["post","put","patch","delete"];new Set(zs);const ea=["get",...zs];new Set(ea);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xe(){return Xe=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Xe.apply(this,arguments)}const Kt=i.createContext(null),ta=i.createContext(null),Ie=i.createContext(null),Nt=i.createContext(null),Se=i.createContext({outlet:null,matches:[],isDataRoute:!1}),Ws=i.createContext(null);function sa(t,s){let{relative:a}=s===void 0?{}:s;We()||se(!1);let{basename:r,navigator:n}=i.useContext(Ie),{hash:o,pathname:c,search:u}=Js(t,{relative:a}),m=c;return r!=="/"&&(m=c==="/"?r:Oe([r,c])),n.createHref({pathname:m,search:u,hash:o})}function We(){return i.useContext(Nt)!=null}function De(){return We()||se(!1),i.useContext(Nt).location}function Vs(t){i.useContext(Ie).static||i.useLayoutEffect(t)}function le(){let{isDataRoute:t}=i.useContext(Se);return t?pa():ra()}function ra(){We()||se(!1);let t=i.useContext(Kt),{basename:s,future:a,navigator:r}=i.useContext(Ie),{matches:n}=i.useContext(Se),{pathname:o}=De(),c=JSON.stringify(Zt(n,a.v7_relativeSplatPath)),u=i.useRef(!1);return Vs(()=>{u.current=!0}),i.useCallback(function(l,h){if(h===void 0&&(h={}),!u.current)return;if(typeof l=="number"){r.go(l);return}let d=Yt(l,JSON.parse(c),o,h.relative==="path");t==null&&s!=="/"&&(d.pathname=d.pathname==="/"?s:Oe([s,d.pathname])),(h.replace?r.replace:r.push)(d,h.state,h)},[s,r,c,o,t])}function Gs(){let{matches:t}=i.useContext(Se),s=t[t.length-1];return s?s.params:{}}function Js(t,s){let{relative:a}=s===void 0?{}:s,{future:r}=i.useContext(Ie),{matches:n}=i.useContext(Se),{pathname:o}=De(),c=JSON.stringify(Zt(n,r.v7_relativeSplatPath));return i.useMemo(()=>Yt(t,JSON.parse(c),o,a==="path"),[t,c,o,a])}function aa(t,s){return na(t,s)}function na(t,s,a,r){We()||se(!1);let{navigator:n}=i.useContext(Ie),{matches:o}=i.useContext(Se),c=o[o.length-1],u=c?c.params:{};c&&c.pathname;let m=c?c.pathnameBase:"/";c&&c.route;let l=De(),h;if(s){var d;let g=typeof s=="string"?ze(s):s;m==="/"||(d=g.pathname)!=null&&d.startsWith(m)||se(!1),h=g}else h=l;let b=h.pathname||"/",v=b;if(m!=="/"){let g=m.replace(/^\//,"").split("/");v="/"+b.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=Rr(t,{pathname:v}),f=da(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},u,g.params),pathname:Oe([m,n.encodeLocation?n.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?m:Oe([m,n.encodeLocation?n.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,a,r);return s&&f?i.createElement(Nt.Provider,{value:{location:Xe({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Me.Pop}},f):f}function oa(){let t=xa(),s=Xr(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},s),a?i.createElement("pre",{style:n},a):null,o)}const ia=i.createElement(oa,null);class la extends i.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,a){return a.location!==s.location||a.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:a.error,location:a.location,revalidation:s.revalidation||a.revalidation}}componentDidCatch(s,a){console.error("React Router caught the following error during render",s,a)}render(){return this.state.error!==void 0?i.createElement(Se.Provider,{value:this.props.routeContext},i.createElement(Ws.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ca(t){let{routeContext:s,match:a,children:r}=t,n=i.useContext(Kt);return n&&n.static&&n.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=a.route.id),i.createElement(Se.Provider,{value:s},r)}function da(t,s,a,r){var n;if(s===void 0&&(s=[]),a===void 0&&(a=null),r===void 0&&(r=null),t==null){var o;if(!a)return null;if(a.errors)t=a.matches;else if((o=r)!=null&&o.v7_partialHydration&&s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let c=t,u=(n=a)==null?void 0:n.errors;if(u!=null){let h=c.findIndex(d=>d.route.id&&(u==null?void 0:u[d.route.id])!==void 0);h>=0||se(!1),c=c.slice(0,Math.min(c.length,h+1))}let m=!1,l=-1;if(a&&r&&r.v7_partialHydration)for(let h=0;h<c.length;h++){let d=c[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=h),d.route.id){let{loaderData:b,errors:v}=a,x=d.route.loader&&b[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||x){m=!0,l>=0?c=c.slice(0,l+1):c=[c[0]];break}}}return c.reduceRight((h,d,b)=>{let v,x=!1,f=null,g=null;a&&(v=u&&d.route.id?u[d.route.id]:void 0,f=d.route.errorElement||ia,m&&(l<0&&b===0?(ga("route-fallback",!1),x=!0,g=null):l===b&&(x=!0,g=d.route.hydrateFallbackElement||null)));let w=s.concat(c.slice(0,b+1)),S=()=>{let E;return v?E=f:x?E=g:d.route.Component?E=i.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=h,i.createElement(ca,{match:d,routeContext:{outlet:h,matches:w,isDataRoute:a!=null},children:E})};return a&&(d.route.ErrorBoundary||d.route.errorElement||b===0)?i.createElement(la,{location:a.location,revalidation:a.revalidation,component:f,error:v,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}var Zs=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Zs||{}),pt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pt||{});function ma(t){let s=i.useContext(Kt);return s||se(!1),s}function ua(t){let s=i.useContext(ta);return s||se(!1),s}function ha(t){let s=i.useContext(Se);return s||se(!1),s}function Ys(t){let s=ha(),a=s.matches[s.matches.length-1];return a.route.id||se(!1),a.route.id}function xa(){var t;let s=i.useContext(Ws),a=ua(pt.UseRouteError),r=Ys(pt.UseRouteError);return s!==void 0?s:(t=a.errors)==null?void 0:t[r]}function pa(){let{router:t}=ma(Zs.UseNavigateStable),s=Ys(pt.UseNavigateStable),a=i.useRef(!1);return Vs(()=>{a.current=!0}),i.useCallback(function(n,o){o===void 0&&(o={}),a.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Xe({fromRouteId:s},o)))},[t,s])}const hs={};function ga(t,s,a){!s&&!hs[t]&&(hs[t]=!0)}function fa(t,s){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!s||s.v7_relativeSplatPath),s&&(s.v7_fetcherPersist,s.v7_normalizeFormMethod,s.v7_partialHydration,s.v7_skipActionErrorRevalidation)}function Ae(t){let{to:s,replace:a,state:r,relative:n}=t;We()||se(!1);let{future:o,static:c}=i.useContext(Ie),{matches:u}=i.useContext(Se),{pathname:m}=De(),l=le(),h=Yt(s,Zt(u,o.v7_relativeSplatPath),m,n==="path"),d=JSON.stringify(h);return i.useEffect(()=>l(JSON.parse(d),{replace:a,state:r,relative:n}),[l,d,n,a,r]),null}function ne(t){se(!1)}function ba(t){let{basename:s="/",children:a=null,location:r,navigationType:n=Me.Pop,navigator:o,static:c=!1,future:u}=t;We()&&se(!1);let m=s.replace(/^\/*/,"/"),l=i.useMemo(()=>({basename:m,navigator:o,static:c,future:Xe({v7_relativeSplatPath:!1},u)}),[m,u,o,c]);typeof r=="string"&&(r=ze(r));let{pathname:h="/",search:d="",hash:b="",state:v=null,key:x="default"}=r,f=i.useMemo(()=>{let g=Jt(h,m);return g==null?null:{location:{pathname:g,search:d,hash:b,state:v,key:x},navigationType:n}},[m,h,d,b,v,x,n]);return f==null?null:i.createElement(Ie.Provider,{value:l},i.createElement(Nt.Provider,{children:a,value:f}))}function ya(t){let{children:s,location:a}=t;return aa(Dt(s),a)}new Promise(()=>{});function Dt(t,s){s===void 0&&(s=[]);let a=[];return i.Children.forEach(t,(r,n)=>{if(!i.isValidElement(r))return;let o=[...s,n];if(r.type===i.Fragment){a.push.apply(a,Dt(r.props.children,o));return}r.type!==ne&&se(!1),!r.props.index||!r.props.children||se(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Dt(r.props.children,o)),a.push(c)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bt(){return Bt=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Bt.apply(this,arguments)}function ja(t,s){if(t==null)return{};var a={},r=Object.keys(t),n,o;for(o=0;o<r.length;o++)n=r[o],!(s.indexOf(n)>=0)&&(a[n]=t[n]);return a}function va(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Na(t,s){return t.button===0&&(!s||s==="_self")&&!va(t)}function $t(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((s,a)=>{let r=t[a];return s.concat(Array.isArray(r)?r.map(n=>[a,n]):[[a,r]])},[]))}function wa(t,s){let a=$t(t);return s&&s.forEach((r,n)=>{a.has(n)||s.getAll(n).forEach(o=>{a.append(n,o)})}),a}const ka=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ca="6";try{window.__reactRouterVersion=Ca}catch{}const Sa="startTransition",xs=Pr[Sa];function Ea(t){let{basename:s,children:a,future:r,window:n}=t,o=i.useRef();o.current==null&&(o.current=Fr({window:n,v5Compat:!0}));let c=o.current,[u,m]=i.useState({action:c.action,location:c.location}),{v7_startTransition:l}=r||{},h=i.useCallback(d=>{l&&xs?xs(()=>m(d)):m(d)},[m,l]);return i.useLayoutEffect(()=>c.listen(h),[c,h]),i.useEffect(()=>fa(r),[r]),i.createElement(ba,{basename:s,children:a,location:u.location,navigationType:u.action,navigator:c,future:r})}const Aa=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pa=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,G=i.forwardRef(function(s,a){let{onClick:r,relative:n,reloadDocument:o,replace:c,state:u,target:m,to:l,preventScrollReset:h,viewTransition:d}=s,b=ja(s,ka),{basename:v}=i.useContext(Ie),x,f=!1;if(typeof l=="string"&&Pa.test(l)&&(x=l,Aa))try{let E=new URL(window.location.href),B=l.startsWith("//")?new URL(E.protocol+l):new URL(l),P=Jt(B.pathname,v);B.origin===E.origin&&P!=null?l=P+B.search+B.hash:f=!0}catch{}let g=sa(l,{relative:n}),w=Fa(l,{replace:c,state:u,target:m,preventScrollReset:h,relative:n,viewTransition:d});function S(E){r&&r(E),E.defaultPrevented||w(E)}return i.createElement("a",Bt({},b,{href:x||g,onClick:f||o?r:S,ref:a,target:m}))});var ps;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ps||(ps={}));var gs;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gs||(gs={}));function Fa(t,s){let{target:a,replace:r,state:n,preventScrollReset:o,relative:c,viewTransition:u}=s===void 0?{}:s,m=le(),l=De(),h=Js(t,{relative:c});return i.useCallback(d=>{if(Na(d,a)){d.preventDefault();let b=r!==void 0?r:xt(l)===xt(h);m(t,{replace:b,state:n,preventScrollReset:o,relative:c,viewTransition:u})}},[l,m,h,r,n,a,t,o,c,u])}function Ks(t){let s=i.useRef($t(t)),a=i.useRef(!1),r=De(),n=i.useMemo(()=>wa(r.search,a.current?null:s.current),[r.search]),o=le(),c=i.useCallback((u,m)=>{const l=$t(typeof u=="function"?u(n):u);a.current=!0,o("?"+l,m)},[o,n]);return[n,c]}function Ma({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Oa=i.forwardRef(Ma),wt=Oa;function Ra({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const La=i.forwardRef(Ra),Qs=La;function Ta({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Ia=i.forwardRef(Ta),Da=Ia;function Ba({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const $a=i.forwardRef(Ba),_e=$a;function _a({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const Ua=i.forwardRef(_a),Ne=Ua;function Ha({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const qa=i.forwardRef(Ha),Xs=qa;function za({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Wa=i.forwardRef(za),et=Wa;function Va({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Ga=i.forwardRef(Va),Ja=Ga;function Za({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ya=i.forwardRef(Za),fs=Ya;function Ka({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const Qa=i.forwardRef(Ka),_t=Qa;function Xa({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const en=i.forwardRef(Xa),fe=en;function tn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const sn=i.forwardRef(tn),at=sn;function rn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const an=i.forwardRef(rn),ke=an;function nn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const on=i.forwardRef(nn),ln=on;function cn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const dn=i.forwardRef(cn),mn=dn;function un({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const hn=i.forwardRef(un),Qt=hn;function xn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const pn=i.forwardRef(xn),er=pn;function gn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const fn=i.forwardRef(gn),Ut=fn;function bn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const yn=i.forwardRef(bn),gt=yn;function jn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const vn=i.forwardRef(jn),Nn=vn;function wn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const kn=i.forwardRef(wn),tr=kn;function Cn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Sn=i.forwardRef(Cn),Ce=Sn;function En({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const An=i.forwardRef(En),Pn=An;function Fn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"}))}const Mn=i.forwardRef(Fn),bs=Mn;function On({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Rn=i.forwardRef(On),qe=Rn;function Ln({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Tn=i.forwardRef(Ln),ue=Tn;function In({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const Dn=i.forwardRef(In),sr=Dn;function Bn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const $n=i.forwardRef(Bn),_n=$n;function Un({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Hn=i.forwardRef(Un),ft=Hn;function qn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const zn=i.forwardRef(qn),he=zn;function Wn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Vn=i.forwardRef(Wn),tt=Vn;function Gn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Jn=i.forwardRef(Gn),be=Jn;function Zn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const Yn=i.forwardRef(Zn),Xt=Yn;function Kn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Qn=i.forwardRef(Kn),Re=Qn;function Xn({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const eo=i.forwardRef(Xn),to=eo;function so({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ro=i.forwardRef(so),we=ro;function ao({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const no=i.forwardRef(ao),Ue=no;function oo({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const io=i.forwardRef(oo),kt=io;function lo({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const co=i.forwardRef(lo),ge=co;function mo({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const uo=i.forwardRef(mo),ho=uo;function xo({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const po=i.forwardRef(xo),rr=po;function ar(t,s){return function(){return t.apply(s,arguments)}}const{toString:go}=Object.prototype,{getPrototypeOf:es}=Object,{iterator:Ct,toStringTag:nr}=Symbol,St=(t=>s=>{const a=go.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),je=t=>(t=t.toLowerCase(),s=>St(s)===t),Et=t=>s=>typeof s===t,{isArray:Ve}=Array,st=Et("undefined");function nt(t){return t!==null&&!st(t)&&t.constructor!==null&&!st(t.constructor)&&me(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const or=je("ArrayBuffer");function fo(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&or(t.buffer),s}const bo=Et("string"),me=Et("function"),ir=Et("number"),ot=t=>t!==null&&typeof t=="object",yo=t=>t===!0||t===!1,lt=t=>{if(St(t)!=="object")return!1;const s=es(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(nr in t)&&!(Ct in t)},jo=t=>{if(!ot(t)||nt(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},vo=je("Date"),No=je("File"),wo=je("Blob"),ko=je("FileList"),Co=t=>ot(t)&&me(t.pipe),So=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||me(t.append)&&((s=St(t))==="formdata"||s==="object"&&me(t.toString)&&t.toString()==="[object FormData]"))},Eo=je("URLSearchParams"),[Ao,Po,Fo,Mo]=["ReadableStream","Request","Response","Headers"].map(je),Oo=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function it(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),Ve(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{if(nt(t))return;const o=a?Object.getOwnPropertyNames(t):Object.keys(t),c=o.length;let u;for(r=0;r<c;r++)u=o[r],s.call(null,t[u],u,t)}}function lr(t,s){if(nt(t))return null;s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const $e=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cr=t=>!st(t)&&t!==$e;function Ht(){const{caseless:t}=cr(this)&&this||{},s={},a=(r,n)=>{const o=t&&lr(s,n)||n;lt(s[o])&&lt(r)?s[o]=Ht(s[o],r):lt(r)?s[o]=Ht({},r):Ve(r)?s[o]=r.slice():s[o]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&it(arguments[r],a);return s}const Ro=(t,s,a,{allOwnKeys:r}={})=>(it(s,(n,o)=>{a&&me(n)?t[o]=ar(n,a):t[o]=n},{allOwnKeys:r}),t),Lo=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),To=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Io=(t,s,a,r)=>{let n,o,c;const u={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),o=n.length;o-- >0;)c=n[o],(!r||r(c,t,s))&&!u[c]&&(s[c]=t[c],u[c]=!0);t=a!==!1&&es(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Do=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},Bo=t=>{if(!t)return null;if(Ve(t))return t;let s=t.length;if(!ir(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},$o=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&es(Uint8Array)),_o=(t,s)=>{const r=(t&&t[Ct]).call(t);let n;for(;(n=r.next())&&!n.done;){const o=n.value;s.call(t,o[0],o[1])}},Uo=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},Ho=je("HTMLFormElement"),qo=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),ys=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),zo=je("RegExp"),dr=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};it(a,(n,o)=>{let c;(c=s(n,o,t))!==!1&&(r[o]=c||n)}),Object.defineProperties(t,r)},Wo=t=>{dr(t,(s,a)=>{if(me(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(me(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Vo=(t,s)=>{const a={},r=n=>{n.forEach(o=>{a[o]=!0})};return Ve(t)?r(t):r(String(t).split(s)),a},Go=()=>{},Jo=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function Zo(t){return!!(t&&me(t.append)&&t[nr]==="FormData"&&t[Ct])}const Yo=t=>{const s=new Array(10),a=(r,n)=>{if(ot(r)){if(s.indexOf(r)>=0)return;if(nt(r))return r;if(!("toJSON"in r)){s[n]=r;const o=Ve(r)?[]:{};return it(r,(c,u)=>{const m=a(c,n+1);!st(m)&&(o[u]=m)}),s[n]=void 0,o}}return r};return a(t,0)},Ko=je("AsyncFunction"),Qo=t=>t&&(ot(t)||me(t))&&me(t.then)&&me(t.catch),mr=((t,s)=>t?setImmediate:s?((a,r)=>($e.addEventListener("message",({source:n,data:o})=>{n===$e&&o===a&&r.length&&r.shift()()},!1),n=>{r.push(n),$e.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",me($e.postMessage)),Xo=typeof queueMicrotask<"u"?queueMicrotask.bind($e):typeof process<"u"&&process.nextTick||mr,ei=t=>t!=null&&me(t[Ct]),j={isArray:Ve,isArrayBuffer:or,isBuffer:nt,isFormData:So,isArrayBufferView:fo,isString:bo,isNumber:ir,isBoolean:yo,isObject:ot,isPlainObject:lt,isEmptyObject:jo,isReadableStream:Ao,isRequest:Po,isResponse:Fo,isHeaders:Mo,isUndefined:st,isDate:vo,isFile:No,isBlob:wo,isRegExp:zo,isFunction:me,isStream:Co,isURLSearchParams:Eo,isTypedArray:$o,isFileList:ko,forEach:it,merge:Ht,extend:Ro,trim:Oo,stripBOM:Lo,inherits:To,toFlatObject:Io,kindOf:St,kindOfTest:je,endsWith:Do,toArray:Bo,forEachEntry:_o,matchAll:Uo,isHTMLForm:Ho,hasOwnProperty:ys,hasOwnProp:ys,reduceDescriptors:dr,freezeMethods:Wo,toObjectSet:Vo,toCamelCase:qo,noop:Go,toFiniteNumber:Jo,findKey:lr,global:$e,isContextDefined:cr,isSpecCompliantForm:Zo,toJSONObject:Yo,isAsyncFn:Ko,isThenable:Qo,setImmediate:mr,asap:Xo,isIterable:ei};function _(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}j.inherits(_,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:j.toJSONObject(this.config),code:this.code,status:this.status}}});const ur=_.prototype,hr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{hr[t]={value:t}});Object.defineProperties(_,hr);Object.defineProperty(ur,"isAxiosError",{value:!0});_.from=(t,s,a,r,n,o)=>{const c=Object.create(ur);return j.toFlatObject(t,c,function(m){return m!==Error.prototype},u=>u!=="isAxiosError"),_.call(c,t.message,s,a,r,n),c.cause=t,c.name=t.name,o&&Object.assign(c,o),c};const ti=null;function qt(t){return j.isPlainObject(t)||j.isArray(t)}function xr(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function js(t,s,a){return t?t.concat(s).map(function(n,o){return n=xr(n),!a&&o?"["+n+"]":n}).join(a?".":""):s}function si(t){return j.isArray(t)&&!t.some(qt)}const ri=j.toFlatObject(j,{},null,function(s){return/^is[A-Z]/.test(s)});function At(t,s,a){if(!j.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=j.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,g){return!j.isUndefined(g[f])});const r=a.metaTokens,n=a.visitor||h,o=a.dots,c=a.indexes,m=(a.Blob||typeof Blob<"u"&&Blob)&&j.isSpecCompliantForm(s);if(!j.isFunction(n))throw new TypeError("visitor must be a function");function l(x){if(x===null)return"";if(j.isDate(x))return x.toISOString();if(j.isBoolean(x))return x.toString();if(!m&&j.isBlob(x))throw new _("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(x)||j.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,f,g){let w=x;if(x&&!g&&typeof x=="object"){if(j.endsWith(f,"{}"))f=r?f:f.slice(0,-2),x=JSON.stringify(x);else if(j.isArray(x)&&si(x)||(j.isFileList(x)||j.endsWith(f,"[]"))&&(w=j.toArray(x)))return f=xr(f),w.forEach(function(E,B){!(j.isUndefined(E)||E===null)&&s.append(c===!0?js([f],B,o):c===null?f:f+"[]",l(E))}),!1}return qt(x)?!0:(s.append(js(g,f,o),l(x)),!1)}const d=[],b=Object.assign(ri,{defaultVisitor:h,convertValue:l,isVisitable:qt});function v(x,f){if(!j.isUndefined(x)){if(d.indexOf(x)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(x),j.forEach(x,function(w,S){(!(j.isUndefined(w)||w===null)&&n.call(s,w,j.isString(S)?S.trim():S,f,b))===!0&&v(w,f?f.concat(S):[S])}),d.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return v(t),s}function vs(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function ts(t,s){this._pairs=[],t&&At(t,this,s)}const pr=ts.prototype;pr.append=function(s,a){this._pairs.push([s,a])};pr.toString=function(s){const a=s?function(r){return s.call(this,r,vs)}:vs;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function ai(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gr(t,s,a){if(!s)return t;const r=a&&a.encode||ai;j.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let o;if(n?o=n(s,a):o=j.isURLSearchParams(s)?s.toString():new ts(s,a).toString(r),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class ni{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){j.forEach(this.handlers,function(r){r!==null&&s(r)})}}const Ns=ni,fr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oi=typeof URLSearchParams<"u"?URLSearchParams:ts,ii=typeof FormData<"u"?FormData:null,li=typeof Blob<"u"?Blob:null,ci={isBrowser:!0,classes:{URLSearchParams:oi,FormData:ii,Blob:li},protocols:["http","https","file","blob","url","data"]},ss=typeof window<"u"&&typeof document<"u",zt=typeof navigator=="object"&&navigator||void 0,di=ss&&(!zt||["ReactNative","NativeScript","NS"].indexOf(zt.product)<0),mi=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ui=ss&&window.location.href||"http://localhost",hi=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ss,hasStandardBrowserEnv:di,hasStandardBrowserWebWorkerEnv:mi,navigator:zt,origin:ui},Symbol.toStringTag,{value:"Module"})),de={...hi,...ci};function xi(t,s){return At(t,new de.classes.URLSearchParams,{visitor:function(a,r,n,o){return de.isNode&&j.isBuffer(a)?(this.append(r,a.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...s})}function pi(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function gi(t){const s={},a=Object.keys(t);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],s[o]=t[o];return s}function br(t){function s(a,r,n,o){let c=a[o++];if(c==="__proto__")return!0;const u=Number.isFinite(+c),m=o>=a.length;return c=!c&&j.isArray(n)?n.length:c,m?(j.hasOwnProp(n,c)?n[c]=[n[c],r]:n[c]=r,!u):((!n[c]||!j.isObject(n[c]))&&(n[c]=[]),s(a,r,n[c],o)&&j.isArray(n[c])&&(n[c]=gi(n[c])),!u)}if(j.isFormData(t)&&j.isFunction(t.entries)){const a={};return j.forEachEntry(t,(r,n)=>{s(pi(r),n,a,0)}),a}return null}function fi(t,s,a){if(j.isString(t))try{return(s||JSON.parse)(t),j.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const rs={transitional:fr,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,o=j.isObject(s);if(o&&j.isHTMLForm(s)&&(s=new FormData(s)),j.isFormData(s))return n?JSON.stringify(br(s)):s;if(j.isArrayBuffer(s)||j.isBuffer(s)||j.isStream(s)||j.isFile(s)||j.isBlob(s)||j.isReadableStream(s))return s;if(j.isArrayBufferView(s))return s.buffer;if(j.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let u;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xi(s,this.formSerializer).toString();if((u=j.isFileList(s))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return At(u?{"files[]":s}:s,m&&new m,this.formSerializer)}}return o||n?(a.setContentType("application/json",!1),fi(s)):s}],transformResponse:[function(s){const a=this.transitional||rs.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(j.isResponse(s)||j.isReadableStream(s))return s;if(s&&j.isString(s)&&(r&&!this.responseType||n)){const c=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(u){if(c)throw u.name==="SyntaxError"?_.from(u,_.ERR_BAD_RESPONSE,this,null,this.response):u}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:de.classes.FormData,Blob:de.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};j.forEach(["delete","get","head","post","put","patch"],t=>{rs.headers[t]={}});const as=rs,bi=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yi=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(c){n=c.indexOf(":"),a=c.substring(0,n).trim().toLowerCase(),r=c.substring(n+1).trim(),!(!a||s[a]&&bi[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},ws=Symbol("internals");function Je(t){return t&&String(t).trim().toLowerCase()}function ct(t){return t===!1||t==null?t:j.isArray(t)?t.map(ct):String(t)}function ji(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const vi=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Rt(t,s,a,r,n){if(j.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!j.isString(s)){if(j.isString(r))return s.indexOf(r)!==-1;if(j.isRegExp(r))return r.test(s)}}function Ni(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function wi(t,s){const a=j.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,o,c){return this[r].call(this,s,n,o,c)},configurable:!0})})}class Pt{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function o(u,m,l){const h=Je(m);if(!h)throw new Error("header name must be a non-empty string");const d=j.findKey(n,h);(!d||n[d]===void 0||l===!0||l===void 0&&n[d]!==!1)&&(n[d||m]=ct(u))}const c=(u,m)=>j.forEach(u,(l,h)=>o(l,h,m));if(j.isPlainObject(s)||s instanceof this.constructor)c(s,a);else if(j.isString(s)&&(s=s.trim())&&!vi(s))c(yi(s),a);else if(j.isObject(s)&&j.isIterable(s)){let u={},m,l;for(const h of s){if(!j.isArray(h))throw TypeError("Object iterator must return a key-value pair");u[l=h[0]]=(m=u[l])?j.isArray(m)?[...m,h[1]]:[m,h[1]]:h[1]}c(u,a)}else s!=null&&o(a,s,r);return this}get(s,a){if(s=Je(s),s){const r=j.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return ji(n);if(j.isFunction(a))return a.call(this,n,r);if(j.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Je(s),s){const r=j.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||Rt(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function o(c){if(c=Je(c),c){const u=j.findKey(r,c);u&&(!a||Rt(r,r[u],u,a))&&(delete r[u],n=!0)}}return j.isArray(s)?s.forEach(o):o(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const o=a[r];(!s||Rt(this,this[o],o,s,!0))&&(delete this[o],n=!0)}return n}normalize(s){const a=this,r={};return j.forEach(this,(n,o)=>{const c=j.findKey(r,o);if(c){a[c]=ct(n),delete a[o];return}const u=s?Ni(o):String(o).trim();u!==o&&delete a[o],a[u]=ct(n),r[u]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return j.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&j.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[ws]=this[ws]={accessors:{}}).accessors,n=this.prototype;function o(c){const u=Je(c);r[u]||(wi(n,c),r[u]=!0)}return j.isArray(s)?s.forEach(o):o(s),this}}Pt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);j.reduceDescriptors(Pt.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});j.freezeMethods(Pt);const ye=Pt;function Lt(t,s){const a=this||as,r=s||a,n=ye.from(r.headers);let o=r.data;return j.forEach(t,function(u){o=u.call(a,o,n.normalize(),s?s.status:void 0)}),n.normalize(),o}function yr(t){return!!(t&&t.__CANCEL__)}function Ge(t,s,a){_.call(this,t??"canceled",_.ERR_CANCELED,s,a),this.name="CanceledError"}j.inherits(Ge,_,{__CANCEL__:!0});function jr(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new _("Request failed with status code "+a.status,[_.ERR_BAD_REQUEST,_.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function ki(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Ci(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,o=0,c;return s=s!==void 0?s:1e3,function(m){const l=Date.now(),h=r[o];c||(c=l),a[n]=m,r[n]=l;let d=o,b=0;for(;d!==n;)b+=a[d++],d=d%t;if(n=(n+1)%t,n===o&&(o=(o+1)%t),l-c<s)return;const v=h&&l-h;return v?Math.round(b*1e3/v):void 0}}function Si(t,s){let a=0,r=1e3/s,n,o;const c=(l,h=Date.now())=>{a=h,n=null,o&&(clearTimeout(o),o=null),t(...l)};return[(...l)=>{const h=Date.now(),d=h-a;d>=r?c(l,h):(n=l,o||(o=setTimeout(()=>{o=null,c(n)},r-d)))},()=>n&&c(n)]}const bt=(t,s,a=3)=>{let r=0;const n=Ci(50,250);return Si(o=>{const c=o.loaded,u=o.lengthComputable?o.total:void 0,m=c-r,l=n(m),h=c<=u;r=c;const d={loaded:c,total:u,progress:u?c/u:void 0,bytes:m,rate:l||void 0,estimated:l&&u&&h?(u-c)/l:void 0,event:o,lengthComputable:u!=null,[s?"download":"upload"]:!0};t(d)},a)},ks=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},Cs=t=>(...s)=>j.asap(()=>t(...s)),Ei=de.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,de.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(de.origin),de.navigator&&/(msie|trident)/i.test(de.navigator.userAgent)):()=>!0,Ai=de.hasStandardBrowserEnv?{write(t,s,a,r,n,o){const c=[t+"="+encodeURIComponent(s)];j.isNumber(a)&&c.push("expires="+new Date(a).toGMTString()),j.isString(r)&&c.push("path="+r),j.isString(n)&&c.push("domain="+n),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pi(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fi(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function vr(t,s,a){let r=!Pi(s);return t&&(r||a==!1)?Fi(t,s):s}const Ss=t=>t instanceof ye?{...t}:t;function He(t,s){s=s||{};const a={};function r(l,h,d,b){return j.isPlainObject(l)&&j.isPlainObject(h)?j.merge.call({caseless:b},l,h):j.isPlainObject(h)?j.merge({},h):j.isArray(h)?h.slice():h}function n(l,h,d,b){if(j.isUndefined(h)){if(!j.isUndefined(l))return r(void 0,l,d,b)}else return r(l,h,d,b)}function o(l,h){if(!j.isUndefined(h))return r(void 0,h)}function c(l,h){if(j.isUndefined(h)){if(!j.isUndefined(l))return r(void 0,l)}else return r(void 0,h)}function u(l,h,d){if(d in s)return r(l,h);if(d in t)return r(void 0,l)}const m={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(l,h,d)=>n(Ss(l),Ss(h),d,!0)};return j.forEach(Object.keys({...t,...s}),function(h){const d=m[h]||n,b=d(t[h],s[h],h);j.isUndefined(b)&&d!==u||(a[h]=b)}),a}const Nr=t=>{const s=He({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:c,auth:u}=s;s.headers=c=ye.from(c),s.url=gr(vr(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),u&&c.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let m;if(j.isFormData(a)){if(de.hasStandardBrowserEnv||de.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[l,...h]=m?m.split(";").map(d=>d.trim()).filter(Boolean):[];c.setContentType([l||"multipart/form-data",...h].join("; "))}}if(de.hasStandardBrowserEnv&&(r&&j.isFunction(r)&&(r=r(s)),r||r!==!1&&Ei(s.url))){const l=n&&o&&Ai.read(o);l&&c.set(n,l)}return s},Mi=typeof XMLHttpRequest<"u",Oi=Mi&&function(t){return new Promise(function(a,r){const n=Nr(t);let o=n.data;const c=ye.from(n.headers).normalize();let{responseType:u,onUploadProgress:m,onDownloadProgress:l}=n,h,d,b,v,x;function f(){v&&v(),x&&x(),n.cancelToken&&n.cancelToken.unsubscribe(h),n.signal&&n.signal.removeEventListener("abort",h)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function w(){if(!g)return;const E=ye.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),P={data:!u||u==="text"||u==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:E,config:t,request:g};jr(function(D){a(D),f()},function(D){r(D),f()},P),g=null}"onloadend"in g?g.onloadend=w:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(w)},g.onabort=function(){g&&(r(new _("Request aborted",_.ECONNABORTED,t,g)),g=null)},g.onerror=function(){r(new _("Network Error",_.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let B=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const P=n.transitional||fr;n.timeoutErrorMessage&&(B=n.timeoutErrorMessage),r(new _(B,P.clarifyTimeoutError?_.ETIMEDOUT:_.ECONNABORTED,t,g)),g=null},o===void 0&&c.setContentType(null),"setRequestHeader"in g&&j.forEach(c.toJSON(),function(B,P){g.setRequestHeader(P,B)}),j.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),u&&u!=="json"&&(g.responseType=n.responseType),l&&([b,x]=bt(l,!0),g.addEventListener("progress",b)),m&&g.upload&&([d,v]=bt(m),g.upload.addEventListener("progress",d),g.upload.addEventListener("loadend",v)),(n.cancelToken||n.signal)&&(h=E=>{g&&(r(!E||E.type?new Ge(null,t,g):E),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(h),n.signal&&(n.signal.aborted?h():n.signal.addEventListener("abort",h)));const S=ki(n.url);if(S&&de.protocols.indexOf(S)===-1){r(new _("Unsupported protocol "+S+":",_.ERR_BAD_REQUEST,t));return}g.send(o||null)})},Ri=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const o=function(l){if(!n){n=!0,u();const h=l instanceof Error?l:this.reason;r.abort(h instanceof _?h:new Ge(h instanceof Error?h.message:h))}};let c=s&&setTimeout(()=>{c=null,o(new _(`timeout ${s} of ms exceeded`,_.ETIMEDOUT))},s);const u=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(l=>{l.unsubscribe?l.unsubscribe(o):l.removeEventListener("abort",o)}),t=null)};t.forEach(l=>l.addEventListener("abort",o));const{signal:m}=r;return m.unsubscribe=()=>j.asap(u),m}},Li=Ri,Ti=function*(t,s){let a=t.byteLength;if(!s||a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},Ii=async function*(t,s){for await(const a of Di(t))yield*Ti(a,s)},Di=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},Es=(t,s,a,r)=>{const n=Ii(t,s);let o=0,c,u=m=>{c||(c=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:l,value:h}=await n.next();if(l){u(),m.close();return}let d=h.byteLength;if(a){let b=o+=d;a(b)}m.enqueue(new Uint8Array(h))}catch(l){throw u(l),l}},cancel(m){return u(m),n.return()}},{highWaterMark:2})},Ft=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",wr=Ft&&typeof ReadableStream=="function",Bi=Ft&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),kr=(t,...s)=>{try{return!!t(...s)}catch{return!1}},$i=wr&&kr(()=>{let t=!1;const s=new Request(de.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),As=64*1024,Wt=wr&&kr(()=>j.isReadableStream(new Response("").body)),yt={stream:Wt&&(t=>t.body)};Ft&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!yt[s]&&(yt[s]=j.isFunction(t[s])?a=>a[s]():(a,r)=>{throw new _(`Response type '${s}' is not supported`,_.ERR_NOT_SUPPORT,r)})})})(new Response);const _i=async t=>{if(t==null)return 0;if(j.isBlob(t))return t.size;if(j.isSpecCompliantForm(t))return(await new Request(de.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(j.isArrayBufferView(t)||j.isArrayBuffer(t))return t.byteLength;if(j.isURLSearchParams(t)&&(t=t+""),j.isString(t))return(await Bi(t)).byteLength},Ui=async(t,s)=>{const a=j.toFiniteNumber(t.getContentLength());return a??_i(s)},Hi=Ft&&(async t=>{let{url:s,method:a,data:r,signal:n,cancelToken:o,timeout:c,onDownloadProgress:u,onUploadProgress:m,responseType:l,headers:h,withCredentials:d="same-origin",fetchOptions:b}=Nr(t);l=l?(l+"").toLowerCase():"text";let v=Li([n,o&&o.toAbortSignal()],c),x;const f=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let g;try{if(m&&$i&&a!=="get"&&a!=="head"&&(g=await Ui(h,r))!==0){let P=new Request(s,{method:"POST",body:r,duplex:"half"}),I;if(j.isFormData(r)&&(I=P.headers.get("content-type"))&&h.setContentType(I),P.body){const[D,W]=ks(g,bt(Cs(m)));r=Es(P.body,As,D,W)}}j.isString(d)||(d=d?"include":"omit");const w="credentials"in Request.prototype;x=new Request(s,{...b,signal:v,method:a.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:w?d:void 0});let S=await fetch(x,b);const E=Wt&&(l==="stream"||l==="response");if(Wt&&(u||E&&f)){const P={};["status","statusText","headers"].forEach(Y=>{P[Y]=S[Y]});const I=j.toFiniteNumber(S.headers.get("content-length")),[D,W]=u&&ks(I,bt(Cs(u),!0))||[];S=new Response(Es(S.body,As,D,()=>{W&&W(),f&&f()}),P)}l=l||"text";let B=await yt[j.findKey(yt,l)||"text"](S,t);return!E&&f&&f(),await new Promise((P,I)=>{jr(P,I,{data:B,headers:ye.from(S.headers),status:S.status,statusText:S.statusText,config:t,request:x})})}catch(w){throw f&&f(),w&&w.name==="TypeError"&&/Load failed|fetch/i.test(w.message)?Object.assign(new _("Network Error",_.ERR_NETWORK,t,x),{cause:w.cause||w}):_.from(w,w&&w.code,t,x)}}),Vt={http:ti,xhr:Oi,fetch:Hi};j.forEach(Vt,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Ps=t=>`- ${t}`,qi=t=>j.isFunction(t)||t===null||t===!1,Cr={getAdapter:t=>{t=j.isArray(t)?t:[t];const{length:s}=t;let a,r;const n={};for(let o=0;o<s;o++){a=t[o];let c;if(r=a,!qi(a)&&(r=Vt[(c=String(a)).toLowerCase()],r===void 0))throw new _(`Unknown adapter '${c}'`);if(r)break;n[c||"#"+o]=r}if(!r){const o=Object.entries(n).map(([u,m])=>`adapter ${u} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=s?o.length>1?`since :
`+o.map(Ps).join(`
`):" "+Ps(o[0]):"as no adapter specified";throw new _("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Vt};function Tt(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ge(null,t)}function Fs(t){return Tt(t),t.headers=ye.from(t.headers),t.data=Lt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Cr.getAdapter(t.adapter||as.adapter)(t).then(function(r){return Tt(t),r.data=Lt.call(t,t.transformResponse,r),r.headers=ye.from(r.headers),r},function(r){return yr(r)||(Tt(t),r&&r.response&&(r.response.data=Lt.call(t,t.transformResponse,r.response),r.response.headers=ye.from(r.response.headers))),Promise.reject(r)})}const Sr="1.11.0",Mt={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{Mt[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const Ms={};Mt.transitional=function(s,a,r){function n(o,c){return"[Axios v"+Sr+"] Transitional option '"+o+"'"+c+(r?". "+r:"")}return(o,c,u)=>{if(s===!1)throw new _(n(c," has been removed"+(a?" in "+a:"")),_.ERR_DEPRECATED);return a&&!Ms[c]&&(Ms[c]=!0,console.warn(n(c," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(o,c,u):!0}};Mt.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function zi(t,s,a){if(typeof t!="object")throw new _("options must be an object",_.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const o=r[n],c=s[o];if(c){const u=t[o],m=u===void 0||c(u,o,t);if(m!==!0)throw new _("option "+o+" must be "+m,_.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new _("Unknown option "+o,_.ERR_BAD_OPTION)}}const dt={assertOptions:zi,validators:Mt},ve=dt.validators;class jt{constructor(s){this.defaults=s||{},this.interceptors={request:new Ns,response:new Ns}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const o=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=He(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:o}=a;r!==void 0&&dt.assertOptions(r,{silentJSONParsing:ve.transitional(ve.boolean),forcedJSONParsing:ve.transitional(ve.boolean),clarifyTimeoutError:ve.transitional(ve.boolean)},!1),n!=null&&(j.isFunction(n)?a.paramsSerializer={serialize:n}:dt.assertOptions(n,{encode:ve.function,serialize:ve.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),dt.assertOptions(a,{baseUrl:ve.spelling("baseURL"),withXsrfToken:ve.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=o&&j.merge(o.common,o[a.method]);o&&j.forEach(["delete","get","head","post","put","patch","common"],x=>{delete o[x]}),a.headers=ye.concat(c,o);const u=[];let m=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(a)===!1||(m=m&&f.synchronous,u.unshift(f.fulfilled,f.rejected))});const l=[];this.interceptors.response.forEach(function(f){l.push(f.fulfilled,f.rejected)});let h,d=0,b;if(!m){const x=[Fs.bind(this),void 0];for(x.unshift(...u),x.push(...l),b=x.length,h=Promise.resolve(a);d<b;)h=h.then(x[d++],x[d++]);return h}b=u.length;let v=a;for(d=0;d<b;){const x=u[d++],f=u[d++];try{v=x(v)}catch(g){f.call(this,g);break}}try{h=Fs.call(this,v)}catch(x){return Promise.reject(x)}for(d=0,b=l.length;d<b;)h=h.then(l[d++],l[d++]);return h}getUri(s){s=He(this.defaults,s);const a=vr(s.baseURL,s.url,s.allowAbsoluteUrls);return gr(a,s.params,s.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(s){jt.prototype[s]=function(a,r){return this.request(He(r||{},{method:s,url:a,data:(r||{}).data}))}});j.forEach(["post","put","patch"],function(s){function a(r){return function(o,c,u){return this.request(He(u||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}jt.prototype[s]=a(),jt.prototype[s+"Form"]=a(!0)});const mt=jt;class ns{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(o){a=o});const r=this;this.promise.then(n=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](n);r._listeners=null}),this.promise.then=n=>{let o;const c=new Promise(u=>{r.subscribe(u),o=u}).then(n);return c.cancel=function(){r.unsubscribe(o)},c},s(function(o,c,u){r.reason||(r.reason=new Ge(o,c,u),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new ns(function(n){s=n}),cancel:s}}}const Wi=ns;function Vi(t){return function(a){return t.apply(null,a)}}function Gi(t){return j.isObject(t)&&t.isAxiosError===!0}const Gt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Gt).forEach(([t,s])=>{Gt[s]=t});const Ji=Gt;function Er(t){const s=new mt(t),a=ar(mt.prototype.request,s);return j.extend(a,mt.prototype,s,{allOwnKeys:!0}),j.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return Er(He(t,n))},a}const ae=Er(as);ae.Axios=mt;ae.CanceledError=Ge;ae.CancelToken=Wi;ae.isCancel=yr;ae.VERSION=Sr;ae.toFormData=At;ae.AxiosError=_;ae.Cancel=ae.CanceledError;ae.all=function(s){return Promise.all(s)};ae.spread=Vi;ae.isAxiosError=Gi;ae.mergeConfig=He;ae.AxiosHeaders=ye;ae.formToJSON=t=>br(j.isHTMLForm(t)?new FormData(t):t);ae.getAdapter=Cr.getAdapter;ae.HttpStatusCode=Ji;ae.default=ae;const $=ae,Ar="/api/auth",Os="authStateChanged",xe={getToken:()=>localStorage.getItem("token"),setToken:t=>{localStorage.setItem("token",t),window.dispatchEvent(new CustomEvent(Os,{detail:{isAuthenticated:!0}}))},removeToken:()=>{localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent(Os,{detail:{isAuthenticated:!1}}))}},Zi=async t=>{const s=await $.post(`${Ar}/register`,t);return xe.setToken(s.data.token),s.data},Yi=async t=>{const s=await $.post(`${Ar}/login`,t);return xe.setToken(s.data.token),s.data},rt=()=>{xe.removeToken()},Le=async()=>{const t=xe.getToken();return(await $.get("/api/profile",{headers:{Authorization:`Bearer ${t}`}})).data},Ze=t=>`food_finder_cart_${t}`,Ye=()=>"food_finder_guest_cart",J={getCart:t=>{try{if(!t){const n=Ye(),o=localStorage.getItem(n);return o?JSON.parse(o):[]}const s=Ze(t),a=localStorage.getItem(s);return a?JSON.parse(a):[]}catch(s){return console.error("Error getting cart:",s),[]}},addToCart:(t,s=1,a)=>{try{console.log("Adding to cart:",{product:t.name,quantity:s,userId:a});const r=J.getCart(a);console.log("Current cart:",r);const n=r.find(c=>c._id===t._id);if(n?n.quantity+=s:r.push({...t,quantity:s,addedAt:new Date().toISOString()}),console.log("Updated cart:",r),a){const c=Ze(a);localStorage.setItem(c,JSON.stringify(r)),console.log("Saved to user cart:",c)}else{const c=Ye();localStorage.setItem(c,JSON.stringify(r)),console.log("Saved to guest cart:",c)}const o=J.getCartCount(a);return console.log("Cart count:",o),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:r,count:o,userId:a}})),r}catch(r){return console.error("Error adding to cart:",r),[]}},removeFromCart:(t,s)=>{try{const r=J.getCart(s).filter(n=>n._id!==t);if(s){const n=Ze(s);localStorage.setItem(n,JSON.stringify(r))}else{const n=Ye();localStorage.setItem(n,JSON.stringify(r))}return window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:r,count:J.getCartCount(s),userId:s}})),r}catch(a){return console.error("Error removing from cart:",a),[]}},updateQuantity:(t,s,a)=>{try{const r=J.getCart(a),n=r.find(o=>o._id===t);if(n){if(s<=0)return J.removeFromCart(t,a);if(n.quantity=s,a){const o=Ze(a);localStorage.setItem(o,JSON.stringify(r))}else{const o=Ye();localStorage.setItem(o,JSON.stringify(r))}return window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:r,count:J.getCartCount(a),userId:a}})),r}return r}catch(r){return console.error("Error updating quantity:",r),[]}},clearCart:t=>{try{if(t){const s=Ze(t);localStorage.removeItem(s)}else{const s=Ye();localStorage.removeItem(s)}return window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:[],count:0,userId:t}})),[]}catch(s){return console.error("Error clearing cart:",s),[]}},getCartTotal:t=>{try{return J.getCart(t).reduce((a,r)=>a+r.price*r.quantity,0)}catch(s){return console.error("Error calculating cart total:",s),0}},getCartCount:t=>{try{return J.getCart(t).reduce((a,r)=>a+r.quantity,0)}catch(s){return console.error("Error calculating cart count:",s),0}},getCartByArtisan:t=>{try{const s=J.getCart(t),a={};return s.forEach(r=>{var o;const n=((o=r.seller)==null?void 0:o._id)||"unknown";a[n]||(a[n]={artisan:r.seller,items:[],subtotal:0}),a[n].items.push(r),a[n].subtotal+=r.price*r.quantity}),a}catch(s){return console.error("Error grouping cart by artisan:",s),{}}},validateCart:t=>{try{const s=J.getCart(t),a=[];return s.forEach(r=>{var n;r._id||a.push(`Invalid product: ${r.name}`),(!r.price||r.price<=0)&&a.push(`Invalid price for: ${r.name}`),(!r.quantity||r.quantity<=0)&&a.push(`Invalid quantity for: ${r.name}`),(n=r.seller)!=null&&n._id||a.push(`Missing seller information for: ${r.name}`)}),{isValid:a.length===0,errors:a}}catch(s){return console.error("Error validating cart:",s),{isValid:!1,errors:["Cart validation failed"]}}},clearAllCarts:()=>{try{return Object.keys(localStorage).filter(a=>a.startsWith("food_finder_cart_")).forEach(a=>localStorage.removeItem(a)),window.dispatchEvent(new CustomEvent("cartUpdated",{detail:{cart:[],count:0,userId:null}})),[]}catch(t){return console.error("Error clearing all carts:",t),[]}}},Rs=Object.freeze(Object.defineProperty({__proto__:null,cartService:J},Symbol.toStringTag,{value:"Module"})),Ls="http://localhost:4000/api",ut={createGuest:async(t={})=>{try{const s=await fetch(`${Ls}/auth/guest`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw new Error("Failed to create guest user");const a=await s.json();return localStorage.setItem("token",a.token),a}catch(s){throw console.error("Error creating guest user:",s),s}},convertGuestToUser:async t=>{try{const s=localStorage.getItem("token");if(!s)throw new Error("No token found");const a=await fetch(`${Ls}/auth/guest/convert`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to convert guest user");const r=await a.json();return localStorage.setItem("token",r.token),r}catch(s){throw console.error("Error converting guest user:",s),s}},isGuestUser:()=>{try{const t=localStorage.getItem("token");return t?JSON.parse(atob(t.split(".")[1])).isGuest===!0:!1}catch(t){return console.error("Error checking guest status:",t),!1}},getGuestUserId:()=>{try{const t=localStorage.getItem("token");return t?JSON.parse(atob(t.split(".")[1])).userId:null}catch(t){return console.error("Error getting guest user ID:",t),null}}};function Ki(){const t=le(),s=De(),[a,r]=i.useState(!!xe.getToken()),[n,o]=i.useState(!1),[c,u]=i.useState(null),[m,l]=i.useState(!1),[h,d]=i.useState(0),[b,v]=i.useState(null),[x,f]=i.useState("");i.useEffect(()=>{const S=async()=>{const P=xe.getToken();if(r(!!P),P)try{const I=await Le();u(I.role),v(I._id),o(ut.isGuestUser()),d(J.getCartCount(I._id))}catch(I){console.error("Error loading user profile:",I),u(null),v(null),o(!1),d(J.getCartCount(null))}else u(null),v(null),o(!1),d(J.getCartCount(null))};S();const E=()=>{S()},B=P=>{r(P.detail.isAuthenticated),P.detail.isAuthenticated?S():(u(null),v(null),o(!1),d(J.getCartCount(null)))};return window.addEventListener("storage",E),window.addEventListener("authStateChanged",B),()=>{window.removeEventListener("storage",E),window.removeEventListener("authStateChanged",B)}},[]),i.useEffect(()=>{d(b?J.getCartCount(b):J.getCartCount(null))},[s,b]),i.useEffect(()=>{const S=E=>{console.log("Cart update event:",{eventUserId:E.detail.userId,currentUserId:b,count:E.detail.count,shouldUpdate:!b&&E.detail.userId===null||b&&E.detail.userId===b}),(!b&&E.detail.userId===null||b&&E.detail.userId===b)&&d(E.detail.count)};return window.addEventListener("cartUpdated",S),()=>window.removeEventListener("cartUpdated",S)},[b]);const g=()=>{rt(),r(!1),u(null),v(null),o(!1),d(0),C.success("Successfully logged out"),t("/")},w=S=>{S.preventDefault(),x.trim()&&(t(`/search?q=${encodeURIComponent(x.trim())}`),f(""))};return e.jsxs("nav",{className:"bg-white shadow-lg border-b border-stone-200 sticky top-0 z-50",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs(G,{to:"/",className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-400 to-amber-600 rounded-xl flex items-center justify-center shadow-lg",children:e.jsx(Ne,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-2xl font-bold text-gradient",children:"The Bazar"})]}),e.jsxs("div",{className:"hidden md:flex items-center space-x-8 ml-12",children:[e.jsx(G,{to:"/",className:"nav-link",children:"Home"}),e.jsx(G,{to:"/find-artisans",className:"nav-link",children:"Find Artisan"}),e.jsx(G,{to:"/community",className:"nav-link",children:"Community"})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsx("form",{onSubmit:w,className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:x,onChange:S=>f(S.target.value),placeholder:"Search for products...",className:"search-bar pl-12 pr-4"}),e.jsx(qe,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"})]})})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(G,{to:"/cart",className:"relative p-2 text-stone-700 hover:text-amber-600 transition-colors duration-300",children:[e.jsx(be,{className:"w-6 h-6"}),h>0&&e.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:h})]}),a?e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{className:"flex items-center space-x-2 p-2 text-stone-700 hover:text-amber-600 transition-colors duration-300",children:[e.jsx(ge,{className:"w-6 h-6"}),e.jsx("span",{className:"hidden sm:block text-sm font-medium",children:n?"Guest User":"My Account"})]}),e.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-2xl shadow-xl border border-stone-200 py-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200",children:[!n&&e.jsxs(e.Fragment,{children:[e.jsx(G,{to:c==="artisan"?"/profile":"/account",className:"block px-4 py-2 text-sm text-stone-700 hover:bg-stone-50",children:"My Profile"}),c==="artisan"&&e.jsx(G,{to:"/products",className:"block px-4 py-2 text-sm text-stone-700 hover:bg-stone-50",children:"My Products"}),e.jsx(G,{to:"/orders",className:"block px-4 py-2 text-sm text-stone-700 hover:bg-stone-50",children:"My Orders"}),e.jsx("hr",{className:"my-2 border-stone-200"})]}),e.jsx("button",{onClick:g,className:"block w-full text-left px-4 py-2 text-sm text-stone-700 hover:bg-stone-50",children:n?"Clear Session":"Sign Out"})]})]}):e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(G,{to:"/login",className:"btn-secondary",children:"Sign In"}),e.jsx(G,{to:"/register",className:"btn-primary",children:"Join Now"})]}),e.jsx("button",{onClick:()=>l(!m),className:"md:hidden p-2 text-stone-700 hover:text-amber-600 transition-colors duration-300",children:m?e.jsx(rr,{className:"w-6 h-6"}):e.jsx(Da,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"md:hidden py-4",children:e.jsx("form",{onSubmit:w,className:"w-full",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:x,onChange:S=>f(S.target.value),placeholder:"Search for products...",className:"search-bar pl-12 pr-4"}),e.jsx(qe,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-stone-400"})]})})})]}),m&&e.jsx("div",{className:"md:hidden bg-white border-t border-stone-200",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsx(G,{to:"/",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"Home"}),e.jsx(G,{to:"/find-artisans",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"Find Artisan"}),e.jsx(G,{to:"/community",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"Community"}),a&&e.jsxs(e.Fragment,{children:[e.jsx(G,{to:c==="artisan"?"/profile":"/account",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"My Profile"}),c==="artisan"&&e.jsx(G,{to:"/products",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"My Products"})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx(G,{to:"/orders",className:"block px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"My Orders"}),e.jsx("button",{onClick:()=>{g(),l(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-stone-700 hover:text-amber-600 hover:bg-stone-50 rounded-lg transition-colors duration-300",children:n?"Clear Session":"Sign Out"})]}),!a&&e.jsxs("div",{className:"pt-4 space-y-2",children:[e.jsx(G,{to:"/login",className:"block w-full text-center px-3 py-2 text-base font-medium text-stone-700 bg-stone-100 hover:bg-stone-200 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"Sign In"}),e.jsx(G,{to:"/register",className:"block w-full text-center px-3 py-2 text-base font-medium text-white bg-amber-600 hover:bg-amber-700 rounded-lg transition-colors duration-300",onClick:()=>l(!1),children:"Join Now"})]})]})})]})}function Qi(){const[t,s]=i.useState(""),a=le(),r=m=>{m.preventDefault(),t.trim()&&a(`/search?q=${encodeURIComponent(t.trim())}`)},n=[{name:"Fresh Produce",img:"https://images.unsplash.com/photo-1506806732259-39c2d0268443?auto=format&fit=crop&w=600&q=80"},{name:"Bakery",img:"https://images.unsplash.com/photo-1608198093002-ad4e005484ec?auto=format&fit=crop&w=600&q=80"},{name:"Dairy & Eggs",img:"https://images.unsplash.com/photo-1589923188900-85dae523342b?auto=format&fit=crop&w=600&q=80"},{name:"Honey & Jams",img:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?auto=format&fit=crop&w=600&q=80"},{name:"Maple Syrup",img:"https://images.unsplash.com/photo-1506619216599-9d16d0903dfd?auto=format&fit=crop&w=600&q=80"},{name:"Artisan Cheese",img:"https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?auto=format&fit=crop&w=600&q=80"},{name:"Fresh Pasta",img:"https://images.unsplash.com/photo-1551892374-ecf8754cf8b0?auto=format&fit=crop&w=600&q=80"},{name:"Herbs & Spices",img:"https://images.unsplash.com/photo-1544787219-7f47ccb76574?auto=format&fit=crop&w=600&q=80"}],o=[{name:"Jean's Artisan Farm",desc:"Family-owned since 1985, known for premium organic apples.",img:"https://images.unsplash.com/photo-1606788075761-87986d1a6018?auto=format&fit=crop&w=600&q=80"},{name:"Rosewood Artisan Bakery",desc:"Artisan sourdough and pastries, handcrafted daily.",img:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?auto=format&fit=crop&w=600&q=80"},{name:"Maple Grove Artisan Syrup",desc:"Locally tapped maple syrup, rich and authentic.",img:"https://images.unsplash.com/photo-1615485925600-49d5c3b18e30?auto=format&fit=crop&w=600&q=80"}],c=[{icon:kt,title:"Reach New Local Patrons",description:"Connect with patrons in your area who are actively seeking local, quality products."},{icon:Ue,title:"Flexible Delivery Models",description:"Choose between direct delivery or hub-based distribution to fit your artisan business model."},{icon:at,title:"Simple Onboarding & Payments",description:"Easy setup process and secure payment processing to get you selling quickly."},{icon:Ja,title:"Analytics & Insights",description:"Track your sales, understand patron preferences, and grow your artisan business with data-driven insights."}],u=[{step:"1",title:"Sign Up",description:"Create your artisan profile in minutes with our simple registration process."},{step:"2",title:"Add Products",description:"Upload your products with photos, descriptions, and pricing information."},{step:"3",title:"Choose Delivery Model",description:"Select between direct delivery or hub-based distribution based on your needs."},{step:"4",title:"Get Paid",description:"Receive secure payments and track your earnings through our platform."}];return e.jsxs("div",{className:"min-h-screen bg-neutral-50 text-gray-800",children:[e.jsxs("section",{className:"relative h-[70vh] flex items-center justify-center bg-cover bg-center",style:{backgroundImage:"url('https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80')"},children:[e.jsx("div",{className:"absolute inset-0 bg-black/40"}),e.jsxs("div",{className:"relative z-10 text-center text-white px-4",children:[e.jsx("h1",{className:"text-5xl font-bold mb-4",children:"Exceptional Local Products"}),e.jsx("p",{className:"text-lg mb-6",children:"From fresh produce to artisanal creations — crafted by local hands, delivered to your door."}),e.jsxs("form",{onSubmit:r,className:"max-w-md mx-auto mb-8",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:t,onChange:m=>s(m.target.value),placeholder:"Search for products...",className:"w-full px-6 py-4 pl-14 text-lg border-2 border-white/20 rounded-full focus:border-white focus:ring-2 focus:ring-white/20 transition-all bg-white/10 backdrop-blur-sm text-white placeholder-white/80"}),e.jsx(qe,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 w-6 h-6 text-white/80"}),e.jsx("button",{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-amber-600 text-white px-6 py-2 rounded-full hover:bg-amber-700 transition-colors",children:"Search"})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsx("p",{className:"text-white/80 text-sm mb-2",children:"Popular searches:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:["fresh eggs","sourdough bread","maple syrup","organic honey","artisan cheese"].map(m=>e.jsx("button",{type:"button",onClick:()=>s(m),className:"px-3 py-1 bg-white/20 backdrop-blur-sm text-white text-sm rounded-full hover:bg-white/30 transition-colors",children:m},m))})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[e.jsx(G,{to:"/register",className:"bg-amber-600 hover:bg-amber-700 text-white px-8 py-4 rounded-2xl shadow-lg text-lg font-semibold transition-colors",children:"Start Shopping"}),e.jsx(G,{to:"/artisan/register",className:"bg-white/20 backdrop-blur-sm hover:bg-white/30 text-white px-8 py-4 rounded-2xl shadow-lg text-lg font-semibold transition-colors border border-white/30",children:"Sell on The Bazar"})]})]})]}),e.jsxs("section",{className:"max-w-6xl mx-auto py-16 px-4",children:[e.jsx("h2",{className:"text-3xl font-semibold text-center mb-10",children:"Browse by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:n.map((m,l)=>e.jsxs("div",{className:"overflow-hidden rounded-2xl shadow-md hover:shadow-lg transition cursor-pointer",children:[e.jsx("img",{src:m.img,alt:m.name,className:"h-40 w-full object-cover"}),e.jsx("div",{className:"text-center py-4 bg-white",children:e.jsx("h3",{className:"font-semibold text-lg",children:m.name})})]},l))})]}),e.jsx("section",{className:"bg-white py-16 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"Why Sell on The Bazar?"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join our community of local artisans and farmers. We provide everything you need to reach new patrons and grow your artisan business."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:c.map((m,l)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-amber-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(m.icon,{className:"w-8 h-8 text-amber-600"})}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.description})]},l))})]})}),e.jsx("section",{className:"bg-neutral-100 py-16 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-4",children:"How It Works for Artisans"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get started in just a few simple steps and start selling your products to local patrons."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:u.map((m,l)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-amber-600 text-white w-12 h-12 rounded-full flex items-center justify-center mx-auto mb-4 text-xl font-bold",children:m.step}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:m.title}),e.jsx("p",{className:"text-gray-600",children:m.description})]},l))})]})}),e.jsxs("section",{className:"bg-white py-16 px-4",children:[e.jsx("h2",{className:"text-3xl font-semibold text-center mb-10",children:"Meet the Artisans"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 max-w-6xl mx-auto",children:o.map((m,l)=>e.jsxs("div",{className:"overflow-hidden rounded-2xl shadow-md hover:shadow-lg transition cursor-pointer",children:[e.jsx("img",{src:m.img,alt:m.name,className:"h-48 w-full object-cover"}),e.jsxs("div",{className:"p-4 bg-white",children:[e.jsx("h3",{className:"font-semibold text-xl mb-2",children:m.name}),e.jsx("p",{className:"text-sm text-gray-600",children:m.desc})]})]},l))})]}),e.jsx("section",{className:"bg-amber-600 text-white py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Ready to Grow Your Artisan Business?"}),e.jsx("p",{className:"text-xl mb-8 text-amber-100",children:"Join hundreds of local artisans and farmers who are already selling on The Bazar. Start reaching new patrons today."}),e.jsx(G,{to:"/artisan/register",className:"inline-block bg-white text-amber-600 hover:bg-gray-100 px-12 py-4 rounded-2xl shadow-lg text-xl font-bold transition-colors",children:"Become an Artisan"})]})}),e.jsxs("section",{className:"text-center py-16 bg-amber-50",children:[e.jsx("h2",{className:"text-3xl font-semibold mb-6",children:"Local Quality. Delivered to You."}),e.jsx(G,{to:"/register",className:"inline-block bg-amber-700 hover:bg-amber-800 text-white px-8 py-4 rounded-2xl shadow-lg text-lg font-semibold transition-colors",children:"Start Shopping"})]}),e.jsxs("footer",{className:"bg-gray-900 text-white py-8 text-center",children:[e.jsxs("div",{className:"flex justify-center gap-6 mb-4",children:[e.jsx(ue,{className:"w-6 h-6"}),e.jsx(Ue,{className:"w-6 h-6"})]}),e.jsxs("p",{className:"text-sm",children:["© ",new Date().getFullYear()," The Bazar. Exceptional local products, made close to home."]})]})]})}function Xi(){const t=le(),[s,a]=i.useState({email:"",password:""}),[r,n]=i.useState(!1),[o,c]=i.useState(!1),u=l=>{a({...s,[l.target.name]:l.target.value})},m=async l=>{var h,d;l.preventDefault(),c(!0);try{await Yi(s),C.success("Welcome back!"),t("/dashboard")}catch(b){C.error(((d=(h=b.response)==null?void 0:h.data)==null?void 0:d.message)||"Login failed. Please try again.")}finally{c(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-amber-50 to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(Ne,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl font-bold text-stone-900 mb-2",children:"Welcome Back"}),e.jsx("p",{className:"text-stone-600 text-lg",children:"Sign in to your account to continue shopping"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-stone-200 p-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:m,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:u,className:"form-input focus-luxury",placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:r?"text":"password",autoComplete:"current-password",required:!0,value:s.password,onChange:u,className:"form-input pr-12 focus-luxury",placeholder:"Enter your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-stone-400 hover:text-stone-600 transition-colors duration-300",onClick:()=>n(!r),children:r?e.jsx(Ut,{className:"h-5 w-5"}):e.jsx(gt,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full btn-primary btn-large disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Signing In...":"Sign In"})]}),e.jsx("div",{className:"my-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-stone-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-2 bg-white text-stone-500",children:"Or continue with"})})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-stone-600 mb-4",children:"Ready to grow your business?"}),e.jsx(G,{to:"/register?type=business",className:"btn-outline w-full",children:"Become a Seller"})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-stone-600",children:["Don't have an account?"," ",e.jsx(G,{to:"/register",className:"font-semibold text-amber-600 hover:text-amber-700 transition-colors duration-300",children:"Create one now"})]})})]})})}function el(){const t=le(),[s]=Ks(),a=s.get("type")==="artisan"?"artisan":"patron",[r,n]=i.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",role:a}),[o,c]=i.useState(!1),[u,m]=i.useState(!1),[l,h]=i.useState(!1),d=v=>{n({...r,[v.target.name]:v.target.value})},b=async v=>{var x,f;if(v.preventDefault(),r.password!==r.confirmPassword){C.error("Passwords do not match");return}if(r.password.length<6){C.error("Password must be at least 6 characters long");return}if(!r.firstName||!r.lastName){C.error("First name and last name are required");return}h(!0);try{const{confirmPassword:g,...w}=r;await Zi(w),C.success("Account created successfully!"),t("/dashboard")}catch(g){C.error(((f=(x=g.response)==null?void 0:x.data)==null?void 0:f.message)||"Registration failed. Please try again.")}finally{h(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-amber-50 to-emerald-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl flex items-center justify-center mb-6 shadow-lg",children:e.jsx(Ne,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{className:"text-4xl font-bold text-stone-900 mb-2",children:"Join The Bazar"}),e.jsx("p",{className:"text-stone-600 text-lg",children:"Create your account and start your journey"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-stone-200 p-8",children:[e.jsxs("form",{className:"space-y-6",onSubmit:b,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"Account Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{type:"button",onClick:()=>n({...r,role:"patron"}),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.role==="patron"?"border-amber-500 bg-amber-50 text-amber-700":"border-stone-200 bg-white text-stone-600 hover:border-stone-300"}`,children:[e.jsx(ge,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-semibold",children:"Patron"}),e.jsx("div",{className:"text-xs",children:"Shop local products"})]}),e.jsxs("button",{type:"button",onClick:()=>n({...r,role:"artisan"}),className:`p-4 rounded-xl border-2 transition-all duration-300 ${r.role==="artisan"?"border-amber-500 bg-amber-50 text-amber-700":"border-stone-200 bg-white text-stone-600 hover:border-stone-300"}`,children:[e.jsx(Ne,{className:"w-8 h-8 mx-auto mb-2"}),e.jsx("div",{className:"text-sm font-semibold",children:"Artisan"}),e.jsx("div",{className:"text-xs",children:"Sell your products"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"firstName",className:"form-label",children:"First Name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,value:r.firstName,onChange:d,className:"form-input focus-luxury",placeholder:"First name"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"lastName",className:"form-label",children:"Last Name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,value:r.lastName,onChange:d,className:"form-input focus-luxury",placeholder:"Last name"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r.email,onChange:d,className:"form-input focus-luxury",placeholder:"Enter your email address"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",className:"form-label",children:"Phone Number"}),e.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",value:r.phone,onChange:d,className:"form-input focus-luxury",placeholder:"Enter your phone number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"password",name:"password",type:o?"text":"password",autoComplete:"new-password",required:!0,value:r.password,onChange:d,className:"form-input pr-12 focus-luxury",placeholder:"Create a password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-stone-400 hover:text-stone-600 transition-colors duration-300",onClick:()=>c(!o),children:o?e.jsx(Ut,{className:"h-5 w-5"}):e.jsx(gt,{className:"h-5 w-5"})})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:u?"text":"password",autoComplete:"new-password",required:!0,value:r.confirmPassword,onChange:d,className:"form-input pr-12 focus-luxury",placeholder:"Confirm your password"}),e.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-4 flex items-center text-stone-400 hover:text-stone-600 transition-colors duration-300",onClick:()=>m(!u),children:u?e.jsx(Ut,{className:"h-5 w-5"}):e.jsx(gt,{className:"h-5 w-5"})})]})]}),e.jsx("button",{type:"submit",disabled:l,className:"w-full btn-primary btn-large disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating Account...":"Create Account"})]}),r.role==="artisan"&&e.jsxs("div",{className:"mt-6 p-4 bg-gradient-to-br from-amber-50 to-emerald-50 rounded-xl border border-amber-200",children:[e.jsx("h4",{className:"font-semibold text-stone-800 mb-2",children:"Why sell on The Bazar?"}),e.jsxs("ul",{className:"text-sm text-stone-600 space-y-1",children:[e.jsx("li",{children:"• Reach new local customers"}),e.jsx("li",{children:"• Flexible delivery options"}),e.jsx("li",{children:"• Simple onboarding & payments"}),e.jsx("li",{children:"• Analytics & insights"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-stone-600",children:["Already have an account?"," ",e.jsx(G,{to:"/login",className:"font-semibold text-amber-600 hover:text-amber-700 transition-colors duration-300",children:"Sign in here"})]})})]})})}function tl(){const t=le(),[s,a]=i.useState(null),[r,n]=i.useState(!0),[o]=i.useState({totalOrders:12,totalSpent:245.5,favoriteRestaurants:3,averageRating:4.8}),[c]=i.useState([{id:1,restaurant:"Halal Delights",items:["Chicken Shawarma","Falafel Wrap"],total:28.5,status:"delivered",date:"2024-01-15"},{id:2,restaurant:"Spice Garden",items:["Butter Chicken","Naan Bread"],total:32,status:"preparing",date:"2024-01-14"},{id:3,restaurant:"Fresh & Healthy",items:["Greek Salad","Grilled Fish"],total:24.75,status:"delivered",date:"2024-01-13"}]);i.useEffect(()=>{async function l(){try{const h=await Le();a(h.user)}catch{C.error("Session expired. Please login again."),rt(),t("/login")}finally{n(!1)}}l()},[t]);const u=()=>{rt(),C.success("Logged out successfully!"),t("/")},m=l=>{switch(l){case"delivered":return"bg-green-100 text-green-800";case"preparing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):s?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Welcome back, ",s.name,"!"]})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-16 h-16 bg-orange-500 rounded-full flex items-center justify-center",children:e.jsx(ge,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:s.name}),e.jsx("p",{className:"text-gray-600",children:s.email}),e.jsxs("div",{className:"flex items-center mt-2 space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Saint-Hubert, QC"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"w-4 h-4 mr-1 text-yellow-400"}),e.jsxs("span",{children:[o.averageRating," rating"]})]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{className:"btn-secondary",children:[e.jsx(at,{className:"w-4 h-4 mr-2"}),"Settings"]}),e.jsx("button",{onClick:u,className:"btn-secondary text-red-600 hover:text-red-700",children:"Sign Out"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx(be,{className:"w-6 h-6 text-orange-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.totalOrders})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("span",{className:"text-2xl",children:"💰"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",o.totalSpent]})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Re,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Favorite Places"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.favoriteRestaurants})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(fe,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Rating"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.averageRating})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Recent Orders"}),e.jsxs("button",{onClick:()=>t("/orders"),className:"text-orange-500 hover:text-orange-600 font-medium flex items-center",children:["View all",e.jsx(Qs,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"space-y-4",children:c.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:l.restaurant}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:l.items.join(", ")}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l.date})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:["$",l.total]}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(l.status)}`,children:l.status})]})]},l.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("button",{onClick:()=>t("/restaurants"),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-left hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(be,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Order Food"}),e.jsx("p",{className:"text-gray-600",children:"Browse restaurants and place new orders"})]}),e.jsxs("button",{onClick:()=>t("/orders"),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-left hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(fe,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Track Orders"}),e.jsx("p",{className:"text-gray-600",children:"View and track your current orders"})]}),e.jsxs("button",{onClick:()=>t("/profile"),className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-left hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx(ge,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Edit Profile"}),e.jsx("p",{className:"text-gray-600",children:"Update your personal information"})]})]})]})}):null}function sl(){const t=le(),[s,a]=i.useState(""),[r,n]=i.useState("all"),[o]=i.useState([{id:1,name:"Rosewood Bakery",artisan:"Marie & Pierre Dubois",type:"bakery",category:"Artisan Breads",rating:4.9,distance:"2.3 km away",deliveryTime:"20-30 min",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",specialties:["Sourdough","Baguettes","Croissants"],story:"Traditional French baking methods passed down through generations",isOpen:!0},{id:2,name:"Jean's Orchard",artisan:"Jean Dubois",type:"farm",category:"Maple & Cider",rating:4.8,distance:"12 km away",deliveryTime:"45-60 min",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",specialties:["Maple Syrup","Apple Cider","Preserves"],story:"Century-old maple trees producing the finest small-batch syrup",isOpen:!0},{id:3,name:"La Fromagerie du Village",artisan:"Claire & Marc Tremblay",type:"dairy",category:"Artisan Cheeses",rating:4.9,distance:"5.1 km away",deliveryTime:"25-35 min",image:"https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=400&h=300&fit=crop",specialties:["Aged Cheddar","Fresh Mozzarella","Blue Cheese"],story:"Handcrafted cheeses using traditional European methods",isOpen:!0},{id:4,name:"Miel de la Montagne",artisan:"Sophie Tremblay",type:"farm",category:"Wildflower Honey",rating:4.7,distance:"8.7 km away",deliveryTime:"30-45 min",image:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=400&h=300&fit=crop",specialties:["Wildflower Honey","Lavender Honey","Honey Comb"],story:"Pure mountain honey from local wildflowers and herbs",isOpen:!0},{id:5,name:"Pâtisserie Belle",artisan:"Isabelle Moreau",type:"bakery",category:"Artisan Pastries",rating:4.8,distance:"3.2 km away",deliveryTime:"15-25 min",image:"https://images.unsplash.com/photo-1565958011703-44f9829ba187?w=400&h=300&fit=crop",specialties:["Macarons","Éclairs","Tarts"],story:"French pastries made with love and traditional techniques",isOpen:!0},{id:6,name:"Verger des Trois Sœurs",artisan:"Marie, Anne & Claire",type:"farm",category:"Organic Fruits",rating:4.6,distance:"15 km away",deliveryTime:"50-70 min",image:"https://images.unsplash.com/photo-1542838132-92c53300491e?w=400&h=300&fit=crop",specialties:["Organic Apples","Berries","Stone Fruits"],story:"Three sisters continuing their family's organic farming tradition",isOpen:!0}]),c=[{id:"all",name:"All Artisans",icon:"🛍️"},{id:"bakery",name:"Artisan Bakeries",icon:"🥖"},{id:"farm",name:"Local Farms",icon:"🌾"},{id:"dairy",name:"Cheese Makers",icon:"🧀"},{id:"honey",name:"Honey Artisans",icon:"🍯"},{id:"preserves",name:"Preserves & Jams",icon:"🍓"}],u=o.filter(m=>{const l=m.name.toLowerCase().includes(s.toLowerCase())||m.artisan.toLowerCase().includes(s.toLowerCase())||m.specialties.some(d=>d.toLowerCase().includes(s.toLowerCase())),h=r==="all"||m.type===r;return l&&h});return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-amber-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-orange-100",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Meet Your Local Artisans"}),e.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Discover passionate creators in your neighborhood. Every product tells a story of tradition, craftsmanship, and love for quality."})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx("input",{type:"text",value:s,onChange:m=>a(m.target.value),placeholder:"Search artisans, specialties, or products... 'sourdough', 'maple syrup', 'Marie'",className:"w-full px-6 py-4 pl-14 text-lg border-2 border-orange-200 rounded-full focus:border-orange-400 focus:ring-2 focus:ring-orange-200 transition-all"}),e.jsx(qe,{className:"absolute left-5 top-1/2 transform -translate-y-1/2 w-6 h-6 text-gray-400"})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:c.map(m=>e.jsxs("button",{onClick:()=>n(m.id),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition-all ${r===m.id?"bg-orange-500 text-white shadow-lg":"bg-white text-gray-700 hover:bg-orange-50 border border-orange-200"}`,children:[e.jsx("span",{children:m.icon}),e.jsx("span",{children:m.name})]},m.id))})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600 text-center",children:[u.length," artisan",u.length!==1?"s":""," found"]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map(m=>e.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer group",onClick:()=>t(`/artisan/${m.id}`),children:[e.jsxs("div",{className:"relative h-48",children:[e.jsx("img",{src:m.image,alt:m.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute top-3 left-3 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:m.distance}),e.jsxs("div",{className:"absolute top-3 right-3 bg-white px-2 py-1 rounded-full text-xs font-medium flex items-center shadow-sm",children:[e.jsx(Re,{className:"w-3 h-3 text-yellow-400 mr-1"}),e.jsx("span",{children:m.rating})]}),!m.isOpen&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsx("span",{className:"text-white font-semibold",children:"Currently Closed"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-1",children:m.name}),e.jsxs("p",{className:"text-orange-600 text-sm font-medium",children:["by ",m.artisan]})]}),e.jsx("p",{className:"text-gray-700 font-medium mb-2",children:m.category}),e.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:m.story}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[m.specialties.slice(0,3).map((l,h)=>e.jsx("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium",children:l},h)),m.specialties.length>3&&e.jsxs("span",{className:"text-xs text-gray-500 px-2 py-1",children:["+",m.specialties.length-3," more"]})]})}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(fe,{className:"w-4 h-4 mr-1"}),m.deliveryTime]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1 text-red-400"}),e.jsx("span",{children:"Local Favorite"})]})]}),e.jsx("button",{className:"w-full mt-4 bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors font-medium",children:"Visit Artisan"})]})]},m.id))}),u.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"🔍"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No artisans found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or category filters"}),e.jsx("button",{onClick:()=>{a(""),n("all")},className:"bg-orange-500 text-white px-6 py-2 rounded-full hover:bg-orange-600 transition-colors",children:"Clear Filters"})]})]})]})}const X="/api/profile",ee=()=>({Authorization:`Bearer ${xe.getToken()}`}),oe={getProfile:async()=>(await $.get(X,{headers:ee()})).data,updateBasicProfile:async t=>(await $.put(`${X}/basic`,t,{headers:ee()})).data,updateAddresses:async t=>(await $.put(`${X}/addresses`,{addresses:t},{headers:ee()})).data,addAddress:async t=>(await $.post(`${X}/addresses`,t,{headers:ee()})).data,updateNotifications:async t=>(await $.put(`${X}/notifications`,{notificationPreferences:t},{headers:ee()})).data,updateSettings:async t=>(await $.put(`${X}/settings`,{accountSettings:t},{headers:ee()})).data,changePassword:async(t,s)=>(await $.put(`${X}/password`,{currentPassword:t,newPassword:s},{headers:ee()})).data,updateProfilePicture:async t=>(await $.put(`${X}/picture`,{profilePicture:t},{headers:ee()})).data,getPaymentMethods:async()=>(await $.get(`${X}/payment-methods`,{headers:ee()})).data,addPaymentMethod:async t=>(await $.post(`${X}/payment-methods`,t,{headers:ee()})).data,deletePaymentMethod:async t=>(await $.delete(`${X}/payment-methods/${t}`,{headers:ee()})).data,getArtisanProfile:async()=>(await $.get(`${X}/artisan`,{headers:ee()})).data,createArtisanProfile:async t=>(await $.post(`${X}/artisan`,t,{headers:ee()})).data,updateArtisanProfile:async t=>(await $.put(`${X}/artisan`,t,{headers:ee()})).data,updateArtisanOperations:async t=>(await $.put(`${X}/artisan/operations`,t,{headers:ee()})).data,updateArtisanPhotosContact:async t=>(await $.put(`${X}/artisan/photos-contact`,t,{headers:ee()})).data,updateArtisanHours:async t=>(await $.put(`${X}/artisan/hours`,{artisanHours:t},{headers:ee()})).data,updateArtisanDelivery:async t=>(await $.put(`${X}/artisan/delivery`,{deliveryOptions:t},{headers:ee()})).data,updatePaymentMethods:async t=>(await $.put(`${X}/payment-methods`,{paymentMethods:t},{headers:ee()})).data,updateSecuritySettings:async t=>(await $.put(`${X}/security`,{securitySettings:t},{headers:ee()})).data,changePassword:async t=>(await $.put(`${X}/password`,t,{headers:ee()})).data,updateArtisanHours:async t=>(await $.put(`${X}/artisan/hours`,{artisanHours:t},{headers:ee()})).data,updateDeliveryOptions:async t=>(await $.put(`${X}/artisan/delivery`,{deliveryOptions:t},{headers:ee()})).data};function rl(){const[t,s]=i.useState("personal"),[a,r]=i.useState(null),[n,o]=i.useState(!0),[c,u]=i.useState(!1),m=[{id:"personal",name:"Personal Info",icon:ge},{id:"addresses",name:"Delivery Addresses",icon:ue},{id:"orders",name:"My Orders",icon:be},{id:"notifications",name:"Notifications",icon:_e},{id:"payment",name:"Payment Methods",icon:ke},{id:"security",name:"Security",icon:tt},{id:"settings",name:"Account Settings",icon:at}];i.useEffect(()=>{l()},[]);const l=async()=>{var d;try{o(!0);const b=await oe.getProfile();r(b)}catch(b){console.error("Error loading profile:",b),((d=b.response)==null?void 0:d.status)===401?(localStorage.removeItem("token"),window.dispatchEvent(new CustomEvent("authStateChanged",{detail:{isAuthenticated:!1}})),C.error("Session expired. Please login again.")):C.error("Failed to load profile")}finally{o(!1)}},h=async(d,b)=>{try{u(!0);let v;switch(d){case"personal":v=await oe.updateBasicProfile(b);break;case"addresses":v=await oe.updateAddresses(b);break;case"notifications":v=await oe.updateNotifications(b);break;case"payment":v=await oe.updatePaymentMethods(b);break;case"settings":v=await oe.updateSettings(b);break;default:return}r(v),C.success("Profile updated successfully")}catch(v){C.error("Failed to update profile"),console.error("Error updating profile:",v)}finally{u(!1)}};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):a?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Local Buyer Profile"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account settings and preferences"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6","aria-label":"Tabs",children:m.map(d=>{const b=d.icon;return e.jsxs("button",{onClick:()=>s(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 ${t===d.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(b,{className:"w-5 h-5"}),e.jsx("span",{children:d.name})]},d.id)})})}),e.jsxs("div",{className:"p-6",children:[t==="personal"&&e.jsx(al,{profile:a,onSave:d=>h("personal",d),isSaving:c}),t==="addresses"&&e.jsx(nl,{profile:a,onSave:d=>h("addresses",d),isSaving:c}),t==="orders"&&e.jsx(ol,{}),t==="notifications"&&e.jsx(il,{profile:a,onSave:d=>h("notifications",d),isSaving:c}),t==="payment"&&e.jsx(ll,{profile:a,onSave:d=>h("payment",d),isSaving:c}),t==="security"&&e.jsx(cl,{}),t==="settings"&&e.jsx(dl,{profile:a,onSave:d=>h("settings",d),isSaving:c})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load your profile information."}),e.jsx("button",{onClick:l,className:"btn-primary",children:"Try Again"})]})})}function al({profile:t,onSave:s,isSaving:a}){const[r,n]=i.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",phone:(t==null?void 0:t.phone)||""}),o=c=>{c.preventDefault(),s(r)};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Personal Information"}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:r.firstName,onChange:c=>n({...r,firstName:c.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:r.lastName,onChange:c=>n({...r,lastName:c.target.value}),className:"input-field",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:r.phone,onChange:c=>n({...r,phone:c.target.value}),className:"input-field"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary disabled:opacity-50",children:a?"Saving...":"Save Changes"})})]})]})}function nl({profile:t,onSave:s,isSaving:a}){const[r,n]=i.useState((t==null?void 0:t.addresses)||[]),o=()=>{s(r)},c=()=>{n([...r,{type:"home",label:"",street:"",city:"",state:"",zipCode:"",isDefault:r.length===0}])},u=m=>{n(r.filter((l,h)=>h!==m))};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Delivery Addresses"}),e.jsxs("button",{onClick:c,className:"btn-secondary flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Address"})]})]}),e.jsx("div",{className:"space-y-4",children:r.map((m,l)=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h4",{className:"font-medium",children:["Address ",l+1]}),e.jsx("button",{onClick:()=>u(l),className:"text-red-500 hover:text-red-700",children:e.jsx(we,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Label (e.g., Home, Work)",value:m.label,onChange:h=>{const d=[...r];d[l].label=h.target.value,n(d)},className:"input-field"}),e.jsx("input",{type:"text",placeholder:"Street Address",value:m.street,onChange:h=>{const d=[...r];d[l].street=h.target.value,n(d)},className:"input-field"}),e.jsx("input",{type:"text",placeholder:"City",value:m.city,onChange:h=>{const d=[...r];d[l].city=h.target.value,n(d)},className:"input-field"}),e.jsx("input",{type:"text",placeholder:"State/Province",value:m.state,onChange:h=>{const d=[...r];d[l].state=h.target.value,n(d)},className:"input-field"}),e.jsx("input",{type:"text",placeholder:"ZIP/Postal Code",value:m.zipCode,onChange:h=>{const d=[...r];d[l].zipCode=h.target.value,n(d)},className:"input-field"})]})]},l))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:o,disabled:a,className:"btn-primary disabled:opacity-50",children:a?"Saving...":"Save Addresses"})})]})}function ol(){return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"My Orders"}),e.jsxs("div",{className:"text-center py-12",children:[e.jsx(be,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Your order history will appear here"})]})]})}function il({profile:t,onSave:s,isSaving:a}){const[r,n]=i.useState((t==null?void 0:t.notificationPreferences)||{}),o=()=>{s(r)};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Email Notifications"}),e.jsx("div",{className:"space-y-3",children:Object.entries(r.email||{}).map(([c,u])=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:m=>n({...r,email:{...r.email,[c]:m.target.checked}}),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"ml-3 text-sm text-gray-700 capitalize",children:c.replace(/([A-Z])/g," $1").toLowerCase()})]},c))})]})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:o,disabled:a,className:"btn-primary disabled:opacity-50",children:a?"Saving...":"Save Preferences"})})]})}function ll({profile:t,onSave:s,isSaving:a}){const[r,n]=i.useState((t==null?void 0:t.paymentMethods)||[]),[o,c]=i.useState(!1),[u,m]=i.useState({type:"credit_card",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:"",isDefault:!1}),l=()=>{if(!u.cardNumber||!u.cardholderName){C.error("Please fill in all required fields");return}if(u.cardNumber.length<13){C.error("Please enter a valid card number");return}if(!u.expiryMonth||!u.expiryYear){C.error("Please enter card expiry date");return}if(!u.cvv||u.cvv.length<3){C.error("Please enter a valid CVV");return}const x={id:Date.now().toString(),...u,last4:u.cardNumber.slice(-4),maskedNumber:`**** **** **** ${u.cardNumber.slice(-4)}`};n([...r,x]),m({type:"credit_card",cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:"",isDefault:!1}),c(!1),C.success("Payment method added successfully")},h=x=>{n(r.filter(f=>f.id!==x))},d=x=>{n(r.map(f=>({...f,isDefault:f.id===x})))},b=x=>{switch(x){case"credit_card":return"💳";case"debit_card":return"🏦";case"paypal":return"📧";default:return"💳"}},v=()=>{typeof s=="function"&&s("payment",r)};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment Methods"}),e.jsxs("button",{onClick:()=>c(!o),className:"btn-secondary flex items-center space-x-2",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:"Add Payment Method"})]})]}),o&&e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 mb-6 bg-gray-50",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Add New Payment Method"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Type"}),e.jsxs("select",{value:u.type,onChange:x=>m({...u,type:x.target.value}),className:"input-field",children:[e.jsx("option",{value:"credit_card",children:"Credit Card"}),e.jsx("option",{value:"debit_card",children:"Debit Card"}),e.jsx("option",{value:"paypal",children:"PayPal"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",value:u.cardholderName,onChange:x=>m({...u,cardholderName:x.target.value}),className:"input-field",placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),e.jsx("input",{type:"text",value:u.cardNumber,onChange:x=>{const g=x.target.value.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ");m({...u,cardNumber:g})},className:"input-field",placeholder:"1234 5678 9012 3456",maxLength:"19"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),e.jsx("input",{type:"text",value:u.expiryMonth,onChange:x=>m({...u,expiryMonth:x.target.value}),className:"input-field",placeholder:"MM",maxLength:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),e.jsx("input",{type:"text",value:u.expiryYear,onChange:x=>m({...u,expiryYear:x.target.value}),className:"input-field",placeholder:"YY",maxLength:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:u.cvv,onChange:x=>m({...u,cvv:x.target.value}),className:"input-field",placeholder:"123",maxLength:"4"})]})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u.isDefault,onChange:x=>m({...u,isDefault:x.target.checked}),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Set as default payment method"})]})})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[e.jsx("button",{onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:l,className:"btn-primary",children:"Add Payment Method"})]})]}),e.jsx("div",{className:"space-y-4",children:r.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ke,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"No payment methods added yet"}),e.jsx("button",{onClick:()=>c(!0),className:"btn-primary",children:"Add Your First Payment Method"})]}):r.map(x=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-2xl",children:b(x.type)}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:x.cardholderName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[x.maskedNumber," • Expires ",x.expiryMonth,"/",x.expiryYear]}),x.isDefault&&e.jsx("span",{className:"inline-block bg-orange-100 text-orange-800 text-xs px-2 py-1 rounded-full mt-1",children:"Default"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[!x.isDefault&&e.jsx("button",{onClick:()=>d(x.id),className:"text-sm text-orange-600 hover:text-orange-800",children:"Set Default"}),e.jsx("button",{onClick:()=>h(x.id),className:"text-red-500 hover:text-red-700",children:e.jsx(we,{className:"w-4 h-4"})})]})]})},x.id))}),r.length>0&&e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:v,disabled:a,className:"btn-primary disabled:opacity-50",children:a?"Saving...":"Save Payment Methods"})})]})}function cl(){const[t,s]=i.useState(""),[a,r]=i.useState(""),[n,o]=i.useState(""),[c,u]=i.useState(!1),[m,l]=i.useState(!1),h=async d=>{if(d.preventDefault(),a!==n){C.error("New passwords do not match");return}if(a.length<8){C.error("Password must be at least 8 characters long");return}try{l(!0),C.success("Password changed successfully"),s(""),r(""),o(""),u(!1)}catch{C.error("Failed to change password")}finally{l(!1)}};return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Security Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Password"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Update your account password"})]}),e.jsx("button",{onClick:()=>u(!c),className:"btn-secondary text-sm",children:c?"Cancel":"Change Password"})]}),c&&e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),e.jsx("input",{type:"password",value:t,onChange:d=>s(d.target.value),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:a,onChange:d=>r(d.target.value),className:"input-field",required:!0,minLength:"8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password"}),e.jsx("input",{type:"password",value:n,onChange:d=>o(d.target.value),className:"input-field",required:!0,minLength:"8"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:m,className:"btn-primary disabled:opacity-50",children:m?"Changing Password...":"Update Password"})})]})]}),e.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),e.jsx("button",{className:"btn-secondary text-sm",children:"Enable 2FA"})]})}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:"Active Sessions"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage your active login sessions"})]}),e.jsx("button",{className:"btn-secondary text-sm",children:"View All Sessions"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("p",{children:"Current session: This device (Chrome on macOS)"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Last active: Just now"})]})]}),e.jsx("div",{className:"border border-red-200 rounded-lg p-6 bg-red-50",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all data"})]}),e.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm",children:"Delete Account"})]})})]})]})}function dl({profile:t,onSave:s,isSaving:a}){const[r,n]=i.useState((t==null?void 0:t.accountSettings)||{language:"en",currency:"CAD",timezone:"America/Toronto",twoFactorEnabled:!1}),o=()=>{s(r)},c=[{code:"en",name:"English"},{code:"fr",name:"Français"},{code:"es",name:"Español"}],u=[{code:"CAD",name:"Canadian Dollar (CAD)"},{code:"USD",name:"US Dollar (USD)"},{code:"EUR",name:"Euro (EUR)"}],m=[{code:"America/Toronto",name:"Eastern Time (ET)"},{code:"America/Vancouver",name:"Pacific Time (PT)"},{code:"America/Edmonton",name:"Mountain Time (MT)"},{code:"America/Winnipeg",name:"Central Time (CT)"}];return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Account Settings"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Language & Region"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),e.jsx("select",{value:r.language,onChange:l=>n({...r,language:l.target.value}),className:"input-field",children:c.map(l=>e.jsx("option",{value:l.code,children:l.name},l.code))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),e.jsx("select",{value:r.currency,onChange:l=>n({...r,currency:l.target.value}),className:"input-field",children:u.map(l=>e.jsx("option",{value:l.code,children:l.name},l.code))})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Time Zone"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Time Zone"}),e.jsx("select",{value:r.timezone,onChange:l=>n({...r,timezone:l.target.value}),className:"input-field",children:m.map(l=>e.jsx("option",{value:l.code,children:l.name},l.code))}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This affects how dates and times are displayed in your account"})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Privacy & Data"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Profile Visibility"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Allow other users to see your profile information"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.profileVisible!==!1,onChange:l=>n({...r,profileVisible:l.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Data Analytics"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Allow us to collect usage data to improve our service"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.analyticsEnabled!==!1,onChange:l=>n({...r,analyticsEnabled:l.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Communication Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive important updates via email"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.emailNotifications!==!1,onChange:l=>n({...r,emailNotifications:l.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive order updates via text message"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",checked:r.smsNotifications!==!1,onChange:l=>n({...r,smsNotifications:l.target.checked})}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-orange-500"})]})]})]})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:o,disabled:a,className:"btn-primary disabled:opacity-50",children:a?"Saving...":"Save Settings"})})]})}const Te="/api/products",ml=async(t={})=>{const s=new URLSearchParams;return Object.keys(t).forEach(r=>{t[r]!==void 0&&t[r]!==null&&t[r]!==""&&s.append(r,t[r])}),(await $.get(`${Te}?${s.toString()}`)).data},ul=async(t,s={})=>{if(t)return(await $.get(`${Te}/search?q=${encodeURIComponent(t)}`)).data;const a=new URLSearchParams;return Object.keys(s).forEach(n=>{s[n]!==void 0&&s[n]!==null&&s[n]!==""&&a.append(n,s[n])}),(await $.get(`${Te}?${a.toString()}`)).data},hl=async()=>{const t=localStorage.getItem("token");return(await $.get(`${Te}/my-products`,{headers:{Authorization:`Bearer ${t}`}})).data},xl=async t=>{const s=localStorage.getItem("token");let a,r={Authorization:`Bearer ${s}`};return t.image instanceof File?(a=new FormData,Object.keys(t).forEach(o=>{o==="image"?a.append("image",t.image):o==="tags"&&Array.isArray(t[o])?a.append("tags",JSON.stringify(t[o])):t[o]!==void 0&&t[o]!==null&&a.append(o,t[o])})):(a=t,r["Content-Type"]="application/json"),(await $.post(Te,a,{headers:r})).data},Ts=async(t,s)=>{const a=localStorage.getItem("token");let r,n={Authorization:`Bearer ${a}`};if(s.image instanceof File){const u=new FormData;Object.keys(s).forEach(m=>{m==="image"&&s[m]instanceof File?u.append("image",s[m]):m==="tags"&&Array.isArray(s[m])?u.append("tags",JSON.stringify(s[m])):s[m]!==void 0&&s[m]!==null&&u.append(m,s[m])}),r=u}else r=s,n["Content-Type"]="application/json";return(await $.put(`${Te}/${t}`,r,{headers:n})).data},pl=async(t,s)=>{const a=localStorage.getItem("token");return(await $.patch(`${Te}/${t}/inventory`,s,{headers:{Authorization:`Bearer ${a}`}})).data},gl=async t=>{const s=localStorage.getItem("token");return(await $.delete(`${Te}/${t}`,{headers:{Authorization:`Bearer ${s}`}})).data},fl=t=>({farm:"Farm",bakery:"Bakery",restaurant:"Restaurant",cafe:"Café",market:"Market",butcher:"Butcher Shop",dairy:"Dairy",winery:"Winery",brewery:"Brewery",distillery:"Distillery",food_truck:"Food Truck",catering:"Catering",grocery:"Grocery Store",specialty_shop:"Specialty Food Shop",fish_market:"Fish Market",organic_store:"Organic Store",coffee_roaster:"Coffee Roaster",tea_house:"Tea House",chocolate_maker:"Chocolate Maker",cheese_maker:"Cheese Maker",honey_producer:"Honey Producer",maple_syrup:"Maple Syrup Producer",mushroom_farm:"Mushroom Farm",herb_garden:"Herb Garden",greenhouse:"Greenhouse",orchard:"Orchard",vineyard:"Vineyard",microgreens:"Microgreens Farm",aquaponics:"Aquaponics Farm",hydroponics:"Hydroponics Farm",other:"Other"})[t]||t,Is=t=>({farm:["Fresh Produce & Vegetables","Fruits & Berries","Grains & Cereals"],bakery:["Bread & Pastries"],restaurant:["Prepared Foods","Fresh Produce & Vegetables","Meat & Poultry"],cafe:["Beverages & Drinks","Bread & Pastries"],market:["Fresh Produce & Vegetables","Dairy & Eggs","Meat & Poultry","Bread & Pastries"],butcher:["Meat & Poultry"],dairy:["Dairy & Eggs"],winery:["Beverages & Drinks"],brewery:["Beverages & Drinks"],distillery:["Beverages & Drinks"],food_truck:["Prepared Foods","Beverages & Drinks"],catering:["Prepared Foods"],grocery:["Fresh Produce & Vegetables","Dairy & Eggs","Meat & Poultry","Bread & Pastries","Beverages & Drinks"],specialty_shop:["Specialty Items","Artisan Products"],fish_market:["Seafood & Fish"],organic_store:["Organic Products","Fresh Produce & Vegetables","Dairy & Eggs"],coffee_roaster:["Beverages & Drinks"],tea_house:["Beverages & Drinks"],chocolate_maker:["Artisan Products"],cheese_maker:["Artisan Products","Dairy & Eggs"],honey_producer:["Honey & Sweeteners"],maple_syrup:["Honey & Sweeteners"],mushroom_farm:["Mushrooms"],herb_garden:["Herbs & Spices"],greenhouse:["Fresh Produce & Vegetables","Herbs & Spices","Microgreens & Sprouts"],orchard:["Fruits & Berries"],vineyard:["Beverages & Drinks"],microgreens:["Microgreens & Sprouts"],aquaponics:["Fresh Produce & Vegetables","Seafood & Fish"],hydroponics:["Fresh Produce & Vegetables","Microgreens & Sprouts"],other:[]})[t]||[];function bl(){const[t,s]=i.useState(null),[a,r]=i.useState(null);i.useState([]);const[n,o]=i.useState("overview"),[c,u]=i.useState(!0),m=[{id:"overview",name:"Overview",icon:ge},{id:"operations",name:"Operations & Contact",icon:at},{id:"hours",name:"Artisan Hours",icon:fe},{id:"delivery",name:"Delivery",icon:ue},{id:"personal",name:"Personal Info",icon:ge},{id:"notifications",name:"Notifications",icon:_e},{id:"payment",name:"Payment",icon:ke},{id:"security",name:"Security",icon:tt}];i.useEffect(()=>{l()},[]);const l=async()=>{try{u(!0);const h=await oe.getProfile();s(h);try{const d=await oe.getArtisanProfile();r(d)}catch{console.log("Artisan profile not found yet, user needs to set it up"),r(null)}}catch(h){console.error("Error loading profiles:",h),C.error("Failed to load profile data")}finally{u(!1)}};if(c)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500"})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})]})});if(!a&&t.role==="artisan"){const h=[{id:"setup",name:"Setup Profile",icon:ge},{id:"personal",name:"Personal Info",icon:ge},{id:"notifications",name:"Notifications",icon:_e},{id:"payment",name:"Payment",icon:ke},{id:"security",name:"Security",icon:tt}];return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:h.map(d=>e.jsxs("button",{onClick:()=>o(d.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${n===d.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(d.icon,{className:"w-5 h-5 inline mr-2"}),d.name]},d.id))})}),e.jsxs("div",{className:"p-6",children:[n==="setup"&&e.jsx(wl,{onProfileCreated:l}),n==="personal"&&e.jsx(Ds,{profile:t}),n==="notifications"&&e.jsx(Bs,{profile:t}),n==="payment"&&e.jsx($s,{profile:t}),n==="security"&&e.jsx(_s,{profile:t})]})]})})})}return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex space-x-8 px-6",children:m.map(h=>e.jsxs("button",{onClick:()=>o(h.id),className:`py-4 px-1 border-b-2 font-medium text-sm ${n===h.id?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(h.icon,{className:"w-5 h-5 inline mr-2"}),h.name]},h.id))})}),e.jsxs("div",{className:"p-6",children:[n==="overview"&&e.jsx(yl,{profile:t,artisanProfile:a}),n==="operations"&&e.jsx(jl,{artisanProfile:a,onUpdate:l}),n==="hours"&&e.jsx(vl,{artisanProfile:a,onUpdate:l}),n==="delivery"&&e.jsx(Nl,{artisanProfile:a,onUpdate:l}),n==="personal"&&e.jsx(Ds,{profile:t,onUpdate:l}),n==="notifications"&&e.jsx(Bs,{profile:t,onUpdate:l}),n==="payment"&&e.jsx($s,{profile:t,onUpdate:l}),n==="security"&&e.jsx(_s,{profile:t,onUpdate:l})]})]})})})}function yl({profile:t,artisanProfile:s}){return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Artisan Dashboard Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-amber-500 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ln,{className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-orange-100",children:"Artisan Status"}),e.jsx("p",{className:"text-2xl font-bold",children:s!=null&&s.isActive?"Active":"Inactive"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-500 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(be,{className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-blue-100",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold",children:"0"})]})]})}),e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(mn,{className:"w-8 h-8 mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-green-100",children:"Revenue"}),e.jsx("p",{className:"text-2xl font-bold",children:"$0"})]})]})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Artisan Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Artisan Name"}),e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.artisanName)||"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Artisan Type"}),e.jsx("p",{className:"font-medium",children:fl(s==null?void 0:s.type)||"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Category"}),e.jsx("p",{className:"font-medium",children:(s==null?void 0:s.category)||"Not set"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Status"}),e.jsx("p",{className:"font-medium",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${s!=null&&s.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s!=null&&s.isActive?"Active":"Inactive"})})]})]})]})]})}function jl({artisanProfile:t,onUpdate:s}){var b,v,x,f,g,w,S,E,B,P,I,D,W,Y,R,q,T,Z,te;const[a,r]=i.useState(!1),[n,o]=i.useState({productionMethods:((b=t==null?void 0:t.operationDetails)==null?void 0:b.productionMethods)||"",sustainabilityPractices:((v=t==null?void 0:t.operationDetails)==null?void 0:v.sustainabilityPractices)||"",certifications:((x=t==null?void 0:t.operationDetails)==null?void 0:x.certifications)||[],yearsInBusiness:((f=t==null?void 0:t.operationDetails)==null?void 0:f.yearsInBusiness)||"",productionCapacity:((g=t==null?void 0:t.operationDetails)==null?void 0:g.productionCapacity)||"",qualityStandards:((w=t==null?void 0:t.operationDetails)==null?void 0:w.qualityStandards)||"",equipment:((S=t==null?void 0:t.operationDetails)==null?void 0:S.equipment)||"",processes:((E=t==null?void 0:t.operationDetails)==null?void 0:E.processes)||"",ingredients:((B=t==null?void 0:t.operationDetails)==null?void 0:B.ingredients)||"",facilities:((P=t==null?void 0:t.operationDetails)==null?void 0:P.facilities)||"",photos:(t==null?void 0:t.photos)||[],contactInfo:{phone:((I=t==null?void 0:t.contactInfo)==null?void 0:I.phone)||"",email:((D=t==null?void 0:t.contactInfo)==null?void 0:D.email)||"",website:((W=t==null?void 0:t.contactInfo)==null?void 0:W.website)||"",socialMedia:{facebook:((R=(Y=t==null?void 0:t.contactInfo)==null?void 0:Y.socialMedia)==null?void 0:R.facebook)||"",instagram:((T=(q=t==null?void 0:t.contactInfo)==null?void 0:q.socialMedia)==null?void 0:T.instagram)||"",twitter:((te=(Z=t==null?void 0:t.contactInfo)==null?void 0:Z.socialMedia)==null?void 0:te.twitter)||""}}}),c=async F=>{var z,p;F.preventDefault(),r(!0);try{await Promise.all([oe.updateArtisanOperations({productionMethods:n.productionMethods,sustainabilityPractices:n.sustainabilityPractices,certifications:n.certifications,yearsInBusiness:n.yearsInBusiness,productionCapacity:n.productionCapacity,qualityStandards:n.qualityStandards,equipment:n.equipment,processes:n.processes,ingredients:n.ingredients,facilities:n.facilities}),oe.updateArtisanPhotosContact({photos:n.photos,contactInfo:n.contactInfo})]),C.success("Operations and contact information updated successfully!"),s()}catch(k){console.error("Error updating operations and contact:",k),C.error(((p=(z=k.response)==null?void 0:z.data)==null?void 0:p.message)||"Failed to update operations and contact information")}finally{r(!1)}},u=()=>{o({...n,certifications:[...n.certifications,""]})},m=F=>{o({...n,certifications:n.certifications.filter((z,p)=>p!==F)})},l=(F,z)=>{const p=[...n.certifications];p[F]=z,o({...n,certifications:p})},h=(F,z)=>{if(z){if(z.size>10485760){alert("File is too large. Please select a smaller image (under 10MB).");return}const k=document.createElement("canvas"),M=k.getContext("2d"),N=new Image;N.onload=()=>{let{width:L,height:H}=N;L>H?L>600&&(H=H*600/L,L=600):H>600&&(L=L*600/H,H=600),k.width=L,k.height=H,M.drawImage(N,0,0,L,H);const U=k.toDataURL("image/jpeg",.6),K=Math.ceil(U.length*3/4),Q=(K/(1024*1024)).toFixed(2);if(K>5*1024*1024){alert(`Image is still too large (${Q}MB). Please select a smaller image.`);return}console.log(`Compressed image size: ${Q}MB`);const ce=[...n.photos];ce[F]=U,o({...n,photos:ce})},N.src=URL.createObjectURL(z)}},d=F=>{const z=[...n.photos];z.splice(F,1),o({...n,photos:z})};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Operations & Contact Management"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your artisan operations, production details, photos, and contact information."}),e.jsxs("form",{onSubmit:c,className:"space-y-8",children:[e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Artisan Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(F=>e.jsx("div",{className:"relative",children:e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-orange-400 transition-colors",children:n.photos[F]?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:n.photos[F],alt:`Business photo ${F+1}`,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>d(F),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(we,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{className:"h-8 w-8 text-gray-400 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500",children:F===0?"Primary Photo":`Photo ${F+1}`}),e.jsx("input",{type:"file",accept:"image/*",onChange:z=>h(F,z.target.files[0]),className:"hidden",id:`photo-${F}`}),e.jsx("label",{htmlFor:`photo-${F}`,className:"cursor-pointer text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Upload Photo"})]})})},F))}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload photos of your business, products, or facilities. The first photo will be your primary image."})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n.contactInfo.phone,onChange:F=>o({...n,contactInfo:{...n.contactInfo,phone:F.target.value}}),className:"input-field",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:n.contactInfo.email,onChange:F=>o({...n,contactInfo:{...n.contactInfo,email:F.target.value}}),className:"input-field",placeholder:"business@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (Optional)"}),e.jsx("input",{type:"url",value:n.contactInfo.website,onChange:F=>o({...n,contactInfo:{...n.contactInfo,website:F.target.value}}),className:"input-field",placeholder:"https://yourbusiness.com"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Social Media (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),e.jsx("input",{type:"url",value:n.contactInfo.socialMedia.facebook,onChange:F=>o({...n,contactInfo:{...n.contactInfo,socialMedia:{...n.contactInfo.socialMedia,facebook:F.target.value}}}),className:"input-field",placeholder:"https://facebook.com/yourbusiness"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),e.jsx("input",{type:"url",value:n.contactInfo.socialMedia.instagram,onChange:F=>o({...n,contactInfo:{...n.contactInfo,socialMedia:{...n.contactInfo.socialMedia,instagram:F.target.value}}}),className:"input-field",placeholder:"https://instagram.com/yourbusiness"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter/X"}),e.jsx("input",{type:"url",value:n.contactInfo.socialMedia.twitter,onChange:F=>o({...n,contactInfo:{...n.contactInfo,socialMedia:{...n.contactInfo.socialMedia,twitter:F.target.value}}}),className:"input-field",placeholder:"https://twitter.com/yourbusiness"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Operations & Production"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Production Methods"}),e.jsx("textarea",{value:n.productionMethods,onChange:F=>o({...n,productionMethods:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your production methods, techniques, or processes..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sustainability Practices"}),e.jsx("textarea",{value:n.sustainabilityPractices,onChange:F=>o({...n,sustainabilityPractices:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your sustainability practices..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Equipment & Tools"}),e.jsx("textarea",{value:n.equipment,onChange:F=>o({...n,equipment:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your equipment, tools, or machinery..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Production Processes"}),e.jsx("textarea",{value:n.processes,onChange:F=>o({...n,processes:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your step-by-step production processes..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingredients & Materials"}),e.jsx("textarea",{value:n.ingredients,onChange:F=>o({...n,ingredients:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your ingredients, materials, or sourcing..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facilities & Location"}),e.jsx("textarea",{value:n.facilities,onChange:F=>o({...n,facilities:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your facilities, workspace, or location..."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Years in Business"}),e.jsx("input",{type:"number",value:n.yearsInBusiness,onChange:F=>o({...n,yearsInBusiness:F.target.value}),className:"input-field",placeholder:"Number of years"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Production Capacity"}),e.jsx("input",{type:"text",value:n.productionCapacity,onChange:F=>o({...n,productionCapacity:F.target.value}),className:"input-field",placeholder:"e.g., 1000 kg per month"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quality Standards"}),e.jsx("textarea",{value:n.qualityStandards,onChange:F=>o({...n,qualityStandards:F.target.value}),className:"input-field",rows:"3",placeholder:"Describe your quality standards and processes..."})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Certifications"}),e.jsxs("div",{className:"space-y-2",children:[n.certifications.map((F,z)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:F,onChange:p=>l(z,p.target.value),className:"input-field flex-1",placeholder:"e.g., Organic Certified, Food Safety Certified"}),e.jsx("button",{type:"button",onClick:()=>m(z),className:"px-3 py-2 text-red-600 hover:text-red-700",children:e.jsx(we,{className:"h-5 w-5"})})]},z)),e.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 text-orange-600 hover:text-orange-700",children:[e.jsx(he,{className:"h-4 w-4"}),"Add Certification"]})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Operations & Contact"})})]})]})}function vl({artisanProfile:t,onUpdate:s}){const[a,r]=i.useState(!1),[n,o]=i.useState({monday:{open:"09:00",close:"17:00",closed:!1},tuesday:{open:"09:00",close:"17:00",closed:!1},wednesday:{open:"09:00",close:"17:00",closed:!1},thursday:{open:"09:00",close:"17:00",closed:!1},friday:{open:"09:00",close:"17:00",closed:!1},saturday:{open:"09:00",close:"15:00",closed:!1},sunday:{open:"10:00",close:"14:00",closed:!0},...t==null?void 0:t.artisanHours}),c=[{key:"monday",name:"Monday"},{key:"tuesday",name:"Tuesday"},{key:"wednesday",name:"Wednesday"},{key:"thursday",name:"Thursday"},{key:"friday",name:"Friday"},{key:"saturday",name:"Saturday"},{key:"sunday",name:"Sunday"}],u=async l=>{var h,d;l.preventDefault(),r(!0);try{await oe.updateArtisanHours(n),C.success("Artisan hours updated successfully!"),s()}catch(b){console.error("Error updating artisan hours:",b),C.error(((d=(h=b.response)==null?void 0:h.data)==null?void 0:d.message)||"Failed to update artisan hours")}finally{r(!1)}},m=(l,h,d)=>{o({...n,[l]:{...n[l],[h]:d}})};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Artisan Hours"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set your artisan operating hours for each day of the week."}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:c.map(({key:l,name:h})=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"w-24",children:e.jsx("span",{className:"font-medium text-gray-700",children:h})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`${l}-closed`,checked:n[l].closed,onChange:d=>m(l,"closed",d.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{htmlFor:`${l}-closed`,className:"text-sm text-gray-600",children:"Closed"})]}),!n[l].closed&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Open:"}),e.jsx("input",{type:"time",value:n[l].open,onChange:d=>m(l,"open",d.target.value),className:"input-field w-32"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Close:"}),e.jsx("input",{type:"time",value:n[l].close,onChange:d=>m(l,"close",d.target.value),className:"input-field w-32"})]})]})]},l))}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Artisan Hours"})})]})]})}function Nl({artisanProfile:t,onUpdate:s}){var u,m,l,h;const[a,r]=i.useState(!1),[n,o]=i.useState({pickup:((u=t==null?void 0:t.deliveryOptions)==null?void 0:u.pickup)??!0,delivery:((m=t==null?void 0:t.deliveryOptions)==null?void 0:m.delivery)??!1,deliveryRadius:((l=t==null?void 0:t.deliveryOptions)==null?void 0:l.deliveryRadius)||10,deliveryFee:((h=t==null?void 0:t.deliveryOptions)==null?void 0:h.deliveryFee)||0}),c=async d=>{var b,v;d.preventDefault(),r(!0);try{await oe.updateBusinessDelivery(n),C.success("Delivery options updated successfully!"),s()}catch(x){console.error("Error updating delivery options:",x),C.error(((v=(b=x.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to update delivery options")}finally{r(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Delivery Options"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure your delivery and pickup options for customers."}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"pickup",checked:n.pickup,onChange:d=>o({...n,pickup:d.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{htmlFor:"pickup",className:"text-lg font-medium text-gray-700",children:"Offer Pickup"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Customers can pick up orders from your location"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[e.jsx("input",{type:"checkbox",id:"delivery",checked:n.delivery,onChange:d=>o({...n,delivery:d.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{htmlFor:"delivery",className:"text-lg font-medium text-gray-700",children:"Offer Delivery"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Deliver orders to customer locations"})]})]}),n.delivery&&e.jsxs("div",{className:"space-y-4 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Delivery Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Radius (km)"}),e.jsx("input",{type:"number",value:n.deliveryRadius,onChange:d=>o({...n,deliveryRadius:Number(d.target.value)}),className:"input-field",min:"1",max:"100",placeholder:"10"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum distance for delivery"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Fee ($)"}),e.jsx("input",{type:"number",value:n.deliveryFee,onChange:d=>o({...n,deliveryFee:Number(d.target.value)}),className:"input-field",min:"0",step:"0.01",placeholder:"5.00"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Fixed delivery fee per order"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Delivery Options"})})]})]})}function Ds({profile:t,onUpdate:s}){const[a,r]=i.useState(!1),[n,o]=i.useState({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",addresses:(t==null?void 0:t.addresses)||[]}),c=async d=>{var b,v;d.preventDefault(),r(!0);try{await oe.updateBasicProfile(n),C.success("Personal information updated successfully!"),s()}catch(x){console.error("Error updating personal info:",x),C.error(((v=(b=x.response)==null?void 0:b.data)==null?void 0:v.message)||"Failed to update personal information")}finally{r(!1)}},u=()=>{o({...n,addresses:[...n.addresses,{type:"home",label:"",street:"",city:"",state:"",zipCode:"",country:"Canada",isDefault:!1}]})},m=d=>{o({...n,addresses:n.addresses.filter((b,v)=>v!==d)})},l=(d,b,v)=>{const x=[...n.addresses];x[d]={...x[d],[b]:v},o({...n,addresses:x})},h=d=>{const b=n.addresses.map((v,x)=>({...v,isDefault:x===d}));o({...n,addresses:b})};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Personal Information"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Update your personal information and contact details."}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:n.firstName,onChange:d=>o({...n,firstName:d.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:n.lastName,onChange:d=>o({...n,lastName:d.target.value}),className:"input-field",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),e.jsx("input",{type:"email",value:n.email,onChange:d=>o({...n,email:d.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:n.phone,onChange:d=>o({...n,phone:d.target.value}),className:"input-field",placeholder:"+1 (555) 123-4567"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Addresses"}),e.jsxs("button",{type:"button",onClick:u,className:"flex items-center gap-2 text-orange-600 hover:text-orange-700",children:[e.jsx(he,{className:"w-4 h-4"}),"Add Address"]})]}),e.jsx("div",{className:"space-y-4",children:n.addresses.map((d,b)=>e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("select",{value:d.type,onChange:v=>l(b,"type",v.target.value),className:"input-field w-32",children:[e.jsx("option",{value:"home",children:"Home"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("input",{type:"text",value:d.label,onChange:v=>l(b,"label",v.target.value),className:"input-field w-48",placeholder:"Address label"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{type:"button",onClick:()=>h(b),className:`px-3 py-1 rounded text-sm ${d.isDefault?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:d.isDefault?"Default":"Set Default"}),e.jsx("button",{type:"button",onClick:()=>m(b),className:"p-1 text-red-500 hover:text-red-700",children:e.jsx(we,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("input",{type:"text",value:d.street,onChange:v=>l(b,"street",v.target.value),className:"input-field",placeholder:"Street Address"}),e.jsx("input",{type:"text",value:d.city,onChange:v=>l(b,"city",v.target.value),className:"input-field",placeholder:"City"}),e.jsx("input",{type:"text",value:d.state,onChange:v=>l(b,"state",v.target.value),className:"input-field",placeholder:"State/Province"}),e.jsx("input",{type:"text",value:d.zipCode,onChange:v=>l(b,"zipCode",v.target.value),className:"input-field",placeholder:"ZIP/Postal Code"})]})]},b))})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Personal Information"})})]})]})}function Bs({profile:t,onUpdate:s}){var m,l,h,d,b,v,x,f,g,w,S,E,B,P,I,D,W,Y,R,q;const[a,r]=i.useState(!1),[n,o]=i.useState({email:{marketing:((l=(m=t==null?void 0:t.notificationPreferences)==null?void 0:m.email)==null?void 0:l.marketing)??!0,orderUpdates:((d=(h=t==null?void 0:t.notificationPreferences)==null?void 0:h.email)==null?void 0:d.orderUpdates)??!0,promotions:((v=(b=t==null?void 0:t.notificationPreferences)==null?void 0:b.email)==null?void 0:v.promotions)??!0,security:((f=(x=t==null?void 0:t.notificationPreferences)==null?void 0:x.email)==null?void 0:f.security)??!0},push:{orderUpdates:((w=(g=t==null?void 0:t.notificationPreferences)==null?void 0:g.push)==null?void 0:w.orderUpdates)??!0,promotions:((E=(S=t==null?void 0:t.notificationPreferences)==null?void 0:S.push)==null?void 0:E.promotions)??!0,newArtisans:((P=(B=t==null?void 0:t.notificationPreferences)==null?void 0:B.push)==null?void 0:P.newArtisans)??!0,nearbyOffers:((D=(I=t==null?void 0:t.notificationPreferences)==null?void 0:I.push)==null?void 0:D.nearbyOffers)??!0},sms:{orderUpdates:((Y=(W=t==null?void 0:t.notificationPreferences)==null?void 0:W.sms)==null?void 0:Y.orderUpdates)??!1,promotions:((q=(R=t==null?void 0:t.notificationPreferences)==null?void 0:R.sms)==null?void 0:q.promotions)??!1}}),c=async T=>{var Z,te;T.preventDefault(),r(!0);try{await oe.updateNotifications(n),C.success("Notification preferences updated successfully!"),s()}catch(F){console.error("Error updating notifications:",F),C.error(((te=(Z=F.response)==null?void 0:Z.data)==null?void 0:te.message)||"Failed to update notification preferences")}finally{r(!1)}},u=(T,Z,te)=>{o({...n,[T]:{...n[T],[Z]:te}})};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Notification Preferences"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage how you receive notifications about orders, promotions, and updates."}),e.jsxs("form",{onSubmit:c,className:"space-y-8",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 mr-2"}),"Email Notifications"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Marketing & Newsletters"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive updates about new features and promotions"})]}),e.jsx("input",{type:"checkbox",checked:n.email.marketing,onChange:T=>u("email","marketing",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified about order status changes"})]}),e.jsx("input",{type:"checkbox",checked:n.email.orderUpdates,onChange:T=>u("email","orderUpdates",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Promotions & Deals"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Receive special offers and discounts"})]}),e.jsx("input",{type:"checkbox",checked:n.email.promotions,onChange:T=>u("email","promotions",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Security Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Important security notifications"})]}),e.jsx("input",{type:"checkbox",checked:n.email.security,onChange:T=>u("email","security",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 mr-2"}),"Push Notifications"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Real-time order status notifications"})]}),e.jsx("input",{type:"checkbox",checked:n.push.orderUpdates,onChange:T=>u("push","orderUpdates",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Promotions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Special offers and deals"})]}),e.jsx("input",{type:"checkbox",checked:n.push.promotions,onChange:T=>u("push","promotions",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"New Artisans"}),e.jsx("p",{className:"text-sm text-gray-500",children:"When new artisans join your area"})]}),e.jsx("input",{type:"checkbox",checked:n.push.newArtisans,onChange:T=>u("push","newArtisans",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Nearby Offers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Local deals and offers"})]}),e.jsx("input",{type:"checkbox",checked:n.push.nearbyOffers,onChange:T=>u("push","nearbyOffers",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[e.jsx(_e,{className:"w-5 h-5 mr-2"}),"SMS Notifications"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Important order status changes via SMS"})]}),e.jsx("input",{type:"checkbox",checked:n.sms.orderUpdates,onChange:T=>u("sms","orderUpdates",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Promotions"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Special offers via SMS"})]}),e.jsx("input",{type:"checkbox",checked:n.sms.promotions,onChange:T=>u("sms","promotions",T.target.checked),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Notification Preferences"})})]})]})}function $s({profile:t,onUpdate:s}){const[a,r]=i.useState(!1),[n,o]=i.useState((t==null?void 0:t.paymentMethods)||[]),[c,u]=i.useState(!1),[m,l]=i.useState({type:"credit_card",last4:"",brand:"",expiryMonth:"",expiryYear:"",cardholderName:"",isDefault:!1}),h=async x=>{var f,g;x.preventDefault(),r(!0);try{await oe.updatePaymentMethods(n),C.success("Payment methods updated successfully!"),s()}catch(w){console.error("Error updating payment methods:",w),C.error(((g=(f=w.response)==null?void 0:f.data)==null?void 0:g.message)||"Failed to update payment methods")}finally{r(!1)}},d=async x=>{if(x.preventDefault(),!m.last4||!m.cardholderName){C.error("Please fill in all required fields");return}const f=[...n,{...m,id:Date.now()}];o(f),l({type:"credit_card",last4:"",brand:"",expiryMonth:"",expiryYear:"",cardholderName:"",isDefault:!1}),u(!1)},b=x=>{o(n.filter(f=>f.id!==x))},v=x=>{o(n.map(f=>({...f,isDefault:f.id===x})))};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Methods"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your payment methods for receiving payments from customers."}),e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsx("div",{className:"space-y-4",children:n.map(x=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-8 bg-gray-200 rounded flex items-center justify-center",children:e.jsx(ke,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900",children:[x.brand," •••• ",x.last4]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[x.cardholderName," • Expires ",x.expiryMonth,"/",x.expiryYear]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[x.isDefault?e.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-800 rounded text-sm",children:"Default"}):e.jsx("button",{type:"button",onClick:()=>v(x.id),className:"px-3 py-1 bg-gray-100 text-gray-600 rounded text-sm hover:bg-gray-200",children:"Set Default"}),e.jsx("button",{type:"button",onClick:()=>b(x.id),className:"p-1 text-red-500 hover:text-red-700",children:e.jsx(we,{className:"w-4 h-4"})})]})]},x.id))}),c?e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Payment Method"}),e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Type"}),e.jsxs("select",{value:m.type,onChange:x=>l({...m,type:x.target.value}),className:"input-field",children:[e.jsx("option",{value:"credit_card",children:"Credit Card"}),e.jsx("option",{value:"debit_card",children:"Debit Card"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Brand"}),e.jsxs("select",{value:m.brand,onChange:x=>l({...m,brand:x.target.value}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select Brand"}),e.jsx("option",{value:"visa",children:"Visa"}),e.jsx("option",{value:"mastercard",children:"Mastercard"}),e.jsx("option",{value:"amex",children:"American Express"}),e.jsx("option",{value:"discover",children:"Discover"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last 4 Digits *"}),e.jsx("input",{type:"text",value:m.last4,onChange:x=>l({...m,last4:x.target.value}),className:"input-field",placeholder:"1234",maxLength:"4",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name *"}),e.jsx("input",{type:"text",value:m.cardholderName,onChange:x=>l({...m,cardholderName:x.target.value}),className:"input-field",placeholder:"John Doe",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Month"}),e.jsx("input",{type:"text",value:m.expiryMonth,onChange:x=>l({...m,expiryMonth:x.target.value}),className:"input-field",placeholder:"12",maxLength:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Year"}),e.jsx("input",{type:"text",value:m.expiryYear,onChange:x=>l({...m,expiryYear:x.target.value}),className:"input-field",placeholder:"2025",maxLength:"4"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:"isDefault",checked:m.isDefault,onChange:x=>l({...m,isDefault:x.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("label",{htmlFor:"isDefault",className:"text-sm text-gray-600",children:"Set as default payment method"})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",children:"Add Payment Method"})]})]})]}):e.jsxs("button",{type:"button",onClick:()=>u(!0),className:"flex items-center gap-2 text-orange-600 hover:text-orange-700",children:[e.jsx(he,{className:"w-4 h-4"}),"Add Payment Method"]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Payment Methods"})})]})]})}function _s({profile:t,onUpdate:s}){var b,v,x;const[a,r]=i.useState(!1),[n,o]=i.useState(!1),[c,u]=i.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,l]=i.useState({twoFactorEnabled:((b=t==null?void 0:t.accountSettings)==null?void 0:b.twoFactorEnabled)??!1,loginNotifications:((v=t==null?void 0:t.accountSettings)==null?void 0:v.loginNotifications)??!0,sessionTimeout:((x=t==null?void 0:t.accountSettings)==null?void 0:x.sessionTimeout)??30}),h=async f=>{var g,w;if(f.preventDefault(),c.newPassword!==c.confirmPassword){C.error("New passwords do not match");return}if(c.newPassword.length<8){C.error("Password must be at least 8 characters long");return}r(!0);try{await oe.changePassword(c),C.success("Password changed successfully!"),u({currentPassword:"",newPassword:"",confirmPassword:""}),o(!1)}catch(S){console.error("Error changing password:",S),C.error(((w=(g=S.response)==null?void 0:g.data)==null?void 0:w.message)||"Failed to change password")}finally{r(!1)}},d=async f=>{var g,w;f.preventDefault(),r(!0);try{await oe.updateSecuritySettings(m),C.success("Security settings updated successfully!"),s()}catch(S){console.error("Error updating security settings:",S),C.error(((w=(g=S.response)==null?void 0:g.data)==null?void 0:w.message)||"Failed to update security settings")}finally{r(!1)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Security Settings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Manage your account security and privacy settings."}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),n?e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),e.jsx("input",{type:"password",value:c.currentPassword,onChange:f=>u({...c,currentPassword:f.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),e.jsx("input",{type:"password",value:c.newPassword,onChange:f=>u({...c,newPassword:f.target.value}),className:"input-field",required:!0,minLength:"8"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Password must be at least 8 characters long"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),e.jsx("input",{type:"password",value:c.confirmPassword,onChange:f=>u({...c,confirmPassword:f.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 border border-gray-300 rounded text-gray-700 hover:bg-gray-50",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Changing...":"Change Password"})]})]}):e.jsx("button",{onClick:()=>o(!0),className:"btn-primary",children:"Change Password"})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Security Preferences"}),e.jsxs("form",{onSubmit:d,className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Add an extra layer of security to your account"})]}),e.jsx("input",{type:"checkbox",checked:m.twoFactorEnabled,onChange:f=>l({...m,twoFactorEnabled:f.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Login Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get notified when someone logs into your account"})]}),e.jsx("input",{type:"checkbox",checked:m.loginNotifications,onChange:f=>l({...m,loginNotifications:f.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Timeout (minutes)"}),e.jsxs("select",{value:m.sessionTimeout,onChange:f=>l({...m,sessionTimeout:Number(f.target.value)}),className:"input-field w-48",children:[e.jsx("option",{value:15,children:"15 minutes"}),e.jsx("option",{value:30,children:"30 minutes"}),e.jsx("option",{value:60,children:"1 hour"}),e.jsx("option",{value:120,children:"2 hours"}),e.jsx("option",{value:240,children:"4 hours"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Automatically log out after inactivity"})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:a,className:"btn-primary",children:a?"Saving...":"Save Security Settings"})})]})]}),e.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Account Activity"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Last Login"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Today at 2:30 PM"})]}),e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm",children:"Current Session"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-700",children:"Previous Login"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Yesterday at 10:15 AM"})]}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-sm",children:"Montreal, QC"})]})]})]})]})]})}function wl({onProfileCreated:t}){const[s,a]=i.useState(!1),[r,n]=i.useState({businessName:"",type:"farm",category:"fresh_produce",subcategory:"",description:"",specialties:[""],contactInfo:{phone:"",email:"",website:"",socialMedia:{facebook:"",instagram:"",twitter:""}},photos:[],address:{street:"",city:"",state:"",zipCode:"",country:"Canada"}}),o=async l=>{var h,d;l.preventDefault(),a(!0);try{await oe.createArtisanProfile(r),C.success("Artisan profile created successfully!"),t()}catch(b){console.error("Error creating business profile:",b),C.error(((d=(h=b.response)==null?void 0:h.data)==null?void 0:d.message)||"Failed to create business profile")}finally{a(!1)}},c=()=>{n({...r,specialties:[...r.specialties,""]})},u=l=>{n({...r,specialties:r.specialties.filter((h,d)=>d!==l)})},m=(l,h)=>{const d=[...r.specialties];d[l]=h,n({...r,specialties:d})};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Setup Your Business Profile"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Tell customers about your business and what you offer."}),e.jsxs("form",{onSubmit:o,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),e.jsx("input",{type:"text",value:r.businessName,onChange:l=>n({...r,businessName:l.target.value}),className:"input-field",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type *"}),e.jsxs("select",{value:r.type,onChange:l=>n({...r,type:l.target.value}),className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select Business Type"}),e.jsx("option",{value:"farm",children:"Farm"}),e.jsx("option",{value:"bakery",children:"Bakery"}),e.jsx("option",{value:"restaurant",children:"Restaurant"}),e.jsx("option",{value:"cafe",children:"Café"}),e.jsx("option",{value:"market",children:"Market"}),e.jsx("option",{value:"butcher",children:"Butcher Shop"}),e.jsx("option",{value:"dairy",children:"Dairy"}),e.jsx("option",{value:"winery",children:"Winery"}),e.jsx("option",{value:"brewery",children:"Brewery"}),e.jsx("option",{value:"distillery",children:"Distillery"}),e.jsx("option",{value:"food_truck",children:"Food Truck"}),e.jsx("option",{value:"catering",children:"Catering"}),e.jsx("option",{value:"grocery",children:"Grocery Store"}),e.jsx("option",{value:"specialty_shop",children:"Specialty Food Shop"}),e.jsx("option",{value:"fish_market",children:"Fish Market"}),e.jsx("option",{value:"organic_store",children:"Organic Store"}),e.jsx("option",{value:"coffee_roaster",children:"Coffee Roaster"}),e.jsx("option",{value:"tea_house",children:"Tea House"}),e.jsx("option",{value:"chocolate_maker",children:"Chocolate Maker"}),e.jsx("option",{value:"cheese_maker",children:"Cheese Maker"}),e.jsx("option",{value:"honey_producer",children:"Honey Producer"}),e.jsx("option",{value:"maple_syrup",children:"Maple Syrup Producer"}),e.jsx("option",{value:"mushroom_farm",children:"Mushroom Farm"}),e.jsx("option",{value:"herb_garden",children:"Herb Garden"}),e.jsx("option",{value:"greenhouse",children:"Greenhouse"}),e.jsx("option",{value:"orchard",children:"Orchard"}),e.jsx("option",{value:"vineyard",children:"Vineyard"}),e.jsx("option",{value:"microgreens",children:"Microgreens Farm"}),e.jsx("option",{value:"aquaponics",children:"Aquaponics Farm"}),e.jsx("option",{value:"hydroponics",children:"Hydroponics Farm"}),e.jsx("option",{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Primary Category *"}),r.type&&Is(r.type).length>0&&e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Suggested for ",formatBusinessType(r.type),": ",Is(r.type).join(", ")]}),e.jsxs("select",{value:r.category,onChange:l=>n({...r,category:l.target.value}),className:"input-field",required:!0,children:[e.jsx("option",{value:"",children:"Select Primary Category"}),e.jsx("option",{value:"fresh_produce",children:"Fresh Produce & Vegetables"}),e.jsx("option",{value:"fruits",children:"Fruits & Berries"}),e.jsx("option",{value:"dairy",children:"Dairy & Eggs"}),e.jsx("option",{value:"meat",children:"Meat & Poultry"}),e.jsx("option",{value:"seafood",children:"Seafood & Fish"}),e.jsx("option",{value:"bakery",children:"Bread & Pastries"}),e.jsx("option",{value:"beverages",children:"Beverages & Drinks"}),e.jsx("option",{value:"preserves",children:"Preserves & Jams"}),e.jsx("option",{value:"herbs",children:"Herbs & Spices"}),e.jsx("option",{value:"grains",children:"Grains & Cereals"}),e.jsx("option",{value:"nuts",children:"Nuts & Seeds"}),e.jsx("option",{value:"honey",children:"Honey & Sweeteners"}),e.jsx("option",{value:"mushrooms",children:"Mushrooms"}),e.jsx("option",{value:"microgreens",children:"Microgreens & Sprouts"}),e.jsx("option",{value:"prepared_foods",children:"Prepared Foods"}),e.jsx("option",{value:"specialty_items",children:"Specialty Items"}),e.jsx("option",{value:"organic",children:"Organic Products"}),e.jsx("option",{value:"artisan_products",children:"Artisan Products"}),e.jsx("option",{value:"seasonal",children:"Seasonal Products"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),e.jsxs("select",{value:r.subcategory||"",onChange:l=>n({...r,subcategory:l.target.value}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select Subcategory (Optional)"}),r.category==="fresh_produce"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"leafy_greens",children:"Leafy Greens"}),e.jsx("option",{value:"root_vegetables",children:"Root Vegetables"}),e.jsx("option",{value:"tomatoes",children:"Tomatoes"}),e.jsx("option",{value:"peppers",children:"Peppers"}),e.jsx("option",{value:"cucumbers",children:"Cucumbers"}),e.jsx("option",{value:"squash",children:"Squash"}),e.jsx("option",{value:"onions",children:"Onions & Garlic"}),e.jsx("option",{value:"carrots",children:"Carrots"}),e.jsx("option",{value:"potatoes",children:"Potatoes"})]}),r.category==="fruits"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"apples",children:"Apples"}),e.jsx("option",{value:"berries",children:"Berries"}),e.jsx("option",{value:"stone_fruits",children:"Stone Fruits"}),e.jsx("option",{value:"citrus",children:"Citrus"}),e.jsx("option",{value:"melons",children:"Melons"}),e.jsx("option",{value:"grapes",children:"Grapes"}),e.jsx("option",{value:"tropical",children:"Tropical Fruits"})]}),r.category==="dairy"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"milk",children:"Milk"}),e.jsx("option",{value:"cheese",children:"Cheese"}),e.jsx("option",{value:"yogurt",children:"Yogurt"}),e.jsx("option",{value:"butter",children:"Butter"}),e.jsx("option",{value:"eggs",children:"Eggs"}),e.jsx("option",{value:"cream",children:"Cream"}),e.jsx("option",{value:"ice_cream",children:"Ice Cream"})]}),r.category==="meat"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"beef",children:"Beef"}),e.jsx("option",{value:"pork",children:"Pork"}),e.jsx("option",{value:"chicken",children:"Chicken"}),e.jsx("option",{value:"turkey",children:"Turkey"}),e.jsx("option",{value:"lamb",children:"Lamb"}),e.jsx("option",{value:"game_meat",children:"Game Meat"}),e.jsx("option",{value:"processed_meat",children:"Processed Meat"})]}),r.category==="seafood"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"fresh_fish",children:"Fresh Fish"}),e.jsx("option",{value:"shellfish",children:"Shellfish"}),e.jsx("option",{value:"smoked_fish",children:"Smoked Fish"}),e.jsx("option",{value:"canned_fish",children:"Canned Fish"})]}),r.category==="bakery"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"bread",children:"Bread"}),e.jsx("option",{value:"pastries",children:"Pastries"}),e.jsx("option",{value:"cakes",children:"Cakes"}),e.jsx("option",{value:"cookies",children:"Cookies"}),e.jsx("option",{value:"pies",children:"Pies"}),e.jsx("option",{value:"sourdough",children:"Sourdough"}),e.jsx("option",{value:"gluten_free",children:"Gluten-Free"})]}),r.category==="beverages"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"coffee",children:"Coffee"}),e.jsx("option",{value:"tea",children:"Tea"}),e.jsx("option",{value:"juice",children:"Juice"}),e.jsx("option",{value:"wine",children:"Wine"}),e.jsx("option",{value:"beer",children:"Beer"}),e.jsx("option",{value:"spirits",children:"Spirits"}),e.jsx("option",{value:"kombucha",children:"Kombucha"})]}),r.category==="preserves"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"jams",children:"Jams"}),e.jsx("option",{value:"jellies",children:"Jellies"}),e.jsx("option",{value:"pickles",children:"Pickles"}),e.jsx("option",{value:"sauces",children:"Sauces"}),e.jsx("option",{value:"syrups",children:"Syrups"}),e.jsx("option",{value:"chutneys",children:"Chutneys"})]}),r.category==="herbs"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"fresh_herbs",children:"Fresh Herbs"}),e.jsx("option",{value:"dried_herbs",children:"Dried Herbs"}),e.jsx("option",{value:"spices",children:"Spices"}),e.jsx("option",{value:"herb_plants",children:"Herb Plants"}),e.jsx("option",{value:"medicinal_herbs",children:"Medicinal Herbs"})]}),r.category==="artisan_products"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"chocolate",children:"Chocolate"}),e.jsx("option",{value:"cheese",children:"Artisan Cheese"}),e.jsx("option",{value:"olive_oil",children:"Olive Oil"}),e.jsx("option",{value:"vinegar",children:"Vinegar"}),e.jsx("option",{value:"mustard",children:"Mustard"}),e.jsx("option",{value:"hot_sauce",children:"Hot Sauce"}),e.jsx("option",{value:"fermented",children:"Fermented Products"})]}),r.category==="seasonal"&&e.jsxs(e.Fragment,{children:[e.jsx("option",{value:"spring",children:"Spring Products"}),e.jsx("option",{value:"summer",children:"Summer Products"}),e.jsx("option",{value:"fall",children:"Fall Products"}),e.jsx("option",{value:"winter",children:"Winter Products"}),e.jsx("option",{value:"holiday",children:"Holiday Specialties"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:r.description,onChange:l=>n({...r,description:l.target.value}),rows:4,className:"input-field",placeholder:"Tell customers about your business, your methods, and what makes your products special..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[0,1,2].map(l=>e.jsx("div",{className:"relative",children:e.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-orange-400 transition-colors",children:r.photos[l]?e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.photos[l],alt:`Business photo ${l+1}`,className:"w-full h-32 object-cover rounded-lg"}),e.jsx("button",{type:"button",onClick:()=>{const h=[...r.photos];h.splice(l,1),n({...r,photos:h})},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:e.jsx(we,{className:"h-4 w-4"})})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(et,{className:"h-8 w-8 text-gray-400 mx-auto"}),e.jsx("p",{className:"text-sm text-gray-500",children:l===0?"Primary Photo":`Photo ${l+1}`}),e.jsx("input",{type:"file",accept:"image/*",onChange:h=>{const d=h.target.files[0];if(d){const b=document.createElement("canvas"),v=b.getContext("2d"),x=new Image;x.onload=()=>{let{width:g,height:w}=x;g>w?g>800&&(w=w*800/g,g=800):w>800&&(g=g*800/w,w=800),b.width=g,b.height=w,v.drawImage(x,0,0,g,w);const S=b.toDataURL("image/jpeg",.7),E=[...r.photos];E[l]=S,n({...r,photos:E})},x.src=URL.createObjectURL(d)}},className:"hidden",id:`photo-${l}`}),e.jsx("label",{htmlFor:`photo-${l}`,className:"cursor-pointer text-orange-600 hover:text-orange-700 text-sm font-medium",children:"Upload Photo"})]})})},l))}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Upload photos of your business, products, or facilities. The first photo will be your primary image."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsx("input",{type:"tel",value:r.contactInfo.phone,onChange:l=>n({...r,contactInfo:{...r.contactInfo,phone:l.target.value}}),className:"input-field",placeholder:"+1 (555) 123-4567"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:r.contactInfo.email,onChange:l=>n({...r,contactInfo:{...r.contactInfo,email:l.target.value}}),className:"input-field",placeholder:"business@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website (Optional)"}),e.jsx("input",{type:"url",value:r.contactInfo.website,onChange:l=>n({...r,contactInfo:{...r.contactInfo,website:l.target.value}}),className:"input-field",placeholder:"https://yourbusiness.com"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Social Media (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),e.jsx("input",{type:"url",value:r.contactInfo.socialMedia.facebook,onChange:l=>n({...r,contactInfo:{...r.contactInfo,socialMedia:{...r.contactInfo.socialMedia,facebook:l.target.value}}}),className:"input-field",placeholder:"https://facebook.com/yourbusiness"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Instagram"}),e.jsx("input",{type:"url",value:r.contactInfo.socialMedia.instagram,onChange:l=>n({...r,contactInfo:{...r.contactInfo,socialMedia:{...r.contactInfo.socialMedia,instagram:l.target.value}}}),className:"input-field",placeholder:"https://instagram.com/yourbusiness"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter/X"}),e.jsx("input",{type:"url",value:r.contactInfo.socialMedia.twitter,onChange:l=>n({...r,contactInfo:{...r.contactInfo,socialMedia:{...r.contactInfo.socialMedia,twitter:l.target.value}}}),className:"input-field",placeholder:"https://twitter.com/yourbusiness"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specialties"}),r.specialties.map((l,h)=>e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("input",{type:"text",value:l,onChange:d=>m(h,d.target.value),className:"input-field flex-1",placeholder:"e.g., Organic Apples"}),e.jsx("button",{type:"button",onClick:()=>u(h),className:"px-3 py-2 text-red-500 hover:text-red-700",children:e.jsx(we,{className:"w-4 h-4"})})]},h)),e.jsxs("button",{type:"button",onClick:c,className:"btn-secondary text-sm",children:[e.jsx(he,{className:"w-4 h-4 mr-1"}),"Add Specialty"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-4",children:"Business Address"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",value:r.address.street,onChange:l=>n({...r,address:{...r.address,street:l.target.value}}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:r.address.city,onChange:l=>n({...r,address:{...r.address,city:l.target.value}}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),e.jsx("input",{type:"text",value:r.address.state,onChange:l=>n({...r,address:{...r.address,state:l.target.value}}),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP/Postal Code"}),e.jsx("input",{type:"text",value:r.address.zipCode,onChange:l=>n({...r,address:{...r.address,zipCode:l.target.value}}),className:"input-field"})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:s,className:"btn-primary disabled:opacity-50",children:s?"Creating Profile...":"Create Business Profile"})})]})]})}function kl(){const[t,s]=i.useState(null),[a,r]=i.useState(!0);i.useEffect(()=>{n()},[]);const n=async()=>{var o;try{r(!0),console.log("Loading profile...");const c=await oe.getProfile();console.log("Profile loaded:",c),s(c)}catch(c){console.error("Error loading profile:",c),console.error("Error details:",(o=c.response)==null?void 0:o.data),C.error("Failed to load profile")}finally{r(!1)}};return a?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):t?t.role==="artisan"?e.jsx(bl,{}):e.jsx(rl,{}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load your profile information."}),e.jsx("button",{onClick:n,className:"btn-primary",children:"Try Again"})]})})}function Cl(){const t=le(),s=De(),[a,r]=i.useState("dashboard"),[n,o]=i.useState(null),[c,u]=i.useState(!0);i.useState(!1);const[m]=i.useState({totalOrders:8,totalSpent:156.75,favoriteArtisans:5,averageRating:4.9}),[l]=i.useState([{id:1,artisan:"Green Valley Farm",items:["Organic Tomatoes","Fresh Basil","Local Honey"],total:28.5,status:"delivered",date:"2024-01-15"},{id:2,artisan:"Artisan Bread Co.",items:["Sourdough Bread","Croissants"],total:18,status:"preparing",date:"2024-01-14"},{id:3,artisan:"Sweet Honey Haven",items:["Wildflower Honey","Lavender Honey"],total:24.75,status:"delivered",date:"2024-01-13"}]),[h]=i.useState([{id:1,name:"Green Valley Farm",type:"farm",image:"https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400&h=300&fit=crop",rating:4.8,products:12},{id:2,name:"Artisan Bread Co.",type:"bakery",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",rating:4.9,products:8},{id:3,name:"Sweet Honey Haven",type:"honey_producer",image:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=400&h=300&fit=crop",rating:4.7,products:5}]),d=[{id:"dashboard",name:"Dashboard",icon:ge},{id:"personal",name:"Personal Info",icon:ge},{id:"addresses",name:"Delivery Addresses",icon:ue},{id:"orders",name:"My Orders",icon:be},{id:"favorites",name:"Favorite Artisans",icon:Ce},{id:"notifications",name:"Notifications",icon:_e},{id:"payment",name:"Payment Methods",icon:ke},{id:"security",name:"Security",icon:tt},{id:"settings",name:"Account Settings",icon:at}];i.useEffect(()=>{async function x(){try{const f=await Le();o(f.user)}catch{C.error("Session expired. Please login again."),rt(),t("/login")}finally{u(!1)}}x()},[t]),i.useEffect(()=>{const f=new URLSearchParams(s.search).get("tab");f&&d.map(g=>g.id).includes(f)&&r(f)},[s.search]);const b=()=>{rt(),C.success("Logged out successfully!"),t("/")},v=x=>{switch(x){case"delivered":return"bg-green-100 text-green-800";case"preparing":return"bg-yellow-100 text-yellow-800";case"pending":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return c?e.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})}):n?e.jsx("div",{className:"min-h-screen bg-stone-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-stone-900 mb-2",children:"My Account"}),e.jsx("p",{className:"text-stone-600",children:"Manage your account, orders, and preferences"})]}),e.jsxs("button",{onClick:b,className:"flex items-center space-x-2 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:[e.jsx(wt,{className:"w-4 h-4"}),e.jsx("span",{children:"Sign Out"})]})]})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200",children:[e.jsx("div",{className:"border-b border-stone-200",children:e.jsx("nav",{className:"flex space-x-8 px-6 overflow-x-auto","aria-label":"Tabs",children:d.map(x=>{const f=x.icon;return e.jsxs("button",{onClick:()=>r(x.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center space-x-2 whitespace-nowrap ${a===x.id?"border-amber-500 text-amber-600":"border-transparent text-stone-500 hover:text-stone-700 hover:border-stone-300"}`,children:[e.jsx(f,{className:"w-5 h-5"}),e.jsx("span",{children:x.name})]},x.id)})})}),e.jsxs("div",{className:"p-6",children:[a==="dashboard"&&e.jsx(Sl,{user:n,stats:m,recentOrders:l,favoriteArtisans:h,getStatusColor:v}),a==="personal"&&e.jsx(El,{user:n}),a==="addresses"&&e.jsx(Al,{user:n}),a==="orders"&&e.jsx(Pl,{recentOrders:l,getStatusColor:v}),a==="favorites"&&e.jsx(Fl,{favoriteArtisans:h}),a==="notifications"&&e.jsx(Ml,{user:n}),a==="payment"&&e.jsx(Ol,{user:n}),a==="security"&&e.jsx(Rl,{}),a==="settings"&&e.jsx(Ll,{user:n})]})]})]})}):null}function Sl({user:t,stats:s,recentOrders:a,favoriteArtisans:r,getStatusColor:n}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-stone-50 rounded-xl p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-stone-900 mb-2",children:["Welcome back, ",t.firstName,"!"]}),e.jsx("p",{className:"text-stone-600",children:"Here's what's happening with your local marketplace account today."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white border border-stone-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-amber-100 rounded-lg",children:e.jsx(be,{className:"w-6 h-6 text-amber-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-stone-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:s.totalOrders})]})]})}),e.jsx("div",{className:"bg-white border border-stone-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ke,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-stone-600",children:"Total Spent"}),e.jsxs("p",{className:"text-2xl font-bold text-stone-900",children:["$",s.totalSpent]})]})]})}),e.jsx("div",{className:"bg-white border border-stone-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ce,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-stone-600",children:"Favorite Artisans"}),e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:s.favoriteArtisans})]})]})}),e.jsx("div",{className:"bg-white border border-stone-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(Re,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-stone-600",children:"Avg Rating"}),e.jsx("p",{className:"text-2xl font-bold text-stone-900",children:s.averageRating})]})]})})]}),e.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-stone-200",children:e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Recent Orders"})}),e.jsx("div",{className:"divide-y divide-stone-200",children:a.map(o=>e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-stone-900",children:o.artisan}),e.jsx("p",{className:"text-sm text-stone-500",children:o.items.join(", ")}),e.jsx("p",{className:"text-sm text-stone-500",children:o.date})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${n(o.status)}`,children:o.status}),e.jsxs("span",{className:"text-sm font-medium text-stone-900",children:["$",o.total]})]})]})},o.id))})]}),e.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl",children:[e.jsx("div",{className:"px-6 py-4 border-b border-stone-200",children:e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Favorite Artisans"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:r.map(o=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-stone-200 rounded-lg hover:bg-stone-50 transition-colors",children:[e.jsx("img",{src:o.image,alt:o.name,className:"w-12 h-12 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-stone-900",children:o.name}),e.jsx("p",{className:"text-xs text-stone-500 capitalize",children:o.type.replace("_"," ")}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(Re,{className:"w-3 h-3 text-amber-400"}),e.jsx("span",{className:"text-xs text-stone-600",children:o.rating}),e.jsx("span",{className:"text-xs text-stone-500",children:"•"}),e.jsxs("span",{className:"text-xs text-stone-500",children:[o.products," products"]})]})]})]},o.id))})})]})]})}function El({user:t}){const[s,a]=i.useState({firstName:t.firstName||"",lastName:t.lastName||"",email:t.email||"",phone:t.phone||""}),r=async n=>{n.preventDefault(),C.success("Profile updated successfully!")};return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Personal Information"}),e.jsxs("form",{onSubmit:r,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:s.firstName,onChange:n=>a({...s,firstName:n.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:s.lastName,onChange:n=>a({...s,lastName:n.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:s.email,onChange:n=>a({...s,email:n.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Phone"}),e.jsx("input",{type:"tel",value:s.phone,onChange:n=>a({...s,phone:n.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"btn-primary",children:"Save Changes"})})]})]})})}function Al({user:t}){const[s,a]=i.useState(t.addresses||[]),[r,n]=i.useState(!1),[o,c]=i.useState({type:"home",label:"",street:"",city:"",state:"",zipCode:""}),u=l=>{l.preventDefault();const h={id:Date.now(),...o};a([...s,h]),c({type:"home",label:"",street:"",city:"",state:"",zipCode:""}),n(!1),C.success("Address added successfully!")},m=l=>{a(s.filter(h=>h.id!==l)),C.success("Address removed successfully!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Delivery Addresses"}),e.jsxs("button",{onClick:()=>n(!r),className:"btn-primary btn-small",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Add Address"]})]}),r&&e.jsxs("div",{className:"bg-stone-50 rounded-lg p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-stone-900 mb-4",children:"Add New Address"}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Address Type"}),e.jsxs("select",{value:o.type,onChange:l=>c({...o,type:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{value:"home",children:"Home"}),e.jsx("option",{value:"work",children:"Work"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Label"}),e.jsx("input",{type:"text",value:o.label,onChange:l=>c({...o,label:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"e.g., My House, Office"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",required:!0,value:o.street,onChange:l=>c({...o,street:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",placeholder:"123 Main Street"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"City"}),e.jsx("input",{type:"text",required:!0,value:o.city,onChange:l=>c({...o,city:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"State"}),e.jsx("input",{type:"text",required:!0,value:o.state,onChange:l=>c({...o,state:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-stone-700 mb-2",children:"ZIP Code"}),e.jsx("input",{type:"text",required:!0,value:o.zipCode,onChange:l=>c({...o,zipCode:l.target.value}),className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",className:"btn-primary",children:"Add Address"}),e.jsx("button",{type:"button",onClick:()=>n(!1),className:"btn-secondary",children:"Cancel"})]})]})]}),s.length>0?e.jsx("div",{className:"space-y-4",children:s.map(l=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ue,{className:"w-5 h-5 text-stone-400"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-sm font-medium text-stone-900 capitalize",children:l.type}),l.label&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-stone-400",children:"•"}),e.jsx("span",{className:"text-sm text-stone-600",children:l.label})]})]}),e.jsxs("p",{className:"text-sm text-stone-600",children:[l.street,", ",l.city,", ",l.state," ",l.zipCode]})]})]}),e.jsx("button",{onClick:()=>m(l.id),className:"text-red-500 hover:text-red-700",children:"Remove"})]},l.id))}):e.jsxs("div",{className:"text-center py-8 text-stone-500",children:[e.jsx(ue,{className:"w-12 h-12 mx-auto mb-4 text-stone-300"}),e.jsx("p",{children:"No addresses added yet."}),e.jsx("p",{className:"text-sm",children:"Add your delivery addresses to make ordering easier."})]})]})}function Pl({recentOrders:t,getStatusColor:s}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"My Orders"}),e.jsx("div",{className:"bg-white border border-stone-200 rounded-xl",children:e.jsx("div",{className:"divide-y divide-stone-200",children:t.map(a=>e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-medium text-stone-900",children:a.artisan}),e.jsx("p",{className:"text-sm text-stone-500",children:a.items.join(", ")}),e.jsx("p",{className:"text-sm text-stone-500",children:a.date})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${s(a.status)}`,children:a.status}),e.jsxs("span",{className:"text-sm font-medium text-stone-900",children:["$",a.total]})]})]})},a.id))})})]})}function Fl({favoriteArtisans:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Favorite Artisans"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(s=>e.jsxs("div",{className:"bg-white border border-stone-200 rounded-xl overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative h-48 bg-stone-100",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("button",{className:"absolute top-3 right-3 p-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-colors",children:e.jsx(Ce,{className:"w-5 h-5 text-red-500"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:"text-lg font-medium text-stone-900 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-stone-500 capitalize mb-3",children:s.type.replace("_"," ")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Re,{className:"w-4 h-4 text-amber-400"}),e.jsx("span",{className:"text-sm text-stone-600",children:s.rating}),e.jsx("span",{className:"text-sm text-stone-500",children:"•"}),e.jsxs("span",{className:"text-sm text-stone-500",children:[s.products," products"]})]}),e.jsx("button",{className:"btn-primary btn-small",children:"Visit"})]})]})]},s.id))})]})}function Ml({user:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Order Updates"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Get notified about your order status"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"New Products"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Be the first to know about new products from your favorite artisans"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Community Events"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Get notified about local artisan events and workshops"})]}),e.jsx("input",{type:"checkbox",className:"rounded"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Seasonal Offers"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Receive special offers and seasonal promotions"})]}),e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"rounded"})]})]})]})}function Ol({user:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Payment Methods"}),e.jsxs("button",{className:"btn-primary btn-small",children:[e.jsx(he,{className:"w-4 h-4 mr-2"}),"Add Payment Method"]})]}),e.jsxs("div",{className:"text-center py-8 text-stone-500",children:[e.jsx(ke,{className:"w-12 h-12 mx-auto mb-4 text-stone-300"}),e.jsx("p",{children:"No payment methods added yet."}),e.jsx("p",{className:"text-sm",children:"Add a payment method for faster checkout."})]})]})}function Rl(){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Security Settings"}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 border border-stone-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-stone-900 mb-2",children:"Change Password"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"password",placeholder:"Current Password",className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),e.jsx("input",{type:"password",placeholder:"New Password",className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),e.jsx("input",{type:"password",placeholder:"Confirm New Password",className:"w-full px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"}),e.jsx("button",{className:"btn-primary",children:"Update Password"})]})]})})]})}function Ll({user:t}){return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Account Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Language"}),e.jsx("p",{className:"text-sm text-stone-500",children:"English"})]}),e.jsxs("select",{className:"px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{children:"English"}),e.jsx("option",{children:"French"}),e.jsx("option",{children:"Spanish"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Currency"}),e.jsx("p",{className:"text-sm text-stone-500",children:"US Dollar (USD)"})]}),e.jsxs("select",{className:"px-3 py-2 border border-stone-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[e.jsx("option",{children:"USD"}),e.jsx("option",{children:"CAD"}),e.jsx("option",{children:"EUR"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 border border-stone-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-stone-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-stone-500",children:"Add an extra layer of security"})]}),e.jsx("input",{type:"checkbox",className:"rounded"})]})]})]})}function Tl(){var Ee,V;const t=le(),[s,a]=i.useState(!1),[r,n]=i.useState(null),[o,c]=i.useState([]),[u,m]=i.useState(!0),[l,h]=i.useState(null),[d,b]=i.useState({name:"",description:"",price:"",category:"",subcategory:"",image:null,imagePreview:null,stock:"",tags:[],unit:"piece",weight:"",expiryDate:"",isOrganic:!1,isGlutenFree:!1,isVegan:!1,isHalal:!1}),[v,x]=i.useState(""),[f,g]=i.useState([]),[w,S]=i.useState(!1),[E,B]=i.useState([]);i.useState(!1);const P=i.useRef(null),I=i.useRef(null),D={"Fresh Produce & Vegetables":["Leafy Greens","Root Vegetables","Tomatoes","Peppers","Cucumbers","Squash","Onions & Garlic","Carrots","Potatoes","Other Vegetables"],"Fruits & Berries":["Apples","Berries","Stone Fruits","Citrus","Melons","Grapes","Tropical Fruits","Other Fruits"],"Dairy & Eggs":["Milk","Cheese","Yogurt","Butter","Eggs","Cream","Ice Cream","Other Dairy"],"Meat & Poultry":["Beef","Pork","Chicken","Turkey","Lamb","Game Meat","Processed Meat","Other Meat"],"Seafood & Fish":["Fresh Fish","Shellfish","Smoked Fish","Canned Fish","Other Seafood"],"Bread & Pastries":["Bread","Pastries","Cakes","Cookies","Pies","Sourdough","Gluten-Free","Other Bakery"],"Beverages & Drinks":["Coffee","Tea","Juice","Wine","Beer","Spirits","Kombucha","Other Beverages"],"Preserves & Jams":["Jams","Jellies","Pickles","Sauces","Syrups","Chutneys","Other Preserves"],"Herbs & Spices":["Fresh Herbs","Dried Herbs","Spices","Herb Plants","Medicinal Herbs","Other Herbs"],"Grains & Cereals":["Wheat","Rice","Oats","Corn","Quinoa","Barley","Other Grains"],"Nuts & Seeds":["Almonds","Walnuts","Pecans","Sunflower Seeds","Pumpkin Seeds","Other Nuts"],"Honey & Sweeteners":["Honey","Maple Syrup","Agave","Molasses","Other Sweeteners"],Mushrooms:["Button Mushrooms","Portobello","Shiitake","Oyster","Wild Mushrooms","Other Mushrooms"],"Microgreens & Sprouts":["Alfalfa","Broccoli","Radish","Pea Shoots","Other Microgreens"],"Prepared Foods":["Ready-to-Eat Meals","Soups","Salads","Dips","Other Prepared"],"Specialty Items":["Organic Products","Gluten-Free","Vegan","Keto","Paleo","Other Specialty"],"Artisan Products":["Chocolate","Artisan Cheese","Olive Oil","Vinegar","Mustard","Hot Sauce","Fermented Products"],"Seasonal Products":["Spring Products","Summer Products","Fall Products","Winter Products","Holiday Specialties"]},W=["piece","kg","lb","g","oz","dozen","bunch","pack","bottle","jar"];i.useEffect(()=>{R(),Y()},[]),i.useEffect(()=>{const y=O=>{I.current&&!I.current.contains(O.target)&&P.current&&!P.current.contains(O.target)&&S(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const Y=async()=>{try{const y=await ml();B(y)}catch(y){console.error("Error loading all products:",y)}},R=async()=>{try{m(!0);const[y,O]=await Promise.all([Le(),hl()]);h(y.user),c(O)}catch(y){console.error("Error loading data:",y),C.error("Failed to load data")}finally{m(!1)}},q=y=>{const O=y.target.files[0];O&&(console.log("Selected image file:",O),b({...d,image:O,imagePreview:URL.createObjectURL(O)}))},T=()=>{v.trim()&&!d.tags.includes(v.trim())&&(b({...d,tags:[...d.tags,v.trim()]}),x(""))},Z=y=>{b({...d,tags:d.tags.filter(O=>O!==y)})},te=y=>y&&y.toLowerCase().split(" ").map(O=>O.charAt(0).toUpperCase()+O.slice(1)).join(" "),F=y=>y&&(y.length>250?y.substring(0,250)+"...":y),z=y=>{const O=y.target.value,ie=te(O);if(b({...d,name:ie}),O.length>=2){const re=E.filter(pe=>pe.name.toLowerCase().includes(O.toLowerCase())&&pe.name.toLowerCase()!==O.toLowerCase()).slice(0,5);g(re),S(re.length>0)}else S(!1),g([])},p=y=>{b({...d,name:y.name}),S(!1),g([])},k=y=>{const O=y.target.value,ie=F(O);b({...d,description:ie})},M=()=>!d.image&&d.name&&d.description,N=async y=>{var O,ie;y.preventDefault();try{console.log("Adding product with data:",d);const re={...d,price:parseFloat(d.price),stock:parseInt(d.stock),weight:parseFloat(d.weight)||null,tags:d.tags};console.log("Sending product data:",re);const pe=await xl(re);c([pe,...o]),b({name:"",description:"",price:"",category:"",subcategory:"",image:null,imagePreview:null,stock:"",tags:[],unit:"piece",weight:"",expiryDate:"",isOrganic:!1,isGlutenFree:!1,isVegan:!1,isHalal:!1}),a(!1),C.success("Product added successfully!")}catch(re){console.error("Error adding product:",re),C.error(`Failed to add product: ${((ie=(O=re.response)==null?void 0:O.data)==null?void 0:ie.message)||re.message}`)}},A=async y=>{try{await gl(y),c(o.filter(O=>O._id!==y)),C.success("Product deleted successfully!")}catch(O){console.error("Error deleting product:",O),C.error("Failed to delete product")}},L=async(y,O)=>{try{const ie=await pl(y,{stock:parseInt(O)});c(o.map(re=>re._id===y?ie:re)),C.success("Stock updated successfully!")}catch(ie){console.error("Error updating stock:",ie),C.error("Failed to update stock")}},H=async y=>{try{const ie=o.find(pe=>pe._id===y).status==="active"?"inactive":"active",re=await Ts(y,{status:ie});c(o.map(pe=>pe._id===y?re:pe)),C.success(`Product ${ie} successfully!`)}catch(O){console.error("Error updating product status:",O),C.error("Failed to update product status")}},U=y=>{n({...y,image:null,imagePreview:y.image||null})},K=()=>{n(null)},Q=async y=>{var O,ie;y.preventDefault();try{const re={...r,price:parseFloat(r.price),stock:parseInt(r.stock),weight:parseFloat(r.weight)||null,tags:r.tags},pe=await Ts(r._id,re);c(o.map(os=>os._id===r._id?pe:os)),n(null),C.success("Product updated successfully!")}catch(re){console.error("Error updating product:",re),C.error(`Failed to update product: ${((ie=(O=re.response)==null?void 0:O.data)==null?void 0:ie.message)||re.message}`)}},ce=y=>{const O=y.target.files[0];O&&n({...r,image:O,imagePreview:URL.createObjectURL(O)})};return u?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/profile"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Artisan Profile"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Products"}),e.jsx("p",{className:"text-gray-600",children:"Manage your product inventory and listings"})]})]}),e.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:[e.jsx(he,{className:"w-4 h-4"}),e.jsx("span",{children:s?"Cancel":"Add Product"})]})]})}),s&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New Product"}),e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{ref:P,type:"text",required:!0,value:d.name,onChange:z,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Organic Honeycrisp Apples – 2 lb bag"}),e.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[e.jsx(bs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:'Use descriptive names like "Organic Honeycrisp Apples – 2 lb bag"'})]}),w&&e.jsxs("div",{ref:I,className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:[f.map((y,O)=>e.jsxs("div",{onClick:()=>p(y),className:"px-3 py-2 hover:bg-gray-100 cursor-pointer border-b border-gray-100 last:border-b-0",children:[e.jsx("div",{className:"font-medium text-gray-900",children:y.name}),e.jsx("div",{className:"text-xs text-gray-500",children:"Existing product"})]},O)),e.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 bg-gray-50",children:"Click to use existing name or continue typing for a new product"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:d.category,onChange:y=>b({...d,category:y.target.value,subcategory:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select category"}),Object.keys(D).map(y=>e.jsx("option",{value:y,children:y},y))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),e.jsxs("select",{value:d.subcategory,onChange:y=>b({...d,subcategory:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select subcategory"}),d.category&&((Ee=D[d.category])==null?void 0:Ee.map(y=>e.jsx("option",{value:y,children:y},y)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price ($) *"}),e.jsx("input",{type:"number",step:"0.01",required:!0,value:d.price,onChange:y=>b({...d,price:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock Quantity *"}),e.jsx("input",{type:"number",required:!0,value:d.stock,onChange:y=>b({...d,stock:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit"}),e.jsx("select",{value:d.unit,onChange:y=>b({...d,unit:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:W.map(y=>e.jsx("option",{value:y,children:y},y))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:d.description,onChange:k,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Freshly picked from local orchard. Perfect for snacking or baking."}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsxs("div",{className:"flex items-center text-xs text-gray-500",children:[e.jsx(bs,{className:"w-3 h-3 mr-1"}),e.jsx("span",{children:"Keep descriptions under 250 characters for readability"})]}),e.jsxs("span",{className:`text-xs ${d.description.length>250?"text-red-500":"text-gray-500"}`,children:[d.description.length,"/250"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:q,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),M()&&e.jsxs("div",{className:"flex items-center p-3 bg-amber-50 border border-amber-200 rounded-lg",children:[e.jsx(er,{className:"w-5 h-5 text-amber-600 mr-2"}),e.jsxs("div",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:"Photo Recommended:"})," Adding a product photo builds trust with buyers and increases sales."]})]}),d.imagePreview&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:d.imagePreview,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>b({...d,image:null,imagePreview:null}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"×"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:y=>x(y.target.value),onKeyPress:y=>y.key==="Enter"&&(y.preventDefault(),T()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Add a tag and press Enter"}),e.jsx("button",{type:"button",onClick:T,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"Add"})]}),d.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((y,O)=>e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[y,e.jsx("button",{type:"button",onClick:()=>Z(y),className:"ml-1 text-orange-600 hover:text-orange-800",children:"×"})]},O))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight (optional)"}),e.jsx("input",{type:"number",step:"0.1",value:d.weight,onChange:y=>b({...d,weight:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0.0"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date (optional)"}),e.jsx("input",{type:"date",value:d.expiryDate,onChange:y=>b({...d,expiryDate:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.isOrganic,onChange:y=>b({...d,isOrganic:y.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Organic"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.isGlutenFree,onChange:y=>b({...d,isGlutenFree:y.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Gluten-Free"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.isVegan,onChange:y=>b({...d,isVegan:y.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Vegan"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:d.isHalal,onChange:y=>b({...d,isHalal:y.target.checked}),className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),e.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Halal"})]})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{type:"submit",className:"bg-orange-500 text-white px-6 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Add Product"}),e.jsx("button",{type:"button",onClick:()=>a(!1),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),o.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Inventory Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:o.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Products"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o.filter(y=>y.status==="active").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:o.reduce((y,O)=>y+O.stock,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Stock"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:o.reduce((y,O)=>y+O.soldCount,0)}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Sold"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(y=>e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[y.image?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:y.image.startsWith("http")?y.image:`http://localhost:4000${y.image}`,alt:y.name,className:"w-full h-full object-cover",onError:O=>{O.target.style.display="none",O.target.nextSibling.style.display="flex"}}),e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 hidden",children:e.jsx(et,{className:"w-12 h-12"})})]}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:e.jsx(et,{className:"w-12 h-12"})}),e.jsx("div",{className:"absolute top-2 right-2 flex space-x-1",children:e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.status})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("button",{onClick:()=>U(y),className:"p-1 bg-white bg-opacity-80 rounded-full hover:bg-opacity-100 transition-all",title:"Edit Product",children:e.jsx(_n,{className:"w-4 h-4 text-gray-600"})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900",children:y.name}),e.jsx("button",{onClick:()=>A(y._id),className:"text-red-500 hover:text-red-700 ml-2",children:e.jsx(we,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-3 overflow-hidden text-ellipsis",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:y.description}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["$",y.price]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",y.stock," ",y.unit]})]}),y.soldCount>0&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Sold: ",y.soldCount," ",y.unit]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex flex-wrap gap-1",children:[e.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:y.category}),y.subcategory&&e.jsx("span",{className:"inline-block bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded",children:y.subcategory})]}),y.tags&&y.tags.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.tags.slice(0,3).map((O,ie)=>e.jsx("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:O},ie)),y.tags.length>3&&e.jsxs("span",{className:"inline-block bg-gray-100 text-gray-700 text-xs px-2 py-1 rounded",children:["+",y.tags.length-3]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[y.isOrganic&&e.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"Organic"}),y.isGlutenFree&&e.jsx("span",{className:"inline-block bg-yellow-100 text-yellow-800 text-xs px-2 py-1 rounded",children:"Gluten-Free"}),y.isVegan&&e.jsx("span",{className:"inline-block bg-emerald-100 text-emerald-800 text-xs px-2 py-1 rounded",children:"Vegan"}),y.isHalal&&e.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 text-xs px-2 py-1 rounded",children:"Halal"})]}),e.jsx("div",{className:"border-t border-gray-200 pt-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"number",value:y.stock,onChange:O=>L(y._id,O.target.value),className:"w-16 px-2 py-1 text-sm border border-gray-300 rounded focus:ring-1 focus:ring-orange-500 focus:border-transparent"}),e.jsx("span",{className:"text-sm text-gray-600",children:y.unit})]}),e.jsx("button",{onClick:()=>H(y._id),className:`px-3 py-1 text-xs font-medium rounded ${y.status==="active"?"bg-gray-100 text-gray-700 hover:bg-gray-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:y.status==="active"?"Deactivate":"Activate"})]})})]})]},y._id))})]}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(he,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Start selling by adding your first product"}),e.jsx("button",{onClick:()=>a(!0),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Add Your First Product"})]}),r&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Edit Product"}),e.jsx("button",{onClick:K,className:"text-gray-400 hover:text-gray-600",children:e.jsx(rr,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),e.jsx("input",{required:!0,type:"text",value:r.name,onChange:y=>n({...r,name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Enter product name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),e.jsx("input",{required:!0,type:"number",step:"0.01",min:"0",value:r.price,onChange:y=>n({...r,price:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{required:!0,value:r.category,onChange:y=>n({...r,category:y.target.value,subcategory:""}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Category"}),Object.keys(D).map(y=>e.jsx("option",{value:y,children:y},y))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Subcategory"}),e.jsxs("select",{value:r.subcategory,onChange:y=>n({...r,subcategory:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:"Select Subcategory"}),r.category&&((V=D[r.category])==null?void 0:V.map(y=>e.jsx("option",{value:y,children:y},y)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stock *"}),e.jsx("input",{required:!0,type:"number",min:"0",value:r.stock,onChange:y=>n({...r,stock:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"0"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),e.jsx("textarea",{required:!0,value:r.description,onChange:y=>n({...r,description:y.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"Describe your product..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:ce,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),(r.imagePreview||r.image)&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:r.imagePreview||(r.image.startsWith("http")?r.image:`http://localhost:4000${r.image}`),alt:"Preview",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"}),e.jsx("button",{type:"button",onClick:()=>n({...r,image:null,imagePreview:null}),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"×"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dietary Preferences"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isOrganic,onChange:y=>n({...r,isOrganic:y.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Organic"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isGlutenFree,onChange:y=>n({...r,isGlutenFree:y.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Gluten-Free"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isVegan,onChange:y=>n({...r,isVegan:y.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Vegan"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:r.isHalal,onChange:y=>n({...r,isHalal:y.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Halal"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:K,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors flex items-center",children:[e.jsx(_t,{className:"w-4 h-4 mr-2"}),"Update Product"]})]})]})]})})})]})})}const Pe="/api/orders",Fe=()=>({Authorization:`Bearer ${xe.getToken()}`,"Content-Type":"application/json"}),Ke={getBuyerOrders:async()=>{try{return(await $.get(`${Pe}/buyer`,{headers:Fe()})).data}catch(t){throw console.error("Error fetching buyer orders:",t),t}},getArtisanOrders:async()=>{try{return(await $.get(`${Pe}/artisan`,{headers:Fe()})).data}catch(t){throw console.error("Error fetching artisan orders:",t),t}},getOrderById:async t=>{try{return(await $.get(`${Pe}/${t}`,{headers:Fe()})).data}catch(s){throw console.error("Error fetching order:",s),s}},createOrder:async t=>{try{return(await $.post(Pe,t,{headers:Fe()})).data}catch(s){throw console.error("Error creating order:",s),s}},updateOrderStatus:async(t,s)=>{try{return(await $.put(`${Pe}/${t}/status`,s,{headers:Fe()})).data}catch(a){throw console.error("Error updating order status:",a),a}},updatePaymentStatus:async(t,s)=>{try{return(await $.put(`${Pe}/${t}/payment`,{paymentStatus:s},{headers:Fe()})).data}catch(a){throw console.error("Error updating payment status:",a),a}},cancelOrder:async t=>{try{return(await $.put(`${Pe}/${t}/cancel`,{},{headers:Fe()})).data}catch(s){throw console.error("Error cancelling order:",s),s}},getArtisanStats:async()=>{try{return(await $.get(`${Pe}/artisan/stats`,{headers:Fe()})).data}catch(t){throw console.error("Error fetching artisan stats:",t),t}},formatOrderStatus:t=>({pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},confirmed:{label:"Confirmed",color:"bg-blue-100 text-blue-800"},preparing:{label:"Preparing",color:"bg-orange-100 text-orange-800"},ready:{label:"Ready",color:"bg-green-100 text-green-800"},delivering:{label:"Delivering",color:"bg-purple-100 text-purple-800"},delivered:{label:"Delivered",color:"bg-green-100 text-green-800"},cancelled:{label:"Cancelled",color:"bg-red-100 text-red-800"}})[t]||{label:t,color:"bg-gray-100 text-gray-800"},formatPaymentStatus:t=>({pending:{label:"Pending",color:"bg-yellow-100 text-yellow-800"},paid:{label:"Paid",color:"bg-green-100 text-green-800"},failed:{label:"Failed",color:"bg-red-100 text-red-800"},refunded:{label:"Refunded",color:"bg-gray-100 text-gray-800"}})[t]||{label:t,color:"bg-gray-100 text-gray-800"},formatPreparationStage:t=>({order_received:"Order Received",ingredients_gathered:"Ingredients Gathered",production_started:"Production Started",quality_check:"Quality Check",packaging:"Packaging",ready_for_delivery:"Ready for Delivery"})[t]||t};function Il(){const t=le(),[s,a]=i.useState([]),[r,n]=i.useState(!0),[o,c]=i.useState(null),[u,m]=i.useState(null);i.useEffect(()=>{l()},[]);const l=async()=>{try{n(!0);const g=await Le();if(c(g),m(g.role),g.role==="artisan"){const w=await Ke.getArtisanOrders();a(w)}else{const w=await Ke.getBuyerOrders();a(w)}}catch(g){console.error("Error loading data:",g),C.error("Failed to load orders")}finally{n(!1)}},h=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"confirmed":return"bg-blue-100 text-blue-800";case"preparing":return"bg-orange-100 text-orange-800";case"ready":return"bg-green-100 text-green-800";case"delivering":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=g=>{switch(g){case"pending":return e.jsx(fe,{className:"w-4 h-4"});case"confirmed":return e.jsx(fs,{className:"w-4 h-4"});case"preparing":return e.jsx(er,{className:"w-4 h-4"});case"ready":return e.jsx(fs,{className:"w-4 h-4"});case"delivering":return e.jsx(Ue,{className:"w-4 h-4"});case"delivered":return e.jsx(Pn,{className:"w-4 h-4"});case"cancelled":return e.jsx(ho,{className:"w-4 h-4"});default:return e.jsx(fe,{className:"w-4 h-4"})}},b=async g=>{try{await Ke.cancelOrder(g),C.success("Order cancelled successfully"),l()}catch(w){console.error("Error cancelling order:",w),C.error("Failed to cancel order")}},v=async(g,w)=>{try{await Ke.updateOrderStatus(g,{status:w}),C.success("Order status updated successfully"),l()}catch(S){console.error("Error updating order status:",S),C.error("Failed to update order status")}},x=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),f=g=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(g);return r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>t("/dashboard"),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-900",children:[e.jsx(wt,{className:"w-5 h-5"}),e.jsx("span",{children:"Back to Dashboard"})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:u==="artisan"?"Orders to Fulfill":"My Orders"}),e.jsx("p",{className:"text-gray-600",children:u==="artisan"?"Manage and fulfill incoming orders":"Track your order history and status"})]})]})})}),s.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[e.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-3",children:"Orders Summary"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.filter(g=>g.status==="pending").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Pending"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.filter(g=>g.status==="delivered").length}),e.jsx("div",{className:"text-sm text-gray-600",children:"Delivered"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f(s.reduce((g,w)=>g+w.totalAmount,0))}),e.jsx("div",{className:"text-sm text-gray-600",children:"Total Spent"})]})]})]}),s.length>0?e.jsx("div",{className:"space-y-6",children:s.map(g=>{var w,S,E,B;return e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${h(g.status)}`,children:[d(g.status),e.jsx("span",{className:"ml-1 capitalize",children:g.status.replace("_"," ")})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:["Order #",g._id.slice(-8).toUpperCase()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900",children:f(g.totalAmount)}),e.jsx("div",{className:"text-sm text-gray-500",children:x(g.createdAt)})]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:u==="artisan"?"Patron":"Artisan"}),e.jsx("div",{className:"text-sm text-gray-600",children:u==="artisan"?`${(w=g.buyer)==null?void 0:w.firstName} ${(S=g.buyer)==null?void 0:S.lastName}`:`${(E=g.artisan)==null?void 0:E.firstName} ${(B=g.artisan)==null?void 0:B.lastName}`})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Items"}),e.jsx("div",{className:"space-y-2",children:g.items.map((P,I)=>{var D,W;return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[((D=P.product)==null?void 0:D.image)&&e.jsx("img",{src:P.product.image.startsWith("http")?P.product.image:`http://localhost:4000${P.product.image}`,alt:P.product.name,className:"w-10 h-10 object-cover rounded",onError:Y=>{Y.target.style.display="none"}}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:((W=P.product)==null?void 0:W.name)||"Product"}),e.jsxs("div",{className:"text-gray-500",children:[P.quantity," x ",f(P.unitPrice)]})]})]}),e.jsx("div",{className:"font-medium text-gray-900",children:f(P.totalPrice)})]},I)})})]}),g.deliveryAddress&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Delivery Address"}),e.jsxs("div",{className:"text-sm text-gray-600",children:[g.deliveryAddress.street,", ",g.deliveryAddress.city,", ",g.deliveryAddress.state," ",g.deliveryAddress.zipCode]})]}),g.specialRequests&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Special Requests"}),e.jsx("div",{className:"text-sm text-gray-600",children:g.specialRequests})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("button",{onClick:()=>t(`/order/${g._id}`),className:"flex items-center space-x-1 text-sm text-orange-600 hover:text-orange-700",children:[e.jsx(gt,{className:"w-4 h-4"}),e.jsx("span",{children:"View Details"})]})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[u==="patron"&&g.status==="pending"&&e.jsx("button",{onClick:()=>b(g._id),className:"px-3 py-1 text-sm text-red-600 hover:text-red-700 border border-red-300 hover:border-red-400 rounded",children:"Cancel Order"}),u==="artisan"&&g.status==="pending"&&e.jsx("button",{onClick:()=>v(g._id,"confirmed"),className:"px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-300 hover:border-green-400 rounded",children:"Confirm Order"}),u==="artisan"&&g.status==="confirmed"&&e.jsx("button",{onClick:()=>v(g._id,"preparing"),className:"px-3 py-1 text-sm text-blue-600 hover:text-blue-700 border border-blue-300 hover:border-blue-400 rounded",children:"Start Preparing"}),u==="artisan"&&g.status==="preparing"&&e.jsx("button",{onClick:()=>v(g._id,"ready"),className:"px-3 py-1 text-sm text-green-600 hover:text-green-700 border border-green-300 hover:border-green-400 rounded",children:"Mark Ready"})]})]})]})]},g._id)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 text-gray-300",children:e.jsx(fe,{className:"w-full h-full"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No orders yet"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u==="artisan"?"When patrons place orders, they will appear here":"Start shopping to see your orders here"}),e.jsx("button",{onClick:()=>t("/"),className:"bg-orange-500 text-white px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:u==="artisan"?"View Products":"Start Shopping"})]})]})})}function Dl(){const[t]=Ks(),s=le(),[a,r]=i.useState([]),[n,o]=i.useState([]),[c,u]=i.useState(!0),[m,l]=i.useState(null),[h,d]=i.useState("distance"),[b,v]=i.useState({min:0,max:1e3}),[x,f]=i.useState([]),[g,w]=i.useState(!1),[S,E]=i.useState({}),[B,P]=i.useState(null),I=t.get("q")||"",D=[{id:"produce",name:"Fresh Produce",icon:"🍎"},{id:"eggs",name:"Fresh Eggs",icon:"🥚"},{id:"bread",name:"Fresh Bread",icon:"🍞"},{id:"dairy",name:"Dairy",icon:"🥛"},{id:"meat",name:"Meat & Poultry",icon:"🍗"},{id:"honey",name:"Honey & Jams",icon:"🍯"},{id:"herbs",name:"Herbs & Spices",icon:"🌿"},{id:"cakes",name:"Artisan Cakes",icon:"🎂"},{id:"coffee",name:"Small-Batch Coffee",icon:"☕"},{id:"tea",name:"Artisan Tea",icon:"🫖"},{id:"jams",name:"Homemade Jams",icon:"🍓"},{id:"pickles",name:"Pickles & Preserves",icon:"🥒"},{id:"sauces",name:"Artisan Sauces",icon:"🍅"},{id:"spices",name:"Fresh Spices",icon:"🧂"},{id:"nuts",name:"Nuts & Seeds",icon:"🥜"},{id:"grains",name:"Grains & Flour",icon:"🌾"},{id:"pasta",name:"Fresh Pasta",icon:"🍝"},{id:"oils",name:"Artisan Oils",icon:"🫒"},{id:"vinegars",name:"Specialty Vinegars",icon:"🍷"},{id:"cheese",name:"Artisan Cheese",icon:"🧀"},{id:"yogurt",name:"Fresh Yogurt",icon:"🥛"},{id:"butter",name:"Handmade Butter",icon:"🧈"},{id:"ice_cream",name:"Artisan Ice Cream",icon:"🍦"},{id:"chocolate",name:"Handcrafted Chocolate",icon:"🍫"},{id:"candies",name:"Homemade Candies",icon:"🍬"},{id:"snacks",name:"Artisan Snacks",icon:"🥨"},{id:"beverages",name:"Craft Beverages",icon:"🥤"},{id:"alcohol",name:"Small-Batch Alcohol",icon:"🍺"},{id:"flowers",name:"Fresh Flowers",icon:"🌸"},{id:"plants",name:"Plants & Herbs",icon:"🌱"},{id:"seeds",name:"Garden Seeds",icon:"🌱"},{id:"fertilizers",name:"Organic Fertilizers",icon:"🌿"},{id:"other",name:"Other",icon:"📦"}];i.useEffect(()=>{Y(),W()},[]),i.useEffect(()=>{I?R():(r([]),o([]),u(!1))},[I,m]),i.useEffect(()=>{T()},[a,h,b,x]);const W=async()=>{try{if(xe.getToken()){const k=await Le();P(k._id)}}catch(p){console.error("Error loading current user:",p)}},Y=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(p=>{l({lat:p.coords.latitude,lng:p.coords.longitude})},p=>{console.error("Error getting location:",p),l({lat:45.5017,lng:-73.5673}),C.error("Unable to get your location. Showing results from default area.")}):(l({lat:45.5017,lng:-73.5673}),C.error("Location services not available. Showing results from default area."))},R=async()=>{var p;try{u(!0),console.log("Starting search for query:",I);const k={minPrice:b.min,maxPrice:b.max,sortBy:h==="price-low"||h==="price-high"?"price":"createdAt",sortOrder:h==="price-low"?"asc":"desc"};x.length>0&&(k.category=x[0]),console.log("Search filters:",k);const M=await ul(I,k);console.log("Search response:",M);const N=M.products||M;console.log("Search results:",N);const A=N.map(L=>{var U,K;let H=null;if(m&&((U=L.seller)!=null&&U.addresses)){const Q=(K=L.seller.addresses)==null?void 0:K.find(ce=>ce.isDefault);Q&&Q.lat&&Q.lng&&(H=q(m.lat,m.lng,Q.lat,Q.lng))}return{...L,distance:H}});r(A),M.searchMetadata&&console.log("Search Metadata:",M.searchMetadata)}catch(k){console.error("Error searching products:",k),console.error("Error details:",{message:k.message,stack:k.stack,response:(p=k.response)==null?void 0:p.data}),C.error(`Failed to search products: ${k.message}`)}finally{u(!1)}},q=(p,k,M,N)=>{const L=(M-p)*Math.PI/180,H=(N-k)*Math.PI/180,U=Math.sin(L/2)*Math.sin(L/2)+Math.cos(p*Math.PI/180)*Math.cos(M*Math.PI/180)*Math.sin(H/2)*Math.sin(H/2);return 6371*(2*Math.atan2(Math.sqrt(U),Math.sqrt(1-U)))},T=()=>{let p=[...a];switch(p=p.filter(k=>k.price>=b.min&&k.price<=b.max),x.length>0&&(p=p.filter(k=>x.includes(k.category))),h){case"distance":p.sort((k,M)=>k.distance===null&&M.distance===null?0:k.distance===null?1:M.distance===null?-1:k.distance-M.distance);break;case"price-low":p.sort((k,M)=>k.price-M.price);break;case"price-high":p.sort((k,M)=>M.price-k.price);break}o(p)},Z=p=>{f(k=>k.includes(p)?k.filter(M=>M!==p):[...k,p])},te=p=>p===null?"Distance unknown":p<1?`${Math.round(p*1e3)}m away`:`${p.toFixed(1)}km away`,F=p=>{var k;(k=p.seller)!=null&&k._id?s(`/artisan/${p.seller._id}?product=${p._id}`):s(`/product/${p._id}`)},z=async(p,k=1,M)=>{var N;if(M.stopPropagation(),!B){C.error("Please log in to add items to cart");return}if(!((N=p.seller)!=null&&N._id)){C.error("Cannot add product: Missing seller information");return}E(A=>({...A,[p._id]:!0}));try{J.addToCart(p,k,B),C.success(`${k} ${k===1?"item":"items"} added to cart!`)}catch(A){console.error("Error adding to cart:",A),C.error("Failed to add item to cart")}finally{E(A=>({...A,[p._id]:!1}))}};return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsxs("p",{className:"text-gray-600",children:['Searching for "',I,'"...']})]})}):e.jsxs("div",{className:"min-h-screen bg-amber-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-amber-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:['Local Community Results for "',I,'"']}),e.jsxs("p",{className:"text-slate-600 mt-1",children:[n.length," local product",n.length!==1?"s":""," found from your neighbors"]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>w(!g),className:"flex items-center space-x-2 px-4 py-2 border border-amber-200 rounded-lg hover:bg-amber-50",children:[e.jsx(Nn,{className:"w-5 h-5"}),e.jsx("span",{children:"Filters"})]}),e.jsxs("select",{value:h,onChange:p=>d(p.target.value),className:"px-4 py-2 border border-amber-200 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",children:[e.jsx("option",{value:"distance",children:"Sort by Distance"}),e.jsx("option",{value:"price-low",children:"Price: Low to High"}),e.jsx("option",{value:"price-high",children:"Price: High to Low"})]})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex gap-8",children:[g&&e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Filters"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Price Range"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Min Price"}),e.jsx("input",{type:"number",value:b.min,onChange:p=>v(k=>({...k,min:parseFloat(p.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-600",children:"Max Price"}),e.jsx("input",{type:"number",value:b.max,onChange:p=>v(k=>({...k,max:parseFloat(p.target.value)||1e3})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Categories"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:D.map(p=>e.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.includes(p.id),onChange:()=>Z(p.id),className:"rounded border-gray-300 text-orange-500 focus:ring-orange-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[p.icon," ",p.name]})]},p.id))})]})]})}),e.jsx("div",{className:"flex-1",children:n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(qe,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search terms or filters"}),e.jsx("button",{onClick:()=>s("/"),className:"btn-primary",children:"Back to Discover"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(p=>{var k,M,N,A;return e.jsxs("div",{className:"product-card",onClick:()=>F(p),children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[p.image?e.jsx("img",{src:p.image.startsWith("http")?p.image:`http://localhost:4000${p.image}`,alt:p.name,className:"w-full h-full object-cover rounded-t-lg",onError:L=>{L.target.style.display="none",L.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:p.image?"none":"flex"},children:e.jsx("span",{className:"text-4xl",children:"📦"})}),e.jsxs("div",{className:"absolute top-2 left-2 flex flex-col gap-1",children:[e.jsxs("div",{className:"badge-local",children:[e.jsx(ue,{className:"w-3 h-3 inline mr-1"}),te(p.distance)]}),e.jsx("div",{className:"badge-local",children:"Local Business"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-1",children:p.name}),e.jsxs("p",{className:"text-sm text-emerald-600 mb-2",children:["by ",(k=p.artisan)!=null&&k.artisanName?p.artisan.artisanName:(M=p.seller)!=null&&M.firstName?`${p.seller.firstName} ${p.seller.lastName}`:"Unknown Seller",((N=p.artisan)==null?void 0:N.type)&&e.jsxs("span",{className:"text-gray-500 ml-1",children:["• ",p.artisan.type.replace(/_/g," ").replace(/\b\w/g,L=>L.toUpperCase())]})]}),e.jsx("p",{className:"text-slate-700 text-sm mb-3 line-clamp-2",children:p.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-xl font-bold text-emerald-600",children:["$",p.price]}),e.jsxs("span",{className:"text-sm text-slate-500",children:["per ",p.unit]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.jsx("span",{className:"badge-local",children:"Local"}),p.isOrganic&&e.jsx("span",{className:"badge-organic",children:"Organic"}),p.isHandmade&&e.jsx("span",{className:"badge-handmade",children:"Handmade"}),p.tags&&p.tags.length>0&&e.jsxs(e.Fragment,{children:[p.tags.slice(0,2).map((L,H)=>e.jsx("span",{className:"text-xs bg-amber-100 text-amber-700 px-2 py-1 rounded-full",children:L},H)),p.tags.length>2&&e.jsxs("span",{className:"text-xs text-slate-500",children:["+",p.tags.length-2," more"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-slate-500 mb-3",children:[e.jsxs("span",{children:[p.stock," available"]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ue,{className:"w-4 h-4 mr-1"}),p.leadTimeHours<=24?"Same day pickup":`${p.leadTimeHours}h lead time`]})]}),e.jsx("button",{onClick:L=>z(p,1,L),disabled:S[p._id]||!((A=p.seller)!=null&&A._id),className:"w-full btn-primary py-2 px-4 rounded-lg disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center",children:S[p._id]?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Adding..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 01-2 2H9a2 2 0 01-2-2v-6m8 0V9a2 2 0 00-2-2H9a2 2 0 00-2 2v4.01"})}),"Bring it Home"]})})]})]},p._id)})})})]})})]})}function Bl({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const $l=i.forwardRef(Bl),vt=$l;function _l({title:t,titleId:s,...a},r){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":s},a),t?i.createElement("title",{id:s},t):null,i.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Ul=i.forwardRef(_l),Hl=Ul,Be="/api",ht={async getAllArtisans(t={}){try{const s=new URLSearchParams;t.category&&s.append("category",t.category),t.type&&s.append("type",t.type),t.location&&s.append("location",t.location),t.search&&s.append("search",t.search),t.includeProducts&&s.append("includeProducts","true");const a=`${Be}/artisans?${s}`;console.log("Fetching artisans from:",a),console.log("Filters applied:",t);const r=await fetch(a);if(!r.ok){const o=await r.text();throw console.error("Response not ok:",r.status,o),new Error(`Failed to fetch artisans: ${r.status}`)}const n=await r.json();return console.log("Artisans fetched successfully:",n.length,"artisans"),n}catch(s){throw console.error("Error fetching artisans:",s),s}},async getArtisanById(t){try{const s=await fetch(`${Be}/artisans/${t}?includeProducts=true`);if(!s.ok)throw new Error("Artisan not found");return await s.json()}catch(s){throw console.error("Error fetching artisan:",s),s}},async createArtisan(t,s){try{const a=await fetch(`${Be}/artisans`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(t)});if(!a.ok)throw new Error("Failed to create artisan");return await a.json()}catch(a){throw console.error("Error creating artisan:",a),a}},async updateArtisan(t,s,a){try{const r=await fetch(`${Be}/artisans/${t}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${a}`},body:JSON.stringify(s)});if(!r.ok)throw new Error("Failed to update artisan");return await r.json()}catch(r){throw console.error("Error updating artisan:",r),r}},async getArtisansByType(t){try{const s=await fetch(`${Be}/artisans?type=${t}&includeProducts=true`);if(!s.ok)throw new Error("Failed to fetch artisans by type");return await s.json()}catch(s){throw console.error("Error fetching artisans by type:",s),s}},async getArtisansByCategory(t){try{const s=await fetch(`${Be}/artisans?category=${t}&includeProducts=true`);if(!s.ok)throw new Error("Failed to fetch artisans by category");return await s.json()}catch(s){throw console.error("Error fetching artisans by category:",s),s}},async searchArtisans(t){try{const s=await fetch(`${Be}/artisans?search=${encodeURIComponent(t)}&includeProducts=true`);if(!s.ok)throw new Error("Failed to search artisans");return await s.json()}catch(s){throw console.error("Error searching artisans:",s),s}}},ql=t=>({farm:"Farm",bakery:"Bakery",restaurant:"Restaurant",cafe:"Café",market:"Market",butcher:"Butcher Shop",dairy:"Dairy",winery:"Winery",brewery:"Brewery",distillery:"Distillery",food_truck:"Food Truck",catering:"Catering",grocery:"Grocery Store",specialty_shop:"Specialty Food Shop",fish_market:"Fish Market",organic_store:"Organic Store",coffee_roaster:"Coffee Roaster",tea_house:"Tea House",chocolate_maker:"Chocolate Maker",cheese_maker:"Cheese Maker",honey_producer:"Honey Producer",maple_syrup:"Maple Syrup Producer",mushroom_farm:"Mushroom Farm",herb_garden:"Herb Garden",greenhouse:"Greenhouse",orchard:"Orchard",vineyard:"Vineyard",microgreens:"Microgreens Farm",aquaponics:"Aquaponics Farm",hydroponics:"Hydroponics Farm",other:"Other"})[t]||t;function zl(){var E,B,P,I,D,W,Y;const{id:t}=Gs(),s=le(),[a,r]=i.useState(null),[n,o]=i.useState([]),[c,u]=i.useState(!0),[m,l]=i.useState("products"),[h,d]=i.useState([]),[b,v]=i.useState(null);i.useEffect(()=>{const R=localStorage.getItem("token");if(R)try{const q=JSON.parse(atob(R.split(".")[1]));v(q.userId)}catch(q){console.error("Error parsing token:",q),v(null)}else v(null);x(),f()},[t]);const x=async()=>{try{u(!0);const R=await ht.getArtisanById(t);console.log("Business data loaded:",R),r(R),R.products&&Array.isArray(R.products)?(console.log("Products found:",R.products.length),console.log("First product:",R.products[0]),o(R.products)):(console.log("No products found in business data"),o([]))}catch(R){console.error("Error loading business details:",R),C.error("Failed to load business details")}finally{u(!1)}},f=()=>{const R=localStorage.getItem("favorite_businesses");R&&d(JSON.parse(R))},g=()=>{const R=h.includes(t)?h.filter(T=>T!==t):[...h,t];d(R),localStorage.setItem("favorite_businesses",JSON.stringify(R));const q=h.includes(t)?"removed from":"added to";C.success(`${(a==null?void 0:a.businessName)||"Business"} ${q} favorites`)},w=(R,q=1)=>{var Z,te,F,z;if(console.log("BusinessDetails addToCart called:",{product:R.name,quantity:q,userId:b}),q>R.stock){C.error(`Only ${R.stock} items available`);return}const T={...R,seller:(a==null?void 0:a.user)||{_id:((Z=a==null?void 0:a.user)==null?void 0:Z._id)||"unknown",firstName:((te=a==null?void 0:a.user)==null?void 0:te.firstName)||"Unknown",lastName:((F=a==null?void 0:a.user)==null?void 0:F.lastName)||"Seller",email:((z=a==null?void 0:a.user)==null?void 0:z.email)||"unknown@example.com"}};console.log("Product with seller:",T),is(()=>Promise.resolve().then(()=>Rs),void 0).then(({cartService:p})=>{console.log("Calling cartService.addToCart with userId:",b),p.addToCart(T,q,b),C.success(`${q} ${R.name} added to cart`)})},S=R=>R?R.startsWith("http://")||R.startsWith("https://")?R:R.startsWith("/")?`http://localhost:4000${R}`:R:null;return c?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading business details..."})]})}):a?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-4",children:e.jsx("button",{onClick:()=>s("/find-businesses"),className:"text-gray-600 hover:text-gray-800",children:"← Back to Businesses"})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:g,className:"p-2 text-gray-600 hover:text-red-500 transition-colors",children:h.includes(t)?e.jsx(vt,{className:"h-6 w-6 text-red-500"}):e.jsx(Ce,{className:"h-6 w-6"})}),e.jsx("button",{onClick:()=>{console.log("Debug: Testing cart with userId:",b),is(()=>Promise.resolve().then(()=>Rs),void 0).then(({cartService:R})=>{const q={_id:"test-product",name:"Test Product",price:10.99,unit:"piece"};R.addToCart(q,1,b)})},className:"p-2 text-gray-600 hover:text-blue-500 transition-colors text-xs",children:"Test Cart"})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8 overflow-hidden",children:[e.jsxs("div",{className:"relative h-64 bg-gray-100",children:[a.photos&&Array.isArray(a.photos)&&a.photos.length>0?e.jsx("img",{src:a.photos[0],alt:a.businessName,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(Ne,{className:"h-16 w-16 text-gray-400"})}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-col gap-2",children:[e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-orange-100 text-orange-800",children:ql(a.type)}),e.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"🏠 Local Business"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.businessName}),e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:a.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(R=>{var q;return e.jsx(Re,{className:`h-5 w-5 ${R<=(((q=a.rating)==null?void 0:q.average)||0)?"text-yellow-400 fill-current":"text-gray-300"}`},R)})}),e.jsxs("span",{className:"text-gray-600",children:["(",((E=a.rating)==null?void 0:E.count)||0," reviews)"]})]})]}),e.jsx("button",{onClick:g,className:`p-2 rounded-lg border ${h.includes(t)?"bg-red-50 border-red-200 text-red-600":"bg-gray-50 border-gray-200 text-gray-600 hover:bg-gray-100"}`,children:h.includes(t)?e.jsx(vt,{className:"h-5 w-5"}):e.jsx(Ce,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.address&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Location"}),e.jsxs("p",{className:"font-medium",children:[a.address.city,", ",a.address.state]})]})]}),(((B=a.contactInfo)==null?void 0:B.phone)||a.phone)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Phone"}),e.jsx("p",{className:"font-medium",children:((P=a.contactInfo)==null?void 0:P.phone)||a.phone})]})]}),(((I=a.contactInfo)==null?void 0:I.email)||a.email)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qt,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Email"}),e.jsx("p",{className:"font-medium",children:((D=a.contactInfo)==null?void 0:D.email)||a.email})]})]}),((W=a.contactInfo)==null?void 0:W.website)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"h-5 w-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Website"}),e.jsx("a",{href:a.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-orange-600 hover:text-orange-700",children:"Visit Website"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fe,{className:"h-5 w-5 text-gray-400 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Hours"}),e.jsx("div",{className:"text-xs space-y-0.5",children:a.businessHours&&(()=>{const q=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(T=>{const Z=a.businessHours[T];if(!Z)return null;const te=T.charAt(0).toUpperCase()+T.slice(1,3);return Z.closed?e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[te,":"]}),e.jsx("span",{className:"font-medium ml-2 text-gray-400",children:"Closed"})]},T):Z.open&&Z.close?e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[te,":"]}),e.jsxs("span",{className:"font-medium ml-2",children:[Z.open,"-",Z.close]})]},T):e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[te,":"]}),e.jsx("span",{className:"font-medium ml-2 text-gray-400",children:"-"})]},T)}).filter(Boolean);return q.length>0?q:e.jsx("span",{className:"text-gray-400",children:"Hours not specified"})})()})]})]})]}),((Y=a.contactInfo)==null?void 0:Y.socialMedia)&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Follow Us"}),e.jsxs("div",{className:"flex space-x-4",children:[a.contactInfo.socialMedia.facebook&&e.jsx("a",{href:a.contactInfo.socialMedia.facebook,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-700",children:"Facebook"}),a.contactInfo.socialMedia.instagram&&e.jsx("a",{href:a.contactInfo.socialMedia.instagram,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Instagram"}),a.contactInfo.socialMedia.twitter&&e.jsx("a",{href:a.contactInfo.socialMedia.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-500",children:"Twitter/X"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border mb-8",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"flex space-x-8 px-6",children:[e.jsxs("button",{onClick:()=>l("products"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="products"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Products (",n.length,")"]}),e.jsx("button",{onClick:()=>l("about"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="about"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"About"}),e.jsx("button",{onClick:()=>l("operations"),className:`py-4 px-1 border-b-2 font-medium text-sm ${m==="operations"?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Operations"})]})}),e.jsxs("div",{className:"p-6",children:[m==="products"&&e.jsx(Wl,{products:n,onAddToCart:w,userId:b,getImageUrl:S}),m==="about"&&e.jsx(Gl,{business:a}),m==="operations"&&e.jsx(Jl,{business:a})]})]})]})]}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ne,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Business Not Found"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The business you're looking for doesn't exist or has been removed."}),e.jsx("button",{onClick:()=>s("/find-businesses"),className:"btn-primary",children:"Browse Other Businesses"})]})})}function Wl({products:t,onAddToCart:s,userId:a,getImageUrl:r}){const[n,o]=i.useState("all"),[c,u]=i.useState(""),m=["all",...new Set(t.map(h=>h.category).filter(Boolean))],l=t.filter(h=>{const d=!c||h.name.toLowerCase().includes(c.toLowerCase())||h.description.toLowerCase().includes(c.toLowerCase()),b=n==="all"||h.category===n;return d&&b});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("input",{type:"text",placeholder:"Search products...",value:c,onChange:h=>u(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"}),e.jsx("select",{value:n,onChange:h=>o(h.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",children:m.map(h=>e.jsx("option",{value:h,children:h==="all"?"All Categories":h},h))})]}),e.jsxs("p",{className:"text-gray-600",children:[l.length," product",l.length!==1?"s":""," found"]})]}),l.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(to,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or category filters"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(h=>e.jsx(Vl,{product:h,onAddToCart:s,getImageUrl:r},h._id))})]})}function Vl({product:t,onAddToCart:s,getImageUrl:a}){const[r,n]=i.useState(1),o=()=>{s(t,r),n(1)};return console.log("ProductCard render:",t.name,"Image:",t.image,"Processed URL:",a(t.image)),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[t.image?e.jsx("img",{src:a(t.image),alt:t.name,className:"w-full h-full object-cover",onError:c=>{console.error("Image failed to load:",a(t.image)),c.target.style.display="none",c.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:t.image?"none":"flex"},children:e.jsx(et,{className:"h-12 w-12 text-gray-400"})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status==="active"?"Available":"Unavailable"})}),e.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[t.isOrganic&&e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[e.jsx(Xt,{className:"h-3 w-3 inline mr-1"}),"Organic"]}),t.isGlutenFree&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Gluten-Free"})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t.name}),e.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:t.description}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("span",{className:"text-lg font-bold text-orange-600",children:["$",t.price]}),e.jsxs("span",{className:"text-sm text-gray-500",children:["per ",t.unit]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-4",children:[e.jsxs("span",{children:["Available: ",t.stock]}),t.leadTimeHours&&e.jsxs("span",{children:["Ready in: ",t.leadTimeHours,"h"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[e.jsx("button",{onClick:()=>n(Math.max(1,r-1)),className:"px-3 py-2 text-gray-600 hover:text-gray-800",children:e.jsx(sr,{className:"h-4 w-4"})}),e.jsx("span",{className:"px-3 py-2 border-x border-gray-300",children:r}),e.jsx("button",{onClick:()=>n(r+1),className:"px-3 py-2 text-gray-600 hover:text-gray-800",children:e.jsx(he,{className:"h-4 w-4"})})]}),e.jsx("button",{onClick:o,disabled:t.status!=="active"||t.stock===0,className:"flex-1 bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors font-medium",children:"Add to Cart"})]})]})]})}function Gl({business:t}){return e.jsxs("div",{className:"space-y-6",children:[t.photos&&Array.isArray(t.photos)&&t.photos.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Photos"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.photos.map((s,a)=>e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:s,alt:`${t.businessName} - Photo ${a+1}`,className:"w-full h-48 object-cover rounded-lg shadow-sm hover:shadow-md transition-shadow"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-200 rounded-lg flex items-center justify-center",children:e.jsxs("span",{className:"text-white opacity-0 group-hover:opacity-100 transition-opacity text-sm font-medium",children:["Photo ",a+1]})})]},a))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"About This Business"}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.description||"No description available."})]}),t.specialties&&t.specialties.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Specialties"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.specialties.map((s,a)=>e.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:s},a))})]}),t.address&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ue,{className:"h-5 w-5 text-gray-400 mt-1"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.businessName}),e.jsxs("p",{className:"text-gray-600",children:[t.address.street&&`${t.address.street}, `,t.address.city,", ",t.address.state," ",t.address.zipCode]})]})]})})]}),t.operationDetails&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.operationDetails.yearsInBusiness&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Years in Business"}),e.jsxs("p",{className:"font-medium",children:[t.operationDetails.yearsInBusiness," years"]})]}),t.operationDetails.productionCapacity&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Production Capacity"}),e.jsx("p",{className:"font-medium",children:t.operationDetails.productionCapacity})]}),t.operationDetails.farmingMethods&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Farming Methods"}),e.jsx("p",{className:"font-medium",children:t.operationDetails.farmingMethods})]}),t.operationDetails.sustainabilityPractices&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Sustainability Practices"}),e.jsx("p",{className:"font-medium",children:t.operationDetails.sustainabilityPractices})]})]})]})]})}function Jl({business:t}){var s,a;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Operations"}),t.operationDetails&&e.jsxs("div",{className:"space-y-4",children:[t.operationDetails.productionMethods&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Production Methods"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.productionMethods})]}),t.operationDetails.equipment&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Equipment & Tools"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.equipment})]}),t.operationDetails.processes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Production Processes"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.processes})]}),t.operationDetails.ingredients&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Ingredients & Materials"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.ingredients})]}),t.operationDetails.facilities&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Facilities & Location"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.facilities})]}),t.operationDetails.qualityStandards&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Quality Standards"}),e.jsx("p",{className:"text-gray-700",children:t.operationDetails.qualityStandards})]}),t.operationDetails.certifications&&t.operationDetails.certifications.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Certifications"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.operationDetails.certifications.map((r,n)=>e.jsxs("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:[e.jsx(tt,{className:"h-4 w-4 inline mr-1"}),r]},n))})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Delivery Options"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[e.jsx(Ue,{className:"h-6 w-6 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Pickup"}),e.jsx("p",{className:"text-sm text-gray-600",children:(s=t.deliveryOptions)!=null&&s.pickup?"Available":"Not available"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 border border-gray-200 rounded-lg",children:[e.jsx(Ue,{className:"h-6 w-6 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:(a=t.deliveryOptions)!=null&&a.delivery?e.jsxs(e.Fragment,{children:["Available ($",t.deliveryOptions.deliveryFee," fee)",t.deliveryOptions.deliveryRadius&&e.jsxs("span",{className:"block",children:["Within ",t.deliveryOptions.deliveryRadius,"km"]})]}):"Not available"})]})]})]})]}),t.businessHours&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Business Hours"}),e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Day"}),e.jsx("th",{className:"text-left py-2 px-3 font-medium text-gray-700",children:"Hours"})]})}),e.jsx("tbody",{children:Object.entries(t.businessHours).map(([r,n])=>{const o=r.charAt(0).toUpperCase()+r.slice(1),c=n.closed?"Closed":n.open&&n.close?`${n.open} - ${n.close}`:"Hours not specified";return e.jsxs("tr",{className:"border-b border-gray-100",children:[e.jsx("td",{className:"py-2 px-3 font-medium text-gray-900",children:o}),e.jsx("td",{className:"py-2 px-3 text-gray-600",children:c})]},r)})})]})})})]})]})}function Zl(){var F,z;const[t,s]=i.useState([]),[a,r]=i.useState([]),[n,o]=i.useState(!1),[c,u]=i.useState(""),[m,l]=i.useState(null),[h,d]=i.useState(""),[b,v]=i.useState("name"),x=le(),f=[{value:"all",label:"All Artisan Types"},{value:"farm",label:"Farm"},{value:"bakery",label:"Bakery"},{value:"dairy",label:"Dairy"},{value:"cheese_maker",label:"Cheese Maker"},{value:"winery",label:"Winery"},{value:"vineyard",label:"Vineyard"},{value:"honey_producer",label:"Honey Producer"},{value:"chocolate_maker",label:"Chocolate Maker"},{value:"coffee_roaster",label:"Coffee Roaster"},{value:"fish_market",label:"Fish Market"},{value:"herb_garden",label:"Herb Garden"},{value:"mushroom_farm",label:"Mushroom Farm"},{value:"orchard",label:"Orchard"}],g=[{id:"all",name:"All Artisans",icon:"🏪",description:"Discover all local artisans"},{id:"bakery",name:"Bakeries",icon:"🥖",description:"Fresh breads and pastries"},{id:"farm",name:"Local Farms",icon:"🌾",description:"Fresh produce and farm goods"},{id:"dairy",name:"Dairy & Cheese",icon:"🧀",description:"Fresh dairy products"},{id:"cheese_maker",name:"Cheese Makers",icon:"🧀",description:"Artisan cheese products"},{id:"winery",name:"Wineries",icon:"🍷",description:"Local wines and vineyards"},{id:"vineyard",name:"Vineyards",icon:"🍇",description:"Premium wine grapes"},{id:"honey_producer",name:"Honey Producers",icon:"🍯",description:"Pure local honey"},{id:"chocolate_maker",name:"Chocolate Makers",icon:"🍫",description:"Artisan chocolates"},{id:"coffee_roaster",name:"Coffee Roasters",icon:"☕",description:"Fresh roasted coffee"},{id:"fish_market",name:"Fish Markets",icon:"🐟",description:"Fresh seafood"},{id:"herb_garden",name:"Herb Gardens",icon:"🌿",description:"Fresh herbs and spices"},{id:"mushroom_farm",name:"Mushroom Farms",icon:"🍄",description:"Fresh mushrooms"},{id:"orchard",name:"Orchards",icon:"🍎",description:"Fresh fruits and nuts"}],w=[{value:"",label:"All Categories"},{value:"fresh_produce",label:"Fresh Produce & Vegetables"},{value:"fruits",label:"Fruits & Berries"},{value:"dairy",label:"Dairy & Eggs"},{value:"meat",label:"Meat & Poultry"},{value:"seafood",label:"Seafood & Fish"},{value:"bakery",label:"Bread & Pastries"},{value:"beverages",label:"Beverages & Drinks"},{value:"preserves",label:"Preserves & Jams"},{value:"herbs",label:"Herbs & Spices"},{value:"grains",label:"Grains & Cereals"},{value:"nuts",label:"Nuts & Seeds"},{value:"honey",label:"Honey & Sweeteners"},{value:"mushrooms",label:"Mushrooms"},{value:"microgreens",label:"Microgreens & Sprouts"},{value:"prepared_foods",label:"Prepared Foods"},{value:"specialty_items",label:"Specialty Items"}];i.useEffect(()=>{I()},[]);const S=async p=>{p.preventDefault(),c.trim()?await E():await I()},E=async()=>{try{o(!0);const p=await ht.getAllArtisans({includeProducts:!1,search:c});s(p||[]),r(p||[])}catch(p){console.error("Error searching artisans:",p),C.error("Failed to search artisans"),s([]),r([])}finally{o(!1)}},B=()=>{let p=t||[];c.trim()&&(p=p.filter(k=>{var M,N,A;return((M=k.artisanName)==null?void 0:M.toLowerCase().includes(c.toLowerCase()))||((N=k.description)==null?void 0:N.toLowerCase().includes(c.toLowerCase()))||((A=k.type)==null?void 0:A.toLowerCase().includes(c.toLowerCase()))})),m&&m!=="all"&&(p=p.filter(k=>k.type===m)),h&&(p=p.filter(k=>{var M;return(M=k.categories)==null?void 0:M.includes(h)})),p.sort((k,M)=>{switch(b){case"name":return(k.artisanName||"").localeCompare(M.artisanName||"");case"rating":return(M.rating||0)-(k.rating||0);case"distance":return(k.distance||0)-(M.distance||0);default:return 0}}),r(p)};i.useEffect(()=>{B()},[t,m,h,b]);const P=async p=>{l(p),d(""),p&&p!=="all"?await D(p):await I()},I=async()=>{try{o(!0);const p=await ht.getAllArtisans({includeProducts:!1});s(p||[]),r(p||[]),l("all")}catch(p){console.error("Error loading all artisans:",p),C.error("Failed to load artisans"),s([]),r([])}finally{o(!1)}},D=async p=>{try{o(!0),console.log("Loading artisans for type:",p);const k=await ht.getAllArtisans({includeProducts:!1,type:p});console.log("Response received:",k),s(k||[]),r(k||[])}catch(k){console.error("Error loading artisans by type:",k),C.error("Failed to load artisans"),s([]),r([])}finally{o(!1)}},W=()=>{u(""),l(null),d(""),v("name"),s([]),r([]),o(!1)},Y=p=>p?typeof p=="object"&&p.url?p.url:typeof p=="string"?p.startsWith("http")?p:p.startsWith("/")?`http://localhost:4000${p}`:`http://localhost:4000/${p}`:null:null,R=p=>{if(!p)return[];if(p.photos&&Array.isArray(p.photos))return p.photos.map(k=>Y(k)).filter(k=>k!==null);if(p.photo){const k=Y(p.photo);return k?[k]:[]}if(p.image){const k=Y(p.image);return k?[k]:[]}return[]},q=p=>({bakery:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",farm:"https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop",dairy:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=400&h=300&fit=crop",cheese_maker:"https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=400&h=300&fit=crop",winery:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop",vineyard:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop",honey_producer:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=400&h=300&fit=crop",chocolate_maker:"https://images.unsplash.com/photo-1481391319762-47dff72954d9?w=400&h=300&fit=crop",coffee_roaster:"https://images.unsplash.com/photo-1447933601403-0c6688de566e?w=400&h=300&fit=crop",fish_market:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop",herb_garden:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=300&fit=crop",mushroom_farm:"https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop",orchard:"https://images.unsplash.com/photo-1519996529931-28324d5a630e?w=400&h=300&fit=crop"})[p]||"https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop",T=p=>{if(!p)return null;if(Array.isArray(p)){if(p.length===0)return null;const k=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],M=p.filter(N=>N&&N.isOpen);return M.length===0?null:M.map(N=>`${k[N.dayOfWeek-1]}: ${N.openTime} - ${N.closeTime}`)}if(typeof p=="object"){const k=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],M=[];return k.forEach(N=>{const A=p[N];if(A&&!A.closed&&A.open&&A.close){const L=N.charAt(0).toUpperCase()+N.slice(1);M.push(`${L}: ${A.open} - ${A.close}`)}}),M.length>0?M:null}return null},Z=p=>{var A,L,H,U,K,Q,ce,Ee;if(!p)return null;const k=T(p.artisanHours),M=R(p),N=M.length>0?M[0]:q(p.type);return console.log("Artisan:",p.artisanName,"Photos:",p.photos,"Images:",M,"Primary Image:",N),e.jsxs("div",{className:"artisan-card group",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"aspect-w-16 aspect-h-9 bg-stone-100 rounded-t-2xl overflow-hidden relative",children:[e.jsx("img",{src:N,alt:p.artisanName,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500",onError:V=>{console.log("Image failed to load:",N),V.target.style.display="none",V.target.nextSibling.style.display="flex"},onLoad:V=>{console.log("Image loaded successfully:",N),V.target.style.opacity="1"},style:{opacity:1,transition:"opacity 0.3s ease-in-out"}}),e.jsx("div",{className:"w-full h-48 bg-gradient-to-br from-stone-200 to-stone-300 flex items-center justify-center hidden",children:e.jsx(Ne,{className:"w-16 h-16 text-stone-400"})}),M.length>1&&e.jsxs("div",{className:"photo-count",children:["+",M.length-1," more"]})]}),e.jsxs("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:[((A=p.categories)==null?void 0:A.includes("organic"))&&e.jsx("span",{className:"badge-organic",children:"Organic"}),e.jsx("span",{className:"badge-local",children:"Local"}),(p.type==="bakery"||p.type==="chocolate_maker")&&e.jsx("span",{className:"badge-handmade",children:"Handmade"})]})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-stone-900 group-hover:text-amber-600 transition-colors duration-300",children:p.artisanName||"Unnamed Artisan"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Hl,{className:"w-5 h-5 text-amber-400"}),e.jsx("span",{className:"text-sm font-medium text-stone-700",children:(L=p.rating)!=null&&L.average?p.rating.average.toFixed(1):"New"}),((H=p.rating)==null?void 0:H.count)&&e.jsxs("span",{className:"text-xs text-stone-500",children:["(",p.rating.count,")"]})]})]}),e.jsx("p",{className:"text-sm text-amber-600 font-medium mb-2 capitalize",children:((U=p.type)==null?void 0:U.replace("_"," "))||"Local Artisan"}),e.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-2",children:p.description||"Discover amazing local products from this artisan."}),k&&k.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-stone-800 mb-2",children:"Open Today"}),e.jsxs("div",{className:"space-y-1",children:[k.slice(0,3).map((V,y)=>e.jsx("p",{className:"text-xs text-stone-600",children:V},y)),k.length>3&&e.jsxs("p",{className:"text-xs text-amber-600 font-medium",children:["+",k.length-3," more days"]})]})]}),e.jsxs("div",{className:"flex items-center text-stone-500 text-sm mb-4",children:[e.jsx(ue,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:((K=p.address)==null?void 0:K.city)||"Location not specified"})]}),((Q=p.contactInfo)==null?void 0:Q.phone)&&e.jsxs("div",{className:"flex items-center text-stone-500 text-sm mb-4",children:[e.jsx(ft,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:p.contactInfo.phone})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>x(`/artisan/${p._id}`),className:"btn-primary btn-small",children:"Visit Artisan"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[((ce=p.contactInfo)==null?void 0:ce.phone)&&e.jsx("a",{href:`tel:${p.contactInfo.phone}`,className:"p-2 text-stone-400 hover:text-amber-600 transition-colors duration-300",title:"Call artisan",children:e.jsx(ft,{className:"w-5 h-5"})}),((Ee=p.contactInfo)==null?void 0:Ee.email)&&e.jsx("a",{href:`mailto:${p.contactInfo.email}`,className:"p-2 text-stone-400 hover:text-amber-600 transition-colors duration-300",title:"Email artisan",children:e.jsx(Qt,{className:"w-5 h-5"})})]})]})]})]},p._id)},te=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:[...Array(6)].map((p,k)=>e.jsx("div",{className:"loading-skeleton h-96 rounded-2xl"},k))});return e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-stone-900 via-amber-900 to-stone-800 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Find Artisan"}),e.jsx("p",{className:"text-xl text-stone-200 mb-8 max-w-3xl mx-auto",children:"Connect with exceptional local artisans offering premium products and authentic experiences"}),e.jsx("form",{onSubmit:S,className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c,onChange:p=>u(p.target.value),placeholder:"Search for artisans, products, or categories...",className:"search-bar pl-12 pr-4 w-full"}),e.jsx(qe,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 text-stone-400"})]})})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-stone-900 mb-8 text-center",children:"Explore by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:g.map(p=>e.jsxs("button",{onClick:()=>P(p.id),className:`category-card p-4 text-center transition-all duration-300 ${m===p.id?"border-amber-500 bg-amber-50 text-amber-700":"hover:border-stone-300"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:p.icon}),e.jsx("h3",{className:"font-semibold text-sm mb-1",children:p.name}),e.jsx("p",{className:"text-xs text-stone-600",children:p.description})]},p.id))})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-1/4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-stone-200 p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900",children:"Filters"}),e.jsx("button",{onClick:W,className:"text-sm text-amber-600 hover:text-amber-700 font-medium",children:"Clear All"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"form-label",children:"Artisan Type"}),e.jsx("select",{value:m,onChange:p=>P(p.target.value),className:"form-select",children:f.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"form-label",children:"Product Category"}),e.jsx("select",{value:h,onChange:p=>d(p.target.value),className:"form-select",children:w.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"form-label",children:"Sort By"}),e.jsxs("select",{value:b,onChange:p=>v(p.target.value),className:"form-select",children:[e.jsx("option",{value:"name",children:"Name (A-Z)"}),e.jsx("option",{value:"rating",children:"Highest Rated"}),e.jsx("option",{value:"distance",children:"Distance"})]})]})]})}),e.jsxs("div",{className:"lg:w-3/4",children:[e.jsx("div",{className:"flex items-center justify-between mb-8",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:m?`${a.length} Local Artisans`:"Select a Category"}),e.jsxs("p",{className:"text-stone-600",children:[m&&`Showing ${(F=f.find(p=>p.value===m))==null?void 0:F.label}`,h&&` • ${(z=w.find(p=>p.value===h))==null?void 0:z.label}`]})]})}),n?te():m?a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:a.map(Z)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-stone-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-stone-900 mb-2",children:"No artisans found"}),e.jsx("p",{className:"text-stone-600 mb-6",children:"Try adjusting your search criteria or select a different category"}),e.jsx("button",{onClick:W,className:"btn-primary",children:"View All Categories"})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-stone-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-stone-900 mb-2",children:"Select a Category"}),e.jsx("p",{className:"text-stone-600 mb-6",children:"Choose an artisan category above to discover local artisans"})]})]})]})]})]})}function Yl(){var x;const[t,s]=i.useState("all"),[a,r]=i.useState([]),n=le(),[o]=i.useState([{id:1,title:"Spring Farmers Market Opening",description:"Join us for the grand opening of our spring farmers market! Meet local artisans, sample fresh produce, and enjoy live music. Perfect for families and food enthusiasts.",date:"2024-03-15",time:"10:00 AM - 4:00 PM",location:"Downtown Plaza",address:"123 Main Street, Springfield, IL",category:"market",organizer:"Springfield Farmers Market Association",organizerImage:"https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop",attendees:150,maxAttendees:200,price:"Free",images:["https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop"],featured:!0,tags:["Family-friendly","Live Music","Food Sampling"]},{id:2,title:"Artisan Bread Making Workshop",description:"Learn the art of sourdough bread making from master baker Marie Dubois. This hands-on workshop covers everything from starter maintenance to shaping and baking.",date:"2024-03-20",time:"2:00 PM - 6:00 PM",location:"Rosewood Artisan Bakery",address:"890 Baker Street, Springfield, IL",category:"workshop",organizer:"Marie Dubois",organizerImage:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",attendees:12,maxAttendees:15,price:"$75",images:["https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=400&h=300&fit=crop"],featured:!0,tags:["Hands-on","Take-home Bread","Expert Instruction"]},{id:3,title:"Cheese Tasting & Pairing Event",description:"Discover the world of artisanal cheese with expert cheese maker Claire Tremblay. Sample aged cheddars, fresh mozzarella, and learn perfect wine pairings.",date:"2024-03-25",time:"7:00 PM - 9:00 PM",location:"La Fromagerie du Village",address:"147 Cheese Court, Springfield, IL",category:"tasting",organizer:"Claire Tremblay",organizerImage:"https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=400&h=300&fit=crop",attendees:25,maxAttendees:30,price:"$45",images:["https://images.unsplash.com/photo-1486297678162-eb2a19b0a32d?w=400&h=300&fit=crop"],featured:!1,tags:["Wine Pairing","Expert Guide","Premium Experience"]},{id:4,title:"Honey Harvest Festival",description:"Experience the sweet world of beekeeping! Watch live honey extraction, learn about bee conservation, and taste different honey varieties from local hives.",date:"2024-04-05",time:"11:00 AM - 5:00 PM",location:"Sweet Honey Haven",address:"567 Bee Lane, Springfield, IL",category:"festival",organizer:"Sophie Tremblay",organizerImage:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=400&h=300&fit=crop",attendees:80,maxAttendees:100,price:"$15",images:["https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=400&h=300&fit=crop"],featured:!1,tags:["Educational","Family-friendly","Live Demonstrations"]},{id:5,title:"Organic Farm Tour & Lunch",description:"Tour Green Valley Farm and learn about sustainable farming practices. Enjoy a farm-to-table lunch featuring fresh, organic ingredients grown on-site.",date:"2024-04-10",time:"10:00 AM - 2:00 PM",location:"Green Valley Farm",address:"1234 Farm Road, Springfield, IL",category:"tour",organizer:"Green Valley Farm",organizerImage:"https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400&h=300&fit=crop",attendees:18,maxAttendees:25,price:"$35",images:["https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop"],featured:!1,tags:["Educational","Farm-to-Table","Outdoor Activity"]},{id:6,title:"Chocolate Making Masterclass",description:"Create your own artisanal chocolates with master chocolatier Isabelle Moreau. Learn tempering techniques and create beautiful truffles to take home.",date:"2024-04-15",time:"1:00 PM - 5:00 PM",location:"Chocolate Dreams",address:"369 Chocolate Street, Springfield, IL",category:"workshop",organizer:"Isabelle Moreau",organizerImage:"https://images.unsplash.com/photo-1481391319762-47dff72954d9?w=400&h=300&fit=crop",attendees:8,maxAttendees:12,price:"$95",images:["https://images.unsplash.com/photo-1481391319762-47dff72954d9?w=400&h=300&fit=crop"],featured:!1,tags:["Hands-on","Take-home Chocolates","Premium Experience"]},{id:7,title:"Wine Tasting at Vineyard Valley",description:"Experience the finest local wines with guided tastings and vineyard tours. Learn about the winemaking process and enjoy stunning vineyard views.",date:"2024-04-20",time:"3:00 PM - 7:00 PM",location:"Vineyard Valley",address:"321 Grape Road, Springfield, IL",category:"tasting",organizer:"Vineyard Valley",organizerImage:"https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop",attendees:35,maxAttendees:40,price:"$55",images:["https://images.unsplash.com/photo-1510812431401-41d2bd2722f3?w=400&h=300&fit=crop"],featured:!1,tags:["Vineyard Tour","Expert Guide","Scenic Views"]},{id:8,title:"Herb Garden Workshop",description:"Learn to grow and use fresh herbs with expert gardener Marc Dubois. Plant your own herb garden and learn culinary and medicinal uses.",date:"2024-04-25",time:"9:00 AM - 12:00 PM",location:"Herb Garden Delights",address:"456 Herb Way, Springfield, IL",category:"workshop",organizer:"Marc Dubois",organizerImage:"https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=300&fit=crop",attendees:15,maxAttendees:20,price:"$40",images:["https://images.unsplash.com/photo-1416879595882-3373a0480b5b?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1544787219-7f47ccb76574?w=400&h=300&fit=crop"],featured:!1,tags:["Hands-on","Take-home Plants","Educational"]}]),c=[{id:"all",name:"All Events",icon:"🎉"},{id:"market",name:"Farmers Markets",icon:"🛒"},{id:"workshop",name:"Workshops",icon:"🔨"},{id:"tasting",name:"Tastings",icon:"🍷"},{id:"festival",name:"Festivals",icon:"🎪"},{id:"tour",name:"Farm Tours",icon:"🚜"}],u=o.filter(f=>t==="all"||f.category===t),m=o.filter(f=>f.featured),l=u.filter(f=>new Date(f.date)>new Date),h=f=>{r(g=>g.includes(f)?g.filter(w=>w!==f):[...g,f]),C.success(a.includes(f)?"Removed from favorites":"Added to favorites")},d=f=>new Date(f).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),b=f=>{const S=new Date(f)-new Date;return Math.ceil(S/(1e3*60*60*24))},v=f=>{const g=b(f.date),w=a.includes(f.id),S=f.attendees>=f.maxAttendees;return e.jsxs("div",{className:"event-card group",children:[e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"aspect-w-16 aspect-h-9 bg-stone-100 rounded-t-2xl overflow-hidden",children:[e.jsx("img",{src:f.images[0],alt:f.title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform duration-500"}),e.jsx("button",{onClick:()=>h(f.id),className:"absolute top-3 right-3 p-2 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-colors duration-300",children:w?e.jsx(vt,{className:"w-5 h-5 text-rose-500"}):e.jsx(Ce,{className:"w-5 h-5 text-stone-600"})}),f.featured&&e.jsx("div",{className:"absolute top-3 left-3 bg-amber-500 text-white text-xs px-2 py-1 rounded-full font-medium",children:"Featured"}),f.images.length>1&&e.jsxs("div",{className:"photo-count",children:["+",f.images.length-1," more"]})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"text-xl font-semibold text-stone-900 group-hover:text-amber-600 transition-colors duration-300",children:f.title}),e.jsx("span",{className:"text-lg font-bold text-amber-600",children:f.price})]}),e.jsx("p",{className:"text-stone-600 text-sm mb-4 line-clamp-2",children:f.description}),e.jsxs("div",{className:"space-y-2 mb-4",children:[e.jsxs("div",{className:"flex items-center text-stone-500 text-sm",children:[e.jsx(Xs,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:d(f.date)}),g>0&&e.jsxs("span",{className:"ml-2 text-amber-600 font-medium",children:["(",g," days away)"]})]}),e.jsxs("div",{className:"flex items-center text-stone-500 text-sm",children:[e.jsx(fe,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:f.time})]}),e.jsxs("div",{className:"flex items-center text-stone-500 text-sm",children:[e.jsx(ue,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:f.location})]})]}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:f.organizerImage,alt:f.organizer,className:"w-8 h-8 rounded-full object-cover mr-3"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-stone-900",children:f.organizer}),e.jsx("p",{className:"text-xs text-stone-500",children:"Organizer"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:f.tags.map((E,B)=>e.jsx("span",{className:"badge-premium text-xs",children:E},B))}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center text-stone-500 text-sm",children:[e.jsx(kt,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:[f.attendees,"/",f.maxAttendees," attending"]})]}),e.jsxs("button",{onClick:()=>n(`/event/${f.id}`),disabled:S,className:`btn-primary btn-small ${S?"opacity-50 cursor-not-allowed":""}`,children:[S?"Event Full":"Learn More",e.jsx(Qs,{className:"w-4 h-4 ml-1"})]})]})]})]},f.id)};return e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx("div",{className:"bg-gradient-to-br from-stone-900 via-amber-900 to-stone-800 text-white py-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Community Events"}),e.jsx("p",{className:"text-xl text-stone-200 mb-8 max-w-3xl mx-auto",children:"Connect with local artisans, learn new skills, and discover the stories behind your favorite local products"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-400 mb-2",children:o.length}),e.jsx("div",{className:"text-stone-300",children:"Upcoming Events"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-400 mb-2",children:o.reduce((f,g)=>f+g.attendees,0)}),e.jsx("div",{className:"text-stone-300",children:"Community Members"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-amber-400 mb-2",children:o.filter(f=>f.featured).length}),e.jsx("div",{className:"text-stone-300",children:"Featured Events"})]})]})]})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[m.length>0&&e.jsxs("div",{className:"mb-12",children:[e.jsxs("div",{className:"flex items-center mb-8",children:[e.jsx(Xt,{className:"w-8 h-8 text-amber-600 mr-3"}),e.jsx("h2",{className:"text-3xl font-bold text-stone-900",children:"Featured Events"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:m.map(v)})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-stone-900 mb-6",children:"Browse by Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:c.map(f=>e.jsxs("button",{onClick:()=>s(f.id),className:`category-card p-4 text-center transition-all duration-300 ${t===f.id?"border-amber-500 bg-amber-50 text-amber-700":"hover:border-stone-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:f.icon}),e.jsx("h3",{className:"font-semibold text-sm",children:f.name})]},f.id))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-stone-900",children:t==="all"?"All Events":`${(x=c.find(f=>f.id===t))==null?void 0:x.name}`}),e.jsxs("p",{className:"text-stone-600",children:[l.length," upcoming events"]})]}),l.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:l.map(v)}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Ne,{className:"w-16 h-16 text-stone-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-xl font-semibold text-stone-900 mb-2",children:"No events found"}),e.jsx("p",{className:"text-stone-600 mb-6",children:"Try selecting a different category or check back later for new events"}),e.jsx("button",{onClick:()=>s("all"),className:"btn-primary",children:"View All Events"})]})]})]})]})}function Kl(){const{id:t}=Gs(),s=le(),[a,r]=i.useState(null),[n,o]=i.useState(!1),[c,u]=i.useState(0),m=[{id:1,title:"Spring Farmers Market Opening",description:"Join us for the grand opening of our spring farmers market! Meet local artisans, sample fresh produce, and enjoy live music. Perfect for families and food enthusiasts. This event celebrates the beginning of the growing season and brings together our vibrant community of local producers and consumers.",longDescription:"The Spring Farmers Market Opening is our biggest event of the year, marking the start of the growing season. This year, we're excited to feature over 50 local vendors including farmers, bakers, cheese makers, and artisans. The event will include live music performances, cooking demonstrations, and activities for children. Come early to get the best selection of fresh, seasonal produce and artisanal products.",date:"2024-03-15",time:"10:00 AM - 4:00 PM",location:"Downtown Plaza",address:"123 Main Street, Springfield, IL",category:"market",organizer:"Springfield Farmers Market Association",organizerImage:"https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop",organizerPhone:"(217) 555-0123",organizerEmail:"info@springfieldfarmersmarket.com",attendees:150,maxAttendees:200,price:"Free",images:["https://images.unsplash.com/photo-1500937386664-56d1dfef3854?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1506806732259-39c2d0268443?w=400&h=300&fit=crop"],featured:!0,tags:["Family-friendly","Live Music","Food Sampling"],highlights:["Over 50 local vendors","Live music performances","Cooking demonstrations","Children's activities","Fresh seasonal produce","Artisanal products"]},{id:2,title:"Artisan Bread Making Workshop",description:"Learn the art of sourdough bread making from master baker Marie Dubois. This hands-on workshop covers everything from starter maintenance to shaping and baking.",longDescription:"This comprehensive workshop is perfect for both beginners and experienced bakers. You'll learn the fundamentals of sourdough bread making, including how to create and maintain a sourdough starter, proper dough handling techniques, shaping methods, and baking strategies. Each participant will take home their own sourdough starter and a freshly baked loaf of bread. All materials and ingredients are provided.",date:"2024-03-20",time:"2:00 PM - 6:00 PM",location:"Rosewood Artisan Bakery",address:"890 Baker Street, Springfield, IL",category:"workshop",organizer:"Marie Dubois",organizerImage:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",organizerPhone:"(217) 555-0789",organizerEmail:"marie@rosewoodbakery.com",attendees:12,maxAttendees:15,price:"$75",images:["https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop","https://images.unsplash.com/photo-1608198093002-ad4e005484ec?w=400&h=300&fit=crop"],featured:!0,tags:["Hands-on","Take-home Bread","Expert Instruction"],highlights:["Learn sourdough starter creation","Hands-on dough handling","Professional shaping techniques","Take home your own starter","Freshly baked bread included","All materials provided"]}];i.useEffect(()=>{const x=m.find(f=>f.id===parseInt(t));x?r(x):(C.error("Event not found"),s("/community"))},[t,s]);const l=()=>{o(!n),C.success(n?"Removed from favorites":"Added to favorites")},h=x=>new Date(x).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),d=x=>{const w=new Date(x)-new Date;return Math.ceil(w/(1e3*60*60*24))};if(!a)return e.jsx("div",{className:"min-h-screen bg-stone-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600 mx-auto mb-4"}),e.jsx("p",{className:"text-stone-600",children:"Loading event details..."})]})});const b=d(a.date),v=a.attendees>=a.maxAttendees;return e.jsxs("div",{className:"min-h-screen bg-stone-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b border-stone-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("button",{onClick:()=>s("/community"),className:"flex items-center text-stone-600 hover:text-amber-600 transition-colors duration-300",children:[e.jsx(wt,{className:"w-5 h-5 mr-2"}),"Back to Community"]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsxs("div",{className:"relative mb-8",children:[e.jsxs("div",{className:"aspect-w-16 aspect-h-9 bg-stone-100 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:a.images[c],alt:a.title,className:"w-full h-96 object-cover"}),e.jsx("button",{onClick:l,className:"absolute top-4 right-4 p-3 bg-white/80 backdrop-blur-sm rounded-full hover:bg-white transition-colors duration-300",children:n?e.jsx(vt,{className:"w-6 h-6 text-rose-500"}):e.jsx(Ce,{className:"w-6 h-6 text-stone-600"})}),a.featured&&e.jsx("div",{className:"absolute top-4 left-4 bg-amber-500 text-white text-sm px-3 py-1 rounded-full font-medium",children:"Featured Event"})]}),a.images.length>1&&e.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:a.images.map((x,f)=>e.jsx("button",{onClick:()=>u(f),className:`w-3 h-3 rounded-full transition-colors duration-300 ${f===c?"bg-amber-600":"bg-stone-300"}`},f))})]}),e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-stone-900 mb-2",children:a.title}),e.jsx("p",{className:"text-stone-600",children:a.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-amber-600",children:a.price}),e.jsx("div",{className:"text-sm text-stone-500",children:"per person"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-4",children:"Event Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(Xs,{className:"w-5 h-5 mr-3 text-amber-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:h(a.date)}),b>0&&e.jsxs("div",{className:"text-sm text-amber-600",children:["(",b," days away)"]})]})]}),e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(fe,{className:"w-5 h-5 mr-3 text-amber-600"}),e.jsx("div",{className:"font-medium",children:a.time})]}),e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(ue,{className:"w-5 h-5 mr-3 text-amber-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.location}),e.jsx("div",{className:"text-sm",children:a.address})]})]}),e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(kt,{className:"w-5 h-5 mr-3 text-amber-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:[a.attendees,"/",a.maxAttendees," attending"]}),e.jsx("div",{className:"text-sm",children:v?"Event is full":"Spots available"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-4",children:"About This Event"}),e.jsx("p",{className:"text-stone-600 leading-relaxed",children:a.longDescription})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-stone-900 mb-4",children:"What to Expect"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.highlights.map((x,f)=>e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full mr-3"}),e.jsx("span",{children:x})]},f))})]})]}),e.jsxs("div",{className:"lg:col-span-1",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Organizer"}),e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("img",{src:a.organizerImage,alt:a.organizer,className:"w-12 h-12 rounded-full object-cover mr-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-stone-900",children:a.organizer}),e.jsx("p",{className:"text-sm text-stone-500",children:a.category})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(ft,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:a.organizerPhone})]}),e.jsxs("div",{className:"flex items-center text-stone-600",children:[e.jsx(Qt,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"text-sm",children:a.organizerEmail})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6 mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-stone-900 mb-4",children:"Event Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.tags.map((x,f)=>e.jsx("span",{className:"badge-premium",children:x},f))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-200 p-6",children:[e.jsx("button",{disabled:v,className:`w-full btn-primary mb-3 ${v?"opacity-50 cursor-not-allowed":""}`,children:v?"Event Full":"Register for Event"}),e.jsx("button",{className:"w-full btn-secondary",children:"Contact Organizer"})]})]})]})})]})}function Ql(){const t=le(),[s,a]=i.useState([]),[r,n]=i.useState({}),[o,c]=i.useState(!1),[u,m]=i.useState(!1),[l,h]=i.useState(!1),[d,b]=i.useState(null),[v,x]=i.useState("cart"),[f,g]=i.useState(null),[w,S]=i.useState(null),[E,B]=i.useState(null),[P,I]=i.useState({street:"",city:"",state:"",zipCode:"",country:""}),[D,W]=i.useState({cardNumber:"",expiryMonth:"",expiryYear:"",cvv:"",cardholderName:""});i.useEffect(()=>{q();const N=A=>{console.log("Cart component cart update event:",{eventUserId:A.detail.userId,currentUserId:d,shouldUpdate:!d&&A.detail.userId===null||d&&A.detail.userId===d}),(!d&&A.detail.userId===null||d&&A.detail.userId===d)&&R()};return window.addEventListener("cartUpdated",N),()=>window.removeEventListener("cartUpdated",N)},[d]);const Y=async()=>{var N,A,L,H;try{const U=await Le();g(U);const K=((N=U.addresses)==null?void 0:N.find(ce=>ce.isDefault))||((A=U.addresses)==null?void 0:A[0]),Q=((L=U.paymentMethods)==null?void 0:L.find(ce=>ce.isDefault))||((H=U.paymentMethods)==null?void 0:H[0]);K&&(S(K),I({street:K.street,city:K.city,state:K.state,zipCode:K.zipCode,country:K.country})),Q&&(B(Q),W({cardNumber:`**** **** **** ${Q.last4}`,expiryMonth:Q.expiryMonth.toString().padStart(2,"0"),expiryYear:Q.expiryYear.toString(),cvv:"",cardholderName:Q.cardholderName}))}catch(U){console.error("Error loading user profile:",U)}},R=()=>{const N=J.getCart(d),A=J.getCartByArtisan(d);console.log("Cart component loadCart:",{currentUserId:d,cartItems:N,groupedCart:A,cartItemsLength:N.length}),a(N),n(A)},q=async()=>{if(xe.getToken())try{const A=await Le();b(A._id),m(!0),h(ut.isGuestUser()),R(),Y()}catch(A){console.error("Error loading user profile:",A),m(!1),b(null),h(!1)}else m(!1),b(null),h(!1),R()},T=(N,A)=>{A<=0?J.removeFromCart(N,d):J.updateQuantity(N,A,d)},Z=N=>{J.removeFromCart(N,d),C.success("Item removed from cart")},te=()=>s.reduce((N,A)=>N+A.quantity,0),F=()=>s.reduce((N,A)=>N+A.price*A.quantity,0),z=async()=>{if(s.length===0){C.error("Your cart is empty");return}if(!u){try{c(!0),await ut.createGuest(),m(!0),h(!0),b(ut.getGuestUserId()),C.success("Guest checkout enabled"),x("delivery")}catch(A){C.error("Failed to enable guest checkout"),console.error("Guest checkout error:",A)}finally{c(!1)}return}const N=J.validateCart(d);if(!N.isValid){C.error("Cart validation failed: "+N.errors.join(", "));return}x("delivery")},p=()=>{if(!P.street||!P.city||!P.state||!P.zipCode){C.error("Please fill in all required delivery address fields");return}S({street:P.street,city:P.city,state:P.state,zipCode:P.zipCode,country:P.country||"Canada"}),x("payment")},k=async()=>{var N,A;c(!0);try{if(!w){C.error("Please select a delivery address");return}if(l){if(!D.cardNumber||!D.expiryMonth||!D.expiryYear||!D.cvv||!D.cardholderName){C.error("Please fill in all payment information fields");return}}else if(!E){C.error("Please select a payment method");return}const L={items:s.map(U=>({productId:U._id,quantity:U.quantity})),deliveryAddress:{street:w.street,city:w.city,state:w.state,zipCode:w.zipCode,country:w.country},deliveryInstructions:"",isGuestOrder:l,...l?{paymentMethod:"credit_card",paymentInfo:{cardNumber:D.cardNumber,expiryMonth:D.expiryMonth,expiryYear:D.expiryYear,cvv:D.cvv,cardholderName:D.cardholderName}}:{paymentMethod:E.type,paymentMethodId:E._id}},H=await Ke.createOrder(L);J.clearCart(d),x("confirmation"),C.success(`Order placed successfully! ${H.orders.length} order${H.orders.length>1?"s":""} created.`)}catch(L){console.error("Error placing order:",L);const H=((A=(N=L.response)==null?void 0:N.data)==null?void 0:A.message)||"Failed to place order. Please try again.";C.error(H)}finally{c(!1)}},M=N=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD"}).format(N);return v==="confirmation"?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Order Confirmed!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:l?"Thank you for your order! We'll send you updates via email. Create an account to track your orders and save your information for future purchases.":"Thank you for your order. We'll send you updates on your order status."}),e.jsxs("div",{className:"space-y-3",children:[!l&&e.jsx("button",{onClick:()=>t("/orders"),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"View My Orders"}),l&&e.jsx("button",{onClick:()=>t("/register"),className:"w-full bg-orange-500 text-white py-2 px-4 rounded-lg hover:bg-orange-600 transition-colors",children:"Create Account to Track Orders"}),e.jsx("button",{onClick:()=>{x("cart"),t("/")},className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Continue Shopping"})]})]})}):v==="payment"?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Payment Information"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3",children:Object.entries(r).map(([N,A])=>{var L,H;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[(L=A.artisan)==null?void 0:L.firstName," ",(H=A.artisan)==null?void 0:H.lastName]}),e.jsx("div",{className:"space-y-2",children:A.items.map(U=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[U.name," x ",U.quantity]}),e.jsx("span",{children:M(U.price*U.quantity)})]},U._id))}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:M(A.subtotal)})]})})]},N)})}),e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:M(F())})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Payment Details"}),!l&&(f==null?void 0:f.paymentMethods)&&f.paymentMethods.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Saved Payment Methods"}),e.jsx("div",{className:"space-y-2",children:f.paymentMethods.map(N=>e.jsx("div",{onClick:()=>{B(N),W({cardNumber:`**** **** **** ${N.last4}`,expiryMonth:N.expiryMonth.toString().padStart(2,"0"),expiryYear:N.expiryYear.toString(),cvv:"",cardholderName:N.cardholderName})},className:`p-3 border rounded-lg cursor-pointer transition-colors ${(E==null?void 0:E._id)===N._id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[N.type==="credit_card"?"Credit Card":"Debit Card",N.isDefault&&e.jsx("span",{className:"text-xs text-orange-600",children:" (Default)"})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:["**** **** **** ",N.last4," • Expires ",N.expiryMonth,"/",N.expiryYear]}),e.jsx("div",{className:"text-sm text-gray-600",children:N.cardholderName})]}),(E==null?void 0:E._id)===N._id&&e.jsx(_t,{className:"w-5 h-5 text-orange-500"})]})},N._id))})]}),l&&e.jsx("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 text-xs",children:"ℹ"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Guest Checkout"}),e.jsx("p",{className:"text-sm text-orange-700",children:"Please enter your payment information below. Your payment details will be securely processed."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),e.jsx("input",{type:"text",value:D.cardNumber,onChange:N=>W({...D,cardNumber:N.target.value}),placeholder:"1234 5678 9012 3456",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",value:`${D.expiryMonth}/${D.expiryYear}`,onChange:N=>{const[A,L]=N.target.value.split("/");W({...D,expiryMonth:A||"",expiryYear:L||""})},placeholder:"MM/YY",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:D.cvv,onChange:N=>W({...D,cvv:N.target.value}),placeholder:"123",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",value:D.cardholderName,onChange:N=>W({...D,cardholderName:N.target.value}),placeholder:"John Doe",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsx("button",{onClick:k,disabled:o,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ke,{className:"w-5 h-5 mr-2"}),"Place Order - ",M(F())]})}),e.jsx("button",{onClick:()=>x("delivery"),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Back to Delivery"})]})]})]})]})})}):v==="delivery"?e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Delivery Information"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Order Summary"}),e.jsx("div",{className:"space-y-3",children:Object.entries(r).map(([N,A])=>{var L,H;return e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsxs("h4",{className:"font-medium text-gray-900 mb-2",children:[(L=A.artisan)==null?void 0:L.firstName," ",(H=A.artisan)==null?void 0:H.lastName]}),e.jsx("div",{className:"space-y-2",children:A.items.map(U=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{children:[U.name," x ",U.quantity]}),e.jsx("span",{children:M(U.price*U.quantity)})]},U._id))}),e.jsx("div",{className:"border-t pt-2 mt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:M(A.subtotal)})]})})]},N)})}),e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:M(F())})]})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delivery Address"}),!l&&(f==null?void 0:f.addresses)&&f.addresses.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Saved Addresses"}),e.jsx("div",{className:"space-y-2",children:f.addresses.map((N,A)=>e.jsx("div",{onClick:()=>{S(N),I({street:N.street,city:N.city,state:N.state,zipCode:N.zipCode,country:N.country})},className:`p-3 border rounded-lg cursor-pointer transition-colors ${(w==null?void 0:w._id)===N._id?"border-emerald-500 bg-emerald-50":"border-amber-200 hover:border-amber-300"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-slate-800",children:[N.label," ",N.isDefault&&e.jsx("span",{className:"text-xs text-emerald-600",children:"(Default)"})]}),e.jsxs("div",{className:"text-sm text-slate-600",children:[N.street,", ",N.city,", ",N.state," ",N.zipCode]})]}),(w==null?void 0:w._id)===N._id&&e.jsx(_t,{className:"w-5 h-5 text-emerald-500"})]})},N._id))})]}),l&&e.jsx("div",{className:"mb-6 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-5 h-5 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsx("span",{className:"text-orange-600 text-xs",children:"ℹ"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-orange-800",children:"Guest Checkout"}),e.jsx("p",{className:"text-sm text-orange-700",children:"Please enter your delivery address below. You can create an account after checkout to save your information for future orders."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),e.jsx("input",{type:"text",value:P.street,onChange:N=>I({...P,street:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),e.jsx("input",{type:"text",value:P.city,onChange:N=>I({...P,city:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Province"}),e.jsx("input",{type:"text",value:P.state,onChange:N=>I({...P,state:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),e.jsx("input",{type:"text",value:P.zipCode,onChange:N=>I({...P,zipCode:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),e.jsx("input",{type:"text",value:P.country,onChange:N=>I({...P,country:N.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Delivery Instructions (Optional)"}),e.jsx("textarea",{rows:3,placeholder:"Any special delivery instructions...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("button",{onClick:p,className:"w-full bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[e.jsx(Ue,{className:"w-5 h-5 mr-2"}),"Continue to Payment"]}),e.jsx("button",{onClick:()=>x("cart"),className:"w-full bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Back to Cart"})]})]})]})]})})}):s.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(be,{className:"w-12 h-12 text-gray-400"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Start shopping to add items to your cart"}),e.jsx("button",{onClick:()=>t("/"),className:"bg-orange-500 text-white py-2 px-6 rounded-lg hover:bg-orange-600 transition-colors mr-2",children:"Start Shopping"})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Shopping Cart"}),e.jsxs("span",{className:"text-gray-600",children:[te()," items"]})]}),e.jsx("div",{className:"space-y-6",children:Object.entries(r).map(([N,A])=>{var L,H,U,K,Q,ce,Ee;return e.jsxs("div",{className:"border rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:e.jsxs("span",{className:"text-orange-600 font-semibold",children:[(H=(L=A.artisan)==null?void 0:L.firstName)==null?void 0:H[0],(K=(U=A.artisan)==null?void 0:U.lastName)==null?void 0:K[0]]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:((Q=A.artisan)==null?void 0:Q.artisanName)||`${(ce=A.artisan)==null?void 0:ce.firstName} ${(Ee=A.artisan)==null?void 0:Ee.lastName}`}),e.jsx("p",{className:"text-sm text-gray-600",children:"Artisan"})]})]}),e.jsx("div",{className:"space-y-4",children:A.items.map(V=>e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:[V.image?e.jsx("img",{src:V.image.startsWith("http")?V.image:`http://localhost:4000${V.image}`,alt:V.name,className:"w-full h-full object-cover rounded-lg",onError:y=>{y.target.style.display="none",y.target.nextSibling.style.display="flex"}}):null,e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{display:V.image?"none":"flex"},children:e.jsx("span",{className:"text-2xl",children:"📦"})})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:V.name}),e.jsx("p",{className:"text-sm text-gray-600",children:V.description}),e.jsxs("p",{className:"text-sm text-gray-500",children:["per ",V.unit]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>T(V._id,V.quantity-1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx(sr,{className:"w-4 h-4"})}),e.jsx("span",{className:"w-12 text-center font-medium",children:V.quantity}),e.jsx("button",{onClick:()=>T(V._id,V.quantity+1),className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center hover:bg-gray-300 transition-colors",children:e.jsx(he,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:M(V.price*V.quantity)}),e.jsxs("p",{className:"text-sm text-gray-500",children:[M(V.price)," each"]})]}),e.jsx("button",{onClick:()=>Z(V._id),className:"text-red-500 hover:text-red-700 transition-colors",children:e.jsx(we,{className:"w-5 h-5"})})]},V._id))}),e.jsx("div",{className:"border-t pt-4 mt-4",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{children:M(A.subtotal)})]})})]},N)})}),e.jsxs("div",{className:"border-t pt-6 mt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("span",{className:"text-lg font-semibold",children:"Total:"}),e.jsx("span",{className:"text-2xl font-bold text-orange-600",children:M(F())})]}),u?e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>t("/"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Continue Shopping"}),e.jsxs("button",{onClick:z,className:"flex-1 bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center",children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),l?"Continue as Guest":"Proceed to Checkout"]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-center text-sm text-gray-600 mb-4",children:e.jsx("p",{children:"Sign in to save your cart and track orders"})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>t("/login"),className:"flex-1 bg-gray-200 text-gray-800 py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors",children:"Sign In"}),e.jsx("button",{onClick:z,disabled:o,className:"flex-1 bg-orange-500 text-white py-3 px-4 rounded-lg hover:bg-orange-600 transition-colors flex items-center justify-center disabled:opacity-50",children:o?e.jsx("span",{children:"Creating Guest Account..."}):e.jsxs(e.Fragment,{children:[e.jsx(be,{className:"w-5 h-5 mr-2"}),"Continue as Guest"]})})]})]})]})]})})})}const Xl=()=>{const t=[{icon:Ce,title:"Support Local Artisans",description:"Your purchases directly support local artisans, craftspeople, and small business owners, helping them sustain their livelihoods and keep their traditions alive.",color:"text-red-600"},{icon:Xt,title:"Fresh, Seasonal Products",description:"Local products are harvested at peak ripeness and delivered quickly, ensuring maximum freshness, flavor, and nutritional value.",color:"text-green-600"},{icon:tr,title:"Reduce Environmental Impact",description:"Shorter transportation distances mean fewer carbon emissions, less packaging waste, and a smaller environmental footprint.",color:"text-blue-600"},{icon:kt,title:"Build Community Connections",description:"Meet the people behind your food, learn their stories, and become part of a vibrant local community network.",color:"text-purple-600"},{icon:Re,title:"Higher Quality Ingredients",description:"Local artisans often use traditional methods and sustainable practices, resulting in superior taste and quality.",color:"text-yellow-600"},{icon:fe,title:"Seasonal Eating",description:"Connect with nature's rhythms by eating what's in season, which is often more nutritious and environmentally sustainable.",color:"text-orange-600"}],s=[{number:"3x",label:"More money stays in your community when you buy local"},{number:"50%",label:"Less transportation emissions compared to imported goods"},{number:"24hrs",label:"Average time from farm to your table"},{number:"100%",label:"Transparency about how your food is produced"}],a=["Visit local markets to meet artisans face-to-face","Join a Community Supported Agriculture (CSA) program","Look for local product labels and certifications","Ask restaurants and stores about their local sourcing","Follow local artisans on social media for updates","Plan meals around seasonal availability"];return e.jsxs("div",{className:"min-h-screen bg-neutral-50",children:[e.jsx("section",{className:"relative py-20 bg-gradient-to-br from-green-50 to-amber-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 text-center",children:[e.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Why Buy Local?"}),e.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto",children:"Discover how choosing local products creates a positive impact on your community, environment, and personal well-being."}),e.jsx(G,{to:"/search",className:"inline-block bg-amber-600 text-white px-8 py-4 rounded-2xl shadow-lg text-lg font-semibold hover:bg-amber-700 transition-colors",children:"Start Shopping Local"})]})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-semibold text-center mb-12",children:"The Benefits of Buying Local"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,n)=>e.jsxs("div",{className:"bg-white rounded-2xl p-8 shadow-md hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-100 flex items-center justify-center mb-6",children:e.jsx(r.icon,{className:`w-8 h-8 ${r.color}`})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.title}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description})]},n))})]})}),e.jsx("section",{className:"py-16 bg-white",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("h2",{className:"text-3xl font-semibold text-center mb-12",children:"The Impact of Your Choices"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:s.map((r,n)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl font-bold text-amber-600 mb-2",children:r.number}),e.jsx("p",{className:"text-gray-600",children:r.label})]},n))})]})}),e.jsx("section",{className:"py-16 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-3xl font-semibold text-center mb-12",children:"How to Start Buying Local"}),e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-md",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Simple Steps to Get Started"}),e.jsx("ul",{className:"space-y-3",children:a.map((r,n)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-amber-600 rounded-full mt-2 mr-3 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600",children:r})]},n))})]}),e.jsxs("div",{className:"bg-amber-50 rounded-xl p-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Ready to Start?"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Explore our marketplace to discover local producers and their amazing products. Every purchase makes a difference in your community."}),e.jsx(G,{to:"/search",className:"inline-block bg-amber-600 text-white px-6 py-3 rounded-xl font-semibold hover:bg-amber-700 transition-colors",children:"Browse Local Products"})]})]})})]})}),e.jsx("section",{className:"py-16 bg-gradient-to-r from-green-600 to-amber-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-6",children:"Join the Local Movement"}),e.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Every time you choose local, you're making a positive impact on your community, environment, and the people who grow your food."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(G,{to:"/search",className:"inline-block bg-white text-amber-600 px-8 py-4 rounded-2xl font-semibold hover:bg-gray-100 transition-colors",children:"Start Shopping"}),e.jsx(G,{to:"/artisans",className:"inline-block border-2 border-white text-white px-8 py-4 rounded-2xl font-semibold hover:bg-white hover:text-amber-600 transition-colors",children:"Meet Our Artisans"})]})]})})]})};function tc(){const[t,s]=i.useState(!!xe.getToken());return i.useEffect(()=>{const a=()=>{s(!!xe.getToken())};a();const r=()=>{a()},n=o=>{s(o.detail.isAuthenticated)};return window.addEventListener("storage",r),window.addEventListener("authStateChanged",n),()=>{window.removeEventListener("storage",r),window.removeEventListener("authStateChanged",n)}},[]),e.jsxs(Ea,{children:[e.jsx(Ki,{}),e.jsxs(ya,{children:[e.jsx(ne,{path:"/",element:e.jsx(Qi,{})}),e.jsx(ne,{path:"/register",element:t?e.jsx(Ae,{to:"/dashboard"}):e.jsx(el,{})}),e.jsx(ne,{path:"/login",element:t?e.jsx(Ae,{to:"/dashboard"}):e.jsx(Xi,{})}),e.jsx(ne,{path:"/dashboard",element:t?e.jsx(tl,{}):e.jsx(Ae,{to:"/login"})}),e.jsx(ne,{path:"/profile",element:t?e.jsx(kl,{}):e.jsx(Ae,{to:"/login"})}),e.jsx(ne,{path:"/account",element:t?e.jsx(Cl,{}):e.jsx(Ae,{to:"/login"})}),e.jsx(ne,{path:"/products",element:t?e.jsx(Tl,{}):e.jsx(Ae,{to:"/login"})}),e.jsx(ne,{path:"/orders",element:t?e.jsx(Il,{}):e.jsx(Ae,{to:"/login"})}),e.jsx(ne,{path:"/artisans",element:e.jsx(sl,{})}),e.jsx(ne,{path:"/buying-local",element:e.jsx(Xl,{})}),e.jsx(ne,{path:"/find-artisans",element:e.jsx(Zl,{})}),e.jsx(ne,{path:"/community",element:e.jsx(Yl,{})}),e.jsx(ne,{path:"/event/:id",element:e.jsx(Kl,{})}),e.jsx(ne,{path:"/search",element:e.jsx(Dl,{})}),e.jsx(ne,{path:"/artisan/:id",element:e.jsx(zl,{})}),e.jsx(ne,{path:"/cart",element:e.jsx(Ql,{})}),e.jsx(ne,{path:"/map",element:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Map View"}),e.jsx("p",{className:"text-gray-600",children:"Coming soon!"})]})})}),e.jsx(ne,{path:"*",element:e.jsx(Ae,{to:"/"})})]})]})}export{tc as default};
